registernamespace("EXPERTUS.SMARTPORTAL.AbstractDetailsWidget");EXPERTUS.SMARTPORTAL.AbstractDetailsWidget={asyncReq:true,labelsBundle:null,isModal:true,responseText:null,responseXml:null,timeOut:null,url:null,serviceAttributes:null,widgetCallingFrom:null,httpRequest:null,bodyHtml:"",uniqueWidgetId:null,widgetTitle:null,xmlutil:null,inline:false,locale:null,SOAPActionName:null,methodName:null,actionKey:null,widgetDetailsObject:null,lovXml:null,setLocale:function(a){this.locale=a;},setSOAPActionName:function(a){this.SOAPActionName=a;},getSOAPActionName:function(){return this.SOAPActionName;},setMethodName:function(a){this.methodName=a;},getMethodName:function(){return this.methodName;},getLocale:function(){return this.locale;},setHttpReqObj:function(a){this.httpRequest=a;},getObjectName:function(){return this.widgetGlobalName;},Trim:function(a){return $.trim(a);},LTrim:function(a){return $.trim(a);},RTrim:function(a){return $.trim(a);},getWidgetInstanceName:function(){return this.widgetGlobalName;
},getResponseXml:function(){return this.responseXml;},convertResponseXml:function(){var b=this.responseText;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(b);this.responseXml=xmlDoc;}catch(a){try{parser=new DOMParser();this.responseXml=parser.parseFromString(b,"text/xml");}catch(a){}}},setEndPointURL:function(a){this.url=a;},getEndPointURL:function(){return this.url;},setActionKey:function(a){this.actionKey=a;},getActionKey:function(){return this.actionKey;},setTimeout:function(a){callback.timeout=a;},getTimeout:function(){return callback.timeout;},setWidgetCallingFrom:function(a){this.widgetCallingFrom=a;},getWidgetCallingFrom:function(){return this.widgetCallingFrom;},setUniqueWidgetId:function(a){this.uniqueWidgetId=a;this.setAlertSpace(a);},setAlertSpace:function(a){var a=document.getElementById("AlertMessage");if(a==null||a==undefined||a==""){(function(b){b("#"+a).parent().append("<div id='AlertMessage'></div>");})(jQuery);}},getUniqueWidgetId:function(){return this.uniqueWidgetId;
},renderDialog:function(params,serviceAttributes){var isResizable=params.resizable;var isDraggable=params.draggable;var isAutoOpen=params.autoOpen;var isModal=params.modal;var panelwidth=params.width;var height=params.height;var wleft=(screen.width-panelwidth)/2;var wtop=60;if(height!="undefined"&&height!="auto"){wtop=(screen.height-height)/2;}var position=[wleft,wtop];var isCloseOnEscape=params.CloseOnEscape;var panelTitle=(params.title==undefined)?this.getWidgetTitle():params.title;var panelButtons=params.buttons;var v=document.createElement("div");var destroyable=params.destroyable;var isAlert=params.isAlert;var body=(params.body==null||params.body=="")?this.bodyHtml:params.body;var uniqueID=this.getUniqueWidgetId();var dialogid=(params.dialogid==undefined)?"":params.dialogid;var stack=params.stack;v.id=uniqueID+dialogid;var btns=new Array("Validate","Change Password ");v.style.position="relative";var obj=document.getElementById(uniqueID+params.parentid);if(obj!=null){obj.appendChild(v);
}else{document.body.appendChild(v);}$("#"+v.id).html(body);jQuery.ui.dialog.defaults.bgiframe=true;var wobj=eval(this.getWidgetInstanceName());var wname=this.getWidgetInstanceName();$(function(){$("#"+v.id).dialog("open");var closeButt={};closeButt[SMARTPORTAL.t("Close")]=function(){wobj.destroyDialog(this,v.id);};var actions=params.dialogActions;if(actions!=undefined&&actions.length>0){for(var i=0;i<actions.length;i++){var fn=actions[i].actionFn;fn=wname+"."+fn+"()";closeButt[actions[i].actionName]=function(){eval(fn);};}}$("#"+v.id).dialog({width:panelwidth,height:height,title:panelTitle,position:position,modal:isModal,resizable:false,bgiframe:true,stack:stack,buttons:closeButt,overlay:{opacity:0.5,background:"black"}});});},destroyDialog:function(a,b){$(a).dialog("destroy");$(a).dialog("close");$("#"+b).remove();},createLoader:function(c){var e="loaderdiv"+c;if(document.getElementById(e)==null&&document.getElementById(c)!=null){var d=document.createElement("div");d.id=e;var a;if(navigator.appName=="Microsoft Internet Explorer"){a=document.getElementById(c).offsetHeight;
}else{a=document.getElementById(c).clientHeight;}var b=document.getElementById(c).offsetWidth;d.innerHTML='<table border="0" style="width: 100%; height: 100%;"><tr><td width="40%" height="'+a+'px">&nbsp;</td><td align="center" height="100%" valign="middle"><div class="loaderimg"><span class="ui-accordion-header">'+SMARTPORTAL.t("Loading Data")+'...</span></div></td><td width="40%" height="'+a+'px">&nbsp;</td></tr></table>';$($("#"+c)).prepend(d);$("#"+e).addClass("loadercontent");$("#"+e).width(b);$("#"+e).height(a);$("#"+e).css("z-index",1003);}},destroyLoader:function(a){var b="loaderdiv"+a;if(document.getElementById(b)!=null){$("#"+b).remove();}},setBodyTemplate:function(e,d){var c=this.panelAttributes.width;c=c.split("px");var b=c[0]-80;var a=c[0]-40;this.bodyHtml="";if(d==true){this.bodyHtml=this.bodyHtml+"<div  style=''></div>";this.bodyHtml=this.bodyHtml+"  <div class='bdc-in'>";}else{this.bodyHtml=this.bodyHtml+"<div id='"+this.uniqueWidgetId+"utilcontainer' ></div><div class='bl'></div>";
this.bodyHtml=this.bodyHtml+"<div class='bdc'>";this.bodyHtml=this.bodyHtml+"<div style='width:"+a+"px;padding:6px;'><div class='top-img'><div class='left-top'></div><div class='middle-bg' style='width:190px;'></div><div class='right-top'></div></div><div class='mid-img' style='width:230px; padding-top:1em;'>";}},setBodyCloseAndFooterTemplate:function(c){var b=this.panelAttributes.width;b=b.split("px");var a=b[0]-80;if(this.inline!=true){this.bodyHtml=this.bodyHtml+"</div><div class='top-img'><div class='left-bot'></div><div class='middle-bg' style='width:190px;'></div><div class='right-bot'></div></div>";this.bodyHtml=this.bodyHtml+"</div><div class='br'></div>";}else{this.bodyHtml=this.bodyHtml+"</div>";}},setHeaderHtml:function(obj){var locale=obj.getLocale();var objName=obj.getObjectName();var width1=this.panelAttributes.width;width1=width1.split("px");var width=width1[0]-14;this.headerHtml="<div class='header' id='headerdiv' style='width:"+width1[0]+"px;'><div class='header-lf'></div><div class='header-md' id='headermddiv' style='width:"+width+"px;'><div class='header-lg'><img src='"+config.data[1].paths[0].componentroot+config.data[1].paths[3].imgpath+"logo.gif'/></div>";
var objj=eval(objName+"["+this.widgetIdx+"]");if(this.panelAttributes.close==true){var clickParams="";if(objName!=null&&objName=="EXPERTUS.service.WidgetEngine.dropPolicyWidgetInstances"){clickParams=objName+"["+this.widgetIdx+"].closeWidget()";}else{clickParams="EXPERTUS.util.GlobalMethods.closeWidget("+objName+"["+this.widgetIdx+"])";}this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getCloseButton(objj,clickParams);this.headerHtml=this.headerHtml+"</div></div><div class='header-rt'></div></div>";}if(this.panelAttributes.min==true){this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getMinimizeButton(objj);}if(this.panelAttributes.max==true){this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getMaximizeButton(objj);}if(this.panelAttributes.refresh==true){var clickParams=objName+"["+this.widgetIdx+"].refreshWidget()";this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getRefreshButton(objj,clickParams);}if(this.panelAttributes.showthemes!=null&&(this.panelAttributes.showthemes==true||this.panelAttributes.showthemes=="true")){var clickParams=objName+"["+this.widgetIdx+"].displayChangeThemePopup()";
this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getThemesIcon(objj,clickParams);}if(this.panelAttributes.showlocale!=null&&(this.panelAttributes.showlocale==true||this.panelAttributes.showlocale=="true")){var clickParams=objName+"["+this.widgetIdx+"].displayLocalePopup()";this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getLocaleIcon(objj,clickParams);}if(this.panelAttributes.showReport!=null&&(this.panelAttributes.showReport==true||this.panelAttributes.showReport=="true")){this.headerHtml=this.headerHtml+EXPERTUS.util.GlobalMethods.getReportIcon(objj,clickParams);}if(this.panelAttributes.autoCenter!=null&&(this.panelAttributes.autoCenter==true||this.panelAttributes.autoCenter=="true")){}},setFooterHtml:function(a){this.footerHtml="";this.footerHtml=this.footerHtml+"<div class='dl' width='100%'></div>";this.footerHtml=this.footerHtml+"<div class='dr'></div>";},setGreyOut:function(){var a=document.createElement("div");a.className="mask";a.id="LPPMASK";document.getElementsByTagName("body")[0].appendChild(a);
},dropDownOverLayHide:function(){try{if(this.widgetCallingFrom!=null){var b=$(this.widgetCallingFrom.uniqueWidgetId).getElementsByTagName("select");var d=$(this.widgetCallingFrom.uniqueWidgetId).getElementsByTagName("select").length;for(var a=0;a<d;a++){b[a].style.visibility="hidden";if(b[a].style.visibility=="visible"){b[a].style.visibility="hidden";}}}}catch(c){}},dropDownOverLayShow:function(){try{if(this.widgetCallingFrom!=null){var b=$(this.widgetCallingFrom.uniqueWidgetId).getElementsByTagName("select");var d=$(this.widgetCallingFrom.uniqueWidgetId).getElementsByTagName("select").length;for(var a=0;a<d;a++){b[a].style.visibility="visible";}}}catch(c){}},initiateRequestBase:function(a){this.abortReq();$(this.uniqueWidgetId+a).innerHTML=EXPERTUS.util.GlobalMethods.loaderImage({align:"center"});this.initiateRequest();},initializeWidgetInstance:function(obj){var assignObj=obj.getObjectName()+"=obj";eval(assignObj);},doPrintWidgetHtml:function(){this.getPrinthtml();},doExportWidgetHtml:function(){this.getExporthtml();
},cloneResultSet:function(d){var b=d.getRecordSet();var a=b.getLength();for(var c=0;c<a;c++){this.rsCompleteObj[c]=b.getRecord(c);}this.rsCompleteObj=this.rsCompleteObj.clone();},setResultSetNew:function(f,h){var e=document.getElementById(h).parentNode.childNodes.length;for(var d=0;d<e;d++){h=document.getElementById(h).parentNode.childNodes[d].id;var b=h.lastIndexOf("_");var a=h.substring((b+1),h.length);var g=escape(h+"_"+f.value);if(document.getElementById(g)!=null&&document.getElementById(g).checked==true){}else{this.dontDisplayValues[0]={colName:a,contains:f.value,display:false};}}var c=this.getDataTableObj();c.showPage(1);},setResultSet:function(obj,id){var widObj=this.getWidgetObject();var locale=widObj.getLocale();var existDT=this.getDataTableObj();var existRs=existDT.getRecordSet();existDT.deleteRows(0,existRs.getLength());var colSet=existDT.getColumnSet().keys;var isShow="";var totalCount=0;var isDTEmpty=true;var len=this.rsCompleteObj.length;for(var i=0;i<len;i++){var row=this.rsCompleteObj[i];
if(row!=null){var ll=document.getElementById(id).parentNode.childNodes.length;enabledCheckBoxCount=0;isShow=false;for(var kk=0;kk<ll;kk++){id=document.getElementById(id).parentNode.childNodes[kk].id;var colNameCount=id.lastIndexOf("_");var colName=id.substring((colNameCount+1),id.length);var rowCol="row.getData('"+colName+"')";var idval=escape(id+"_"+eval(rowCol));if(document.getElementById(idval)!=null&&document.getElementById(idval).checked==true){enabledCheckBoxCount++;}}if(enabledCheckBoxCount==ll){isShow=true;totalCount++;}if(isShow){existDT.addRow(row._oData);isDTEmpty=false;}}}if(isDTEmpty==true){if($(this.uniqueWidgetId+"_menu")){$(this.uniqueWidgetId+"_menu").style.display="none";}EXPERTUS.util.GlobalMethods.alerts(this.labelsBundle.i18nSelectDelivery,locale);this.dataTableObj.showTableMessage("<b>"+this.labelsBundle.i18nEnrollmentEmptyTableMesg+"</b>","yui-dt-liner; yui-dt-empty");}else{if($(this.uniqueWidgetId+"_menu")){$(this.uniqueWidgetId+"_menu").style.display="block";}if(existDT.initViewChart=="true"){this.viewChart(this.uniqueWidgetId+"chartView");
}}},getDefaultTimeOut:function(widget){var retValue="";if(this.timeOut!=null){return this.timeOut;}else{if(cfgObj==null||cfgObj=="undefined"){retValue=config.data[3].timeout;}else{var obName=this.getObjectName();var objName=obName.substring("EXPERTUS.service.WidgetEngine.".length,obName.length);var cfgObj=eval("config.data[4]."+objName);retValue=cfgObj;}}return retValue;},setWidgetObject:function(a){this.widgetDetailsObject=a;},setWidgetTitle:function(a){this.widgetTitle=a;},getWidgetTitle:function(){return this.widgetTitle;},getWidgetObject:function(){return this.widgetDetailsObject;},checkLocaleAlreadyLoaded:function(a){if($(a)){return true;}else{return false;}},loadi18nFiles:function(){var h=this.getWidgetInstanceName();var a="EXPERTUS.service.WidgetEngine.".length;var c=h.substring(a,h.length);var d=c.indexOf("Instance");var i=c.substring(0,d);var b="";b=config.data[1].paths[0].componentroot+config.data[1].paths[6].localepath+i+"_labels_"+this.locale+".js";var g=getXMLHttpObj();g.open("GET",b,false);
g.setRequestHeader("Accept-Charset","UTF-8");g.send("");var f=document.createElement("script");f.text=g.responseText;f.setAttribute("charset","UTF-8");f.setAttribute("id",i+"_labels_"+this.locale+".js");document.getElementsByTagName("head")[0].appendChild(f);this.setLocaleJsonObject();},setLocaleJsonObject:function(){var na=this.getWidgetInstanceName();var l="EXPERTUS.service.WidgetEngine.".length;var label=na.substring(l,na.length);var removeBrack=label.indexOf("[");this.labelsBundle=label.substring(0,removeBrack)+"_labels_"+this.getLocale();this.labelsBundle=eval(this.labelsBundle);},getLocaleJsonObject:function(){return this.labelsBundle;},setOnlineRequest:function(a){this.onlineRequest=a;},getOnlineRequest:function(){return this.onlineRequest;},renderBase:function(serviceattributes,obj){this.serviceAttributes=serviceattributes;this.initializeWidgetInstance(obj);this.setWidgetObject(obj);if(this.uniqueWidgetId.toLowerCase().indexOf("lnr")>=0||this.uniqueWidgetId.toLowerCase().indexOf("team")>=0){this.setEndPointURL(config.data[0].url[0].learner_url);
}else{this.setEndPointURL(config.data[0].url[0].admin_url);}this.setActionKey(eval("config.data[1].serviceaction[0]."+this.uniqueWidgetId));},setServiceAttributes:function(a){this.serviceAttributes=a;},setRequestTypeASync:function(a){this.asyncReq=a;},setTitleForXML:function(a){this.xmlTitle=a;},renderErrorCommon:function(){var a=$(this.responseXml).find("faultcode").text();var h=$(this.responseXml).find("faultstring").text();var f="";if(a!=null&&a!=undefined){f+="["+a+"]: ";}f+=h;if(h=="Your session has expired"){var g="";var d=this.getUserName();var c=document.cookie;var e=c.split(";");for(var i=0;i<e.length;i++){var b=e[i].split("=");document.cookie=b[0]+"=";}if(d!=null&&d!=undefined&&d!=""&&d!="guest"){g=resource.base_url+"/?q=user/logout";}else{g=resource.base_url;}window.location.href=g;}else{this.renderError();}},renderError:function(){var b=$(this.responseXml).find("faultcode").text();var a=$(this.responseXml).find("faultstring").text();var d="";if(b!=null&&b!=undefined){d+="["+b+"]: ";
}d+=a;if(document.getElementById("msgDiv")){$("#msgDiv").css("display","block");$("#msgDiv").removeClass("sp_msgbox");$("#msgDiv").addClass("sp_alertbox");$("#msgDiv").html(SMARTPORTAL.t(d));}else{if(document.getElementById("main-content")){var c=document.createElement("div");c.id="msgDiv";$("#main-content").before(c);$("#msgDiv").css("display","block");$("#msgDiv").css("width","688px");$("#msgDiv").addClass("sp_alertbox");$("#msgDiv").html(SMARTPORTAL.t(d));}else{var c=document.createElement("div");c.id="msgDiv";$("div :first").before(c);$("#msgDiv").css("display","block");$("#msgDiv").css("width","688px");$("#msgDiv").css("color","red");$("#msgDiv").addClass("sp_alertbox");$("#msgDiv").html(SMARTPORTAL.t(d));}}return d;},mandatoryCheck:function(b){var e="";var a=true;var c="";var d="";str1=new RegExp();str1.compile("^[s ]*$","gi");if(b!=undefined){if($("#"+b).find(".mandatory")){$("#"+b).find(".mandatory").each(function(){var h=$(this).val();var f=$(this).attr("name");e=$(this).val();
var g=$(this).attr("type");if(g=="checkbox"||g=="radio"){var j=$(this).attr("id");var i=$("input[id="+j+"]:checked").length;if(i==0){c=document.createElement("div");$(c).addClass("local_style_for_div_newid");c.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(c).css({color:"red",display:"none","float":"left","font-size":"0.9em","text-align":"right",width:"50%"});$(c).html(Drupal.t("ERR106"));a=false;}else{a=true;}$("#"+j+"_"+g).html(c);$("#"+this.id+"_newid").show();}else{if(h==""||h==null||h==undefined||str1.test(h)==true){if(g=="select-one"){c=document.createElement("div");$(c).addClass("local_style_for_span_newid");c.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(c).css({color:"red",display:"none","font-size":"0.9em","padding-left":"0px"});$(c).html(SMARTPORTAL.t("Please select ")+" "+SMARTPORTAL.t(f)+".");$(this).after(c);$("#"+this.id+"_newid").show();a=false;}else{if($(this).hasClass("hasDatepicker")){c=document.createElement("div");$(c).addClass("local_style_for_span_newid");
c.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(c).css({color:"red",display:"none","font-size":"0.9em","padding-left":"0px"});$(c).html(SMARTPORTAL.t("Please enter ")+" "+SMARTPORTAL.t(f)+".");d=$(this).next();if($(d).is("img")&&$(d).hasClass("ui-datepicker-trigger")){$(d).after(c);}else{$(this).after(c);}$("#"+this.id+"_newid").show();a=false;}else{c=document.createElement("div");$(c).addClass("local_style_for_span_newid");c.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(c).css({color:"red",display:"none","font-size":"0.9em","padding-left":"0px"});$(c).html(SMARTPORTAL.t("Please enter ")+" "+SMARTPORTAL.t(f)+".");if(f=="Sequence No"){$("#"+this.id+"_ErrMsg").after(c);}else{$(this).after(c);}$("#"+this.id+"_newid").show();a=false;}}}else{$("#"+this.id+"_newid").remove();}}});}}return a;},addAccordionToTable:function(k,i,c,b,j,f,e,a){if(k!=undefined&&b!=undefined&&j!=undefined){var g=$(f).parents("td");$("."+k).each(function(){$(this).css("background-position",c);});var h=$(f).parent("td").siblings().length;
if(String(g.parent().next().attr("class")).indexOf(b+" dt-acc-row")<0){$("tr."+b+" > td > div").slideUp({complete:function(){if(a!=undefined&&a==true){$(this).parent().parent().remove();}else{$(this).parent().parent().css("display","none");}}});var d=g.parent().after("<tr class='"+b+" dt-acc-row'><td colspan='"+h+"'><div class='"+b+"-data' style='display:none;width=100%;'></div></td></tr>").next(0).find("div."+b+"-data");if(j!=undefined){j(d,$(f),e);}$(f).children().css("background-position",i);}else{if(g.parent().next().css("display")=="table-row"||g.parent().next().css("display")!="none"){$(f).children().css("background-position",c);$("tr."+b+" > td > div").slideUp({complete:function(){if(a!=undefined&&a==true){$(this).parent().parent().remove();}else{$(this).parent().parent().css("display","none");}}});}else{$("tr."+b+" > td > div").slideUp({complete:function(){$(this).parent().parent().css("display","none");}});g.parent().next().css("display","table-row");g.parent().after().next(0).find("div."+b+"-data").css("display","block");
$(f).children().css("background-position",i);}}}else{throw ("addAccordionTable : Parameters not specified");}},updateLovOptions:function(e,c,b){var d=document.getElementById(e);d.option=0;var a=1;$(this.lovXml).find("ListItem").each(function(){if($(this).attr("code")==c){$(this).find("Item").each(function(){var h=new Option();var g=$(this).find("Name").text();var f=$(this).find("Code").text();h.text=g;h.value=f;h.title=g;if((g==b)||(f==b)){h.selected=true;}if(g){d.options[a]=h;a++;}});}});},updateAttrValues:function(a,c){var b="";$(this.lovXml).find("ListItem").each(function(){$(this).find("Item").each(function(){if($(this).find("Code").text()==a){b=$(this).find("attr"+c).text();return b;}});});return b;},getLovValue:function(b,d,a){var c="";$(this.lovXml).find("ListItem").each(function(){if($(this).attr("name")==b||$(this).attr("code")==b){$(this).find("Item").each(function(){var f=$(this).find("Name").text();var e=$(this).find("Code").text();if((f==d)||(e==d)){if(a=="Name"||a=="name"){c=f;
}else{c=e;}return false;}});}});return c;},validateFieldCheck:function(b){var e=true;var f="";var c="";var a=true;var d="";if(b!=undefined){if($("#"+b).find(".validateText")){$("#"+b).find(".validateText").each(function(){var g=$(this).val();f=$(this).val();c=f.match(/[^\d\w\s*!<>.,#:&%(-_+=)]/);if(c){d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter a valid text."));$(this).before(d);$("#"+this.id+"_newid").show();a=false;}else{$("#"+this.id+"_newid").remove();}});}if($("#"+b).find(".validateNum")){$("#"+b).find(".validateNum").each(function(){var i=$(this).val();f=$(this).val();var g=i.split(".");if(g[0]==undefined){g[0]="";}if(g[1]==undefined){g[1]="";}var j=$(this).metadata();if(j.formater!=undefined&&j.formater!=""&&j.formater!=null){var h=j.formater.split(".");if(h[0]==undefined){h[0]="";}if(h[1]==undefined){h[1]="";}if(!isNaN(i)){if(h[0]!="*"||h[1]!="*"){}if((h[0].indexOf("#")==0&&h[1].indexOf("#")==0)||(h[0].indexOf("#")==0)||(h[1].indexOf("#")==0)){if((h[0].indexOf("#")==0)&&(!(g[0].length<=h[0].length))&&(h[0].indexOf("*")!=0)){d=document.createElement("div");
d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html("Invalid Number format ");$(this).before(d);$("#"+this.id+"_newid").show();a=false;}if((h[1].indexOf("#")==0)&&(!(g[1].length<=h[1].length))&&(h[1].indexOf("*")!=0)&&g[1]!=""){d=document.createElement("div");d.id=this.id+"_newid";$(d).css({color:"red",display:"none","float":"right"});$(d).html("Invalid Number format ");$(this).before(d);$("#"+this.id+"_newid").show();a=false;}}}else{d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter a valid number."));$(this).before(d);$("#"+this.id+"_newid").show();a=false;}}else{if($(this).val().match(/[^\d\-()]/)){d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter a valid number."));
$(this).before(d);$("#"+this.id+"_newid").show();a=false;}else{$("#"+this.id+"_newid").remove();}}});}if($("#"+b).find(".validatePho")){$("#"+b).find(".validatePho").each(function(){var i=$(this).val();var h=$(this).val();if(h!=""){var g=new RegExp(/^-{0,1}\d*\.{0,1}\d+$/);if(!g.test(h)){d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter no. as: XXXXXXXXXX"));$(this).before(d);$("#"+this.id+"_newid").show();a=false;}else{$("#"+this.id+"_newid").remove();}}else{$("#"+this.id+"_newid").remove();}});}if($("#"+b).find(".validatePh")){$("#"+b).find(".validatePh").each(function(){var i=$(this).val();var h=$(this).val();if(h!=""){var g=new RegExp(/^\d{3}\-\d{3}\-\d{4}$/);if(!g.test(h)){d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter no. as: XXX-XXX-XXXX"));
$(this).before(d);$("#"+this.id+"_newid").show();a=false;}else{$("#"+this.id+"_newid").remove();}}else{$("#"+this.id+"_newid").remove();}});}if($("#"+b).find(".validateDate")){$("#"+b).find(".validateDate").each(function(){var g=$(this).val();var j=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;var i=g.match(j);d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(this).before(d);if(i==null){$(d).html("Date can be mm/dd/yyyy or mm-dd-yyyy.");$("#"+this.id+"_newid").show();a=false;}month=i[1];day=i[3];year=i[5];if(month<1||month>12){$(d).html("Month must be between 1 and 12.");$("#"+this.id+"_newid").show();a=false;}if(day<1||day>31){$(d).html("Day must be between 1 and 31.");$("#"+this.id+"_newid").show();a=false;}if((month==4||month==6||month==9||month==11)&&day==31){$(d).html("Month "+month+" doesn`t have 31 days:");$("#"+this.id+"_newid").show();a=false;}if(month==2){var h=(year%4==0&&(year%100!=0||year%400==0));
if(day>29||(day==29&&!h)){$(d).html("February "+year+" doesn`t have "+day+" days!");$("#"+this.id+"_newid").show();a=false;}}});}if($("#"+b).find(".validateURL")){$("#"+b).find(".validateURL").each(function(){var h=$(this).val();if(h!=""&&h!=null&&h!=undefined){var g=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(!g.test(h)){d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter a valid URL."));$(this).before(d);$("#"+this.id+"_newid").show();a=false;}else{$("#"+this.id+"_newid").remove();}}});}if($("#"+b).find(".validateEmail")){$("#"+b).find(".validateEmail").each(function(){var h=$(this).val();var g=/^((([a-z]|[A-Z]|[0-9]|!|#|$|%|&|'|\*|\+|\-|\/|=|\?|\^|_|`|\{|\||\}|~)+(\.([a-z]|[A-Z]|[0-9]|!|#|$|%|&|'|\*|\+|\-|\/|=|\?|\^|_|`|\{|\||\}|~)+)*)@((((([a-z]|[A-Z]|[0-9])([a-z]|[A-Z]|[0-9]|\-){0,61}([a-z]|[A-Z]|[0-9])\.))*([a-z]|[A-Z]|[0-9])([a-z]|[A-Z]|[0-9]|\-){0,61}([a-z]|[A-Z]|[0-9])\.)[\w]{2,4}|(((([0-9]){1,3}\.){3}([0-9]){1,3}))|(\[((([0-9]){1,3}\.){3}([0-9]){1,3})\])))$/;
d=document.createElement("div");d.id=this.id+"_newid";$("#"+this.id+"_newid").remove();$(d).css({color:"red",display:"none","float":"right"});$(d).html(SMARTPORTAL.t("Please enter a valid e-mail address."));$(this).before(d);if(h!=""){if(!g.test(h)){$("#"+this.id+"_newid").show();a=false;}else{$("#"+this.id+"_newid").remove();}}else{$("#"+this.id+"_newid").remove();}});}}return a;},formatRelatedLinks:function(c){var b='<div id="related_links" style="padding-right:8px;">';b+='<fieldset class="links-fieldset">';b+='<legend align="left">'+SMARTPORTAL.t("Related Links")+"</legend>";for(var a=0;a<c.items.length;a++){b+='<div class="row_link"><div class="bullet_par"><div class="bullet"></div></div><div class="link"><a title="'+c.items[a].desc+'" href="javascript:void(0);" onclick="'+this.getWidgetInstanceName()+"."+c.items[a].jsFunc+'">'+c.items[a].title+"</a></div></div>";}b+="</fieldset>";b+="</div>";return b;},include:function(filename,callback,widgetObj){var LazyLoader={};LazyLoader.timer={};
try{var body=document.getElementsByTagName("head").item(0);var crob=eval(this.getWidgetInstanceName());script=document.createElement("script");script.src=filename;script.type="text/javascript";body.appendChild(script);if(callback){script.onreadystatechange=function(){if(script.readyState=="complete"||script.readyState=="loaded"){callback(script,widgetObj);}};script.onload=function(){callback(script,widgetObj);};if((Prototype.Browser.WebKit&&!navigator.userAgent.match(/Version\/3/))||Prototype.Browser.Opera){LazyLoader.timer[url]=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(LazyLoader.timer[url]);callback(script,widgetObj);}},10);}}}catch(e){}},stringToXml:function(a){try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(a);}catch(b){try{parser=new DOMParser();xmlDoc=parser.parseFromString(a,"text/xml");}catch(b){}}return xmlDoc;},renderNoRecs:function(a,d,c){var b="";if(d!=null&&c!=null&&d!=undefined&&c!=undefined){b='<div style="display: block;"><table style="padding: 5px;width:100%;"><tr><td class="sp_erromsg" width="100%">'+SMARTPORTAL.t(a)+'</td><td align="right"><input type="button" class="spButtonSpan" onclick="'+c+';" value="'+d+'" style="margin-left: 25px;"/></td></tr></table></div>';
}else{b='<div style="display: block;"><table style="width:100%;"><tr><td class="sp_erromsg" width="100%">'+SMARTPORTAL.t(a)+"</td><td></td></tr></table></div>";}return b;},openWindow:function(c,d,a){if(c.options==undefined){c.options="";}if(c.url==undefined){c.url="";}if(c.name==undefined){c.name=="_blank";}var b=window.open(c.url,c.name,c.options);this.checkIfLoaded(b,d,a);},checkIfLoaded:function(b,c,a){if((window.navigator.appName).indexOf("Microsoft")>=0){if(b.document.readyState=="complete"){c(b,a);}else{this.checkIfLoaded(b,c);}}else{b.onload=c(b,a);}},pausescript:function(c){var b=new Date();var a=null;do{a=new Date();}while(a-b<c);},getLearnerDetail:function(a){var b=null;jQuery.ajaxSetup({xhr:function(){try{if(window.ActiveXObject){return new window.ActiveXObject("Microsoft.XMLHTTP");}}catch(f){}return new window.XMLHttpRequest();}});var d=$(".salesforce-widget #widget").attr("data-exp-sess-id");if(typeof d!==typeof undefined&&d!==false){var c=resource.base_host+"/?q=getLearnerInfo/getvalue/"+a+"/"+d;
}else{var c=resource.base_host+"/getLearnerInfo.php?getvalue="+a;}jQuery.ajax({type:"GET",url:c,processData:false,dataType:"text",contentType:"text/xml",async:false,cache:false,success:function(e){b=e;}});return b;},getLearnerId:function(){return this.getLearnerDetail("userid");},getUserName:function(){return this.getLearnerDetail("username");},getUserFullName:function(){return this.getLearnerDetail("userfullname");},getUserEmail:function(){return this.getLearnerDetail("usermail");},getUserRole:function(){return this.getLearnerDetail("userrole");},readCookie:function(e){var c=""+document.cookie;var d=c.indexOf(e);var a=c.indexOf(";",d);if(a==-1){a=c.length;}var b=unescape(c.substring(d+e.length+1,a));return b;},setReportHeader:function(){var a="";a+='<div class="report-header-left"></div><div class="report-header-middle">';a+='<a href="#" title="Home"><img src="'+themepath+'/logo.png" alt="Home" id="logo"></a>';a+='<div id="top-sign" style="padding: 0px 8px 0px 0px; position: relative; top: 25px; color: white; text-align: right; font-family: arial; font-size: 10px; font-weight: bold; text-decoration: none;">';
a+="<br><br><br><br><br></div>";a+='</div><div class="report-header-right"></div>';return a;},setReportFooter:function(){var a="";a+='<div class="region region-footer"><div class="block block-menu contextual-links-region first odd" id="block-menu-menu-footer-menu" style="margin-top:35px;">';a+='<h2 class="title">Footer Menu</h2><div class="content"><ul class="menu"><li class="first leaf"><a title="" href="/?q=node/1">About Us</a></li>';a+='<li class="leaf"><a title="" href="/?q=node/2">Feedback</a></li><li class="leaf"><a title="" href="/?q=node/5">Legal Notices</a></li>';a+='<li class="leaf"><a title="" href="/?q=node/3">Privacy Policy</a></li><li class="last leaf"><a title="" href="/?q=node/4">Trademark</a></li>';a+='</ul></div></div><div class="block block-exp-sp-footer contextual-links-region last even" id="block-exp-sp-footer-footer">';a+='<div class="content"><div id="footer"><div class="copyright-page">';a+='<div class="ftrLeft"><span class="FooterCpyText">v3.2.7.3GA | Copyright 2011 Expertus, Inc. All rights reserved.</span>';
a+='</div><div class="poweredby"><a href="#"><img height="25" width="140" src="sites/all/themes/core/AdministrationTheme/images/powered-by.png"></a></div>';a+="</div></div></div></div></div>";return a;},setHourMin:function(c){var d=Math.floor(c/60);var b=c%60;if(d>1){var f=d+" Hours";}else{var f=d+" Hour";}if(b>0){var a=", "+b+" Mins";}else{var a="";}var e=f+a;return e;},setDrupalCall:function(requestData){var widObj=this;var requestDataType="";if(requestData===undefined||requestData===null){requestData={};}if(requestData.returntype===undefined||requestData.returntype===null){requestDataType="text";}if(requestData.returntype=="xml"){requestDataType="type/xml";}this.currentAjaxRequest=$.ajax({type:"POST",url:resource.drupal_service_url,data:requestData,processData:true,dataType:requestDataType,async:true,beforeSend:function(){},success:function(outputData){if(requestData.returntype=="xml"){widObj.responseText=widObj.Trim(outputData);widObj.convertResponseXml(outputData);widObj.successHandler(outputData);
widObj.destroyLoader(widObj.renderId);}else{if(requestDataType=="text"){var json=eval("("+outputData+")");widObj.successHandler(json);}}},failure:function(msg){widObj.renderError();},error:function(XMLHttpRequest,textStatus,errorThrown){widObj.renderError();}});return this.currentAjaxRequest;},setRedirectUrl:function(a){if(a!=""&&a!=undefined){window.location=this.constructUrl(a);}else{window.location=resource.base_url;}},constructUrl:function(a){if(a!=""&&a!=undefined){return resource.base_url+"/?q="+a;}else{return resource.base_url;}},windowOpen:function(b,h,c,j){h=h!=undefined?h:"ExpertusONE";var d=c!=undefined?c:850;var a=j!=undefined?j:800;var i=h;var k=(window.screen.width-d)/2;var f=(window.screen.height-a)/2;var e="toolbar=yes,menubar=no,scrollbars=yes,status=yes,location=no,resizable=1,width="+d+",height="+a+",left="+k+",top="+f;var g=window.open(b,"",e);if(g){g.focus();return g;}else{alert(SMARTPORTAL.t("Your browser blocked the popup. Disable popup blocker in your browser and try again."));
}},spiltString:function(b,c){var a=b.indexOf(" ",c);if(a==-1){return b;}return b.substring(0,a);},modifiedTime:function(d,b,c){var a="";if(d>0){a=d+" "+SMARTPORTAL.t("days");if(b>0){a+=","+b+" "+SMARTPORTAL.t("hours ago");}else{a+=","+c+" "+SMARTPORTAL.t("mins ago");}}else{if(d==0&&b>0){a=b+" "+SMARTPORTAL.t("hours")+","+c+" "+SMARTPORTAL.t("mins ago");}else{a=c+" "+SMARTPORTAL.t("mins ago");}}return a;},getAlertPopup:function(c){$("#alertMsg-wizard").remove();var b="";b+='<div id="alertMsg-wizard" style="display:none; padding: 0px;">';b+='<table width="100%" border="0" valign="center">';b+='<tr><td height="30"></td></tr>';b+="<tr>";b+='<td align="center"><span><b>'+c+"<b></span><br /></td>";b+="</tr>";b+="</table>";b+="</div>";$("body").append(b);var a={};a[SMARTPORTAL.t("OK")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#alertMsg-wizard").remove();};$("#alertMsg-wizard").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:500,resizable:false,modal:true,title:"Launch",buttons:a,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});
$(".ui-dialog").wrap("<div class='portal-ui-element'></div>");$(".ui-widget-overlay").wrap("<div class='portal-ui-element'></div>");$("#alertMsg-wizard").css({height:"auto",width:"100%"});$("#alertMsg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#alertMsg-wizard").remove();});}};