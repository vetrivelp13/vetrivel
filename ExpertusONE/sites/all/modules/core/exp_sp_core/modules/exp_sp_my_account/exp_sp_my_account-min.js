(function(a){a.widget("ui.myaccountorders",{_init:function(){try{var b=this;this.currTheme=Drupal.settings.ajaxPageState.theme;if(document.getElementById("myaccount-orders-details")){this.renderOrderSearchResults();}}catch(c){}},callbackOrdersLoader:function(c,j,h){try{a("#wizard-form-wrapper").data("myaccountorders").destroyLoader("wizard-form-wrapper");a("#gbox_myaccount-orders-details").show();var i=parseInt(a("#myaccount-orders-details").getGridParam("records"),10);if(i==0){a("#account-pager_center").css("display","none");if(document.getElementById("no-records-id")==null){var k='<div id="no-records-id" class="norecords-msg-profile-page">'+Drupal.t("MSG669")+"</div>";a("#gview_myaccount-orders-details .ui-jqgrid-hdiv").after(k);}}else{a(".norecords-msg-edit-page").css("display","none");a(".no-orderrecords").html("");}a("#next_account-pager").click(function(l){if(!a("#next_account-pager").hasClass("ui-state-disabled")){a("#gbox_myaccount-orders-details").show();a("#gview_myaccount-orders-details").css("min-height","100px");
a("#wizard-form-wrapper").data("myaccountorders").createLoader("wizard-form-wrapper");}});a("#prev_account-pager").click(function(l){if(!a("#prev_account-pager").hasClass("ui-state-disabled")){a("#gbox_myaccount-orders-details").show();a("#gview_myaccount-orders-details").css("min-height","100px");a("#wizard-form-wrapper").data("myaccountorders").createLoader("wizard-form-wrapper");}});a(".ui-pg-selbox").bind("change",function(){a("#gbox_myaccount-orders-details").show();a("#gview_myaccount-orders-details").css("min-height","100px");a("#wizard-form-wrapper").data("myaccountorders").hideOrderPageControls(false);a("#wizard-form-wrapper").data("myaccountorders").createLoader("wizard-form-wrapper");});a(".ui-pg-input").keyup(function(e){if(e.keyCode==13){a("#gbox_myaccount-orders-details").show();a("#gview_myaccount-orders-details").css("min-height","100px");a("#wizard-form-wrapper").data("myaccountorders").createLoader("wizard-form-wrapper");}});a("#gbox_myaccount-orders-details tr:odd").css("background","#f7f7f7");
a("#gbox_myaccount-orders-details tr.ui-jqgrid-labels").css("background","none");a("#gbox_myaccount-orders-details #pg_account-pager tr").css("background","#fff");Drupal.attachBehaviors();var d=a("#wizard-form-wrapper").data("myaccountorders");var b=parseInt(a("#myaccount-orders-details").getGridParam("reccount"),10);var f=true;if(i>10){f=false;}if(i<=b){d.hideOrderPageControls(f);}else{d.showOrderPageControls();}this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){a(".ui-jqgrid-bdiv").css("overflow","visible");a(".ui-jqgrid-bdiv div").css("padding-left","0px");a("#myaccount-orders-details").find("tr td:first-child").css("font-family","ProximaNovaBold").css("color","#474747");a("#myaccount-orders-details").find("tr td:last-child").css("font-family","ProximaNovaBold").css("color","#474747").css("text-transform","uppercase");}else{a(".ui-jqgrid-bdiv").css("overflow","hidden");}}catch(g){}},displayOrderGridValues:function(b,d,g){try{var c=d.colModel.index;
return(g[c]=="undefined"||g[c]==null)?"":g[c];}catch(f){}},hideOrderPageControls:function(b){try{var d=a("#myaccount-orders-details tr.ui-widget-content").filter(":last");if(b){a("#account-pager").hide();if(d.length!=0){d.children("td").css("border","0 none");}}else{a("#account-pager").show();a("#account-pager #account-pager_center #next_account-pager").hide();a("#account-pager #accoount-pager_center #prev_account-pager").hide();a("#account-pager #account-pager_center #sp_1_account-pager").parent().hide();}}catch(c){}},showOrderPageControls:function(){try{a("#account-pager").show();a("#account-pager #account-pager_center #next_account-pager").show();a("#account-pager #account-pager_center #prev_account-pager").show();a("#account-pager #account-pager_center #sp_1_account-pager").parent().show();}catch(b){}},renderOrderSearchResults:function(){try{this.createLoader("wizard-form-wrapper");var f=this;this.currTheme=Drupal.settings.ajaxPageState.theme;var g;if(this.currTheme=="expertusoneV2"){g=93;
}else{g=81;}var h=101,m=99,b=103,d=99,l=101,n=98,c=99,k=98;if(Drupal.settings.user.language!==undefined&&a.inArray(Drupal.settings.user.language,["pt-pt","de","fr","it","ru"])!=-1){var h=110,m=100,b=140,k=140;}var j='$("body").data("myaccountorders")';a("#myaccount-orders-details").jqGrid({url:f.constructUrl("learning/my-account/shopping-cart/results"),datatype:"json",mtype:"GET",colNames:[Drupal.t("LBL884"),Drupal.t("LBL821"),Drupal.t("LBL822"),Drupal.t("LBL040"),Drupal.t("Discount"),Drupal.t("Tax"),Drupal.t("LBL827"),Drupal.t("LBL824")],colModel:[{name:"Orderid",classes:"myaccount-orders-details_Orderid",index:"uc_order_id",title:false,width:h,widgetObj:j,formatter:f.displayOrderGridValues,sortable:true,resizable:false},{name:"Items",classes:"myaccount-orders-details_Count",index:"product_count",title:false,width:m,widgetObj:j,formatter:f.displayOrderGridValues,sortable:true,resizable:false},{name:"OrderDate",classes:"myaccount-orders-details_Date",index:"purchase_date",title:false,width:b,widgetObj:j,formatter:f.displayOrderGridValues,sortable:true,resizable:false},{name:"Price",classes:"myaccount-orders-details_Price",index:"Price",title:false,width:d,widgetObj:j,formatter:f.displayOrderGridValues,sortable:false,resizable:false},{name:"Discount",classes:"myaccount-orders-details_Discount",index:"Discount",title:false,width:l,widgetObj:j,formatter:f.displayOrderGridValues,sortable:false,resizable:false},{name:"Tax",classes:"myaccount-orders-details_Tax",index:"Tax",title:false,width:n,widgetObj:j,formatter:f.displayOrderGridValues,sortable:false,resizable:false},{name:"Total",classes:"myaccount-orders-details_Total",index:"order_total",title:false,width:c,widgetObj:j,formatter:f.displayOrderGridValues,sortable:true,resizable:false},{name:"Invoice",classes:"myaccount-orders-details_Invoice",index:"Invoice",title:false,width:k,widgetObj:j,formatter:f.displayOrderGridValues,sortable:false,resizable:false}],rowNum:10,rowList:[10,20,30],pager:"#account-pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:false,height:"auto",width:902,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,hoverrows:false,onSortCol:function(){f.createLoader("wizard-form-wrapper");
},loadComplete:f.callbackOrdersLoader}).navGrid("#account-pager",{add:false,edit:false,del:false,search:false,refreshtitle:true});a("#jqgh_myaccount-orders-details_Discount").removeClass("ui-jqgrid-sortable");a("#jqgh_myaccount-orders-details_Tax").removeClass("ui-jqgrid-sortable");a("#jqgh_myaccount-orders-details_Price").removeClass("ui-jqgrid-sortable");}catch(i){}}});a.extend(a.ui.myaccountorders.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("#wizard-form-wrapper").myaccountorders();}catch(a){}});function remove_messages(){try{$(".messages").css("display","none");}catch(a){}}function refreshAccountSetting(){try{var a=document.location.toString();window.location=a;}catch(b){}}(function(a){try{a.fn.resetWelcomeText=function(c){document.getElementById("my-account-settings").innerHTML=c;lengthyNameFadeout();};}catch(b){}})(jQuery);function wrapper_alignment(a){if(a=="account-form-edit"){$("fieldset").css("margin-top","39px");
$("#wizard-form-wrapper").css("padding-bottom","0");$(".my-meeting-admin-edit-button-container").css("margin-top","73px");}if(a=="meeting-form-edit"){$("#wizard-form-wrapper").css("min-height","287px");}if(a=="main-form"){$("#wizard-form-wrapper").css("padding-bottom","0");}}function onloadimage(){try{var a=$("#count").val();getstatesforcountryval(a);}catch(b){}}function getstatesforcountryval(c){var b=resource.base_host+"/?q=learning/my-account/countrycheck/"+c;var a=$("#stateid").val();if(c!=""){$.ajax({type:"GET",url:b,data:{get_param:"value"},dataType:"json",success:function(d){$("#state option").remove();$("#state").append($("<option>",{value:"",text:Drupal.t("LBL674")}));$.each(d,function(e,f){$("#state").append($("<option>",{value:f.sta_code,text:f.sta_name}));if(a!=""){$("#state").val(a).attr("selected","selected");}});},complete:function(e,f){if((parseInt(e.status)!=0)&&(parseInt(e.status/100)!=2)){return;}var d=e.responseText;}});}if(c==""){$("#state option").remove();$("#state").html('<option value="">'+Drupal.t("LBL674")+"</option>");
}}