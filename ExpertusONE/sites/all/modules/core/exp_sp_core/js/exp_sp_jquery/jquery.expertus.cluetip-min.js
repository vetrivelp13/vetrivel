(function(a){jQuery.fn.expertusClueTip=function(b){var c=jQuery.extend({type:"",subtype:"",activation:"blur",contentHeader:SMARTPORTAL.t("Similar values exist. Few are listed below."),itemInfo:[],excludeItem:{}},b);return this.each(function(){a.fn.expertusClueTipRender(this.id,b);});};jQuery.fn.expertusClueTipRender=function(b,c){c.activation=(c.activation==undefined)?"blur":c.activation;c.contentHeader=(c.contentHeader==undefined)?SMARTPORTAL.t("Similar values exist. Few are listed below."):c.contentHeader;if(c.type==undefined){return;}var d="<div>"+c.contentHeader+"</div>";a("#"+b).qtip({api:{beforeShow:function(){var e=this;d="";var g=false;var f=resource.service_url+"?actionkey=Autocomplete&type="+c.type+(c.subtype==undefined?"":"&subtype="+c.subtype)+"&q="+this.elements.target.val()+"&isClueTip=true";jQuery.ajax({type:"GET",url:f,dataType:"text",contentType:"text/xml",async:false,success:function(j){var m;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="true";xmlDoc.loadXML(j);
m=xmlDoc;}catch(l){try{parser=new DOMParser();m=parser.parseFromString(j,"text/xml");}catch(l){g=false;}}if(m!=undefined){if(a("Items>Item",m).size()==0){g=false;}else{d="<div>";d+='<div style="float:left;width:95%;font-weight:bold;">'+c.contentHeader+"</div>";d+='<div style="text-align:center;float:right;width:5%"><img title="Close" alt="Close" style="width: 14px; height: 13px; cursor: pointer;" src="'+themepath+'/images/close.jpg" onclick="$(\'#'+b+"').qtip('hide');\" id=\"cluetip-close\"></div>";d+='<div style="clear:both;"></div>';d+='<div style="border-bottom: 1px solid #77BB11;clear:both;margin:5px 0;"></div>';d+='<ul style="font-size:.9em;">';var i=c.excludeItem;var h=c.itemInfo;var k=0;a("Items>Item",m).each(function(){if(i!=undefined){var n=i.key;var r=i.value;if(a(n,this).text()!=r){d+='<li style="padding:2px 0;">';if(h!=undefined){for(var q=0;q<h.length;q++){var o=h[q].show;var p=h[q].key;d+=o+" "+a(p,this).text();d+=", ";}}d+="</li>";g=true;}else{g=g?true:false;}}else{d+="<li>";
if(h!=undefined){for(var q=0;q<h.length;q++){var o=h[q].show;var p=h[q].key;d+=o+" "+a(p,this).text();d+=", ";}}d+="</li>";g=true;}if(k==5){return false;}k++;});d+="</ul>";d+='<div style="border-bottom: 1px solid #77BB11;clear:both;margin:9px 0 5px 0;"></div>';d+="</div>";if(!g){d="";}if(g){e.updateContent(d,false);}}}}});return g;}},show:c.activation,hide:{when:{event:"unfocus"},effect:"slide"},position:{corner:{target:"rightTop",tooltip:"leftTop"}},style:{width:275,background:"#F2F2F2",border:{color:"#4F4F7A"},tip:{corner:"leftTop",color:"#4F4F7A",size:{x:10,y:4}}}});};})(jQuery);