(function(a){a.widget("ui.announcements",{_init:function(){try{this.options.inc=1;this.options.announcementInterval;this.options.totalRecords=Drupal.settings.exp_sp_announcement.totalRecords;this.options.block_no_of_display=Drupal.settings.exp_sp_announcement.exp_sp_announcement_block_no_of_display;this.options.block_seconds_pager=Drupal.settings.exp_sp_announcement.exp_sp_announcement_block_seconds_pager;a.ui.announcements.pause_announcement=0;a.ui.announcements.short_txt_def_height=a(".announce-desc").height();a.ui.announcements.ann_img_def_height=a(".announcement_img_div").height();a.ui.announcements.ann_img_def_width=a(".announcement_img_div").width();if(this.options.totalRecords>1){this._showAnnouncement(true);}a("#announcement_details").mouseover(function(){a.ui.announcements.pause_announcement=1;});a("#announcement_details").mouseout(function(){a.ui.announcements.pause_announcement=0;});}catch(b){}},_showAnnouncement:function(d){try{var b=this;a(".button").click(function(){toggleAnnouncementDesc(2);
var e=a(this).attr("id");a("#announce_"+e).show();a("#circle_"+e).removeClass("announce_page_disable");a("#circle_"+e).addClass("announce_page_enable");b.options.inc=parseInt(e)-1;b.autoPaginationCallType1(b.options.block_no_of_display);});b._paginationIntervalType1();}catch(c){}},autoPaginationCallType1:function(c){try{for(var f=1;f<=c;f++){a("#announce_"+f).hide();a("#circle_"+f).removeClass("announce_page_enable");a("#circle_"+f).addClass("announce_page_disable");}if(this.options.inc<this.options.totalRecords){this.options.inc++;}else{this.options.inc=1;}a("#announce_"+this.options.inc).show();a("#circle_"+this.options.inc).removeClass("announce_page_disable");a("#circle_"+this.options.inc).toggleClass("announce_page_enable");var g=this.options.inc-1;var d=a("#"+g+"_announcement_img_div").height();var j=a("#"+g+"_announce-desc").height()-a("#"+g+"_announce-desc").height();var b=a("#"+g+"_announcemnt-img").width()-20;a(".announce-desc").css("width",b+"px");if(this.options.totalRecords>1){a(".announce-desc-pager").css("width",((this.options.totalRecords*23)+35)+"px");
}else{a(".announce-desc-pager").css("width","0px");}j+=d;a(".announcement_img_div").css("height",j+"px");a(".homebanner-limit-title").trunk8(trunk8.homebanner_title);a(".homebanner-limit-desc").trunk8(trunk8.homebanner_desc);}catch(h){}},_paginationIntervalType1:function(){try{var b=this;clearInterval(b.options.announcementInterval);b.options.announcementInterval=setInterval(function(){if(a.ui.announcements.pause_announcement==0){toggleAnnouncementDesc(2);b.autoPaginationCallType1(b.options.block_no_of_display);}},b.options.block_seconds_pager);}catch(c){}}});a.extend(a.ui.announcements,{version:"1.7.3",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});})(jQuery);$(function(){try{$("#announcement_type1").announcements();}catch(a){}});function announcementPopup(d,b){try{$("#announcement-popup").remove();
var a="";a+='<div id="announcement-popup" class="announcement-popup">'+b+"</div>";$("body").append(a);$("#announcement-popup").dialog({position:[(getWindowWidth()-600)/2,100],bgiframe:true,width:600,resizable:false,modal:true,title:SMARTPORTAL.t(d),closeOnEscape:false,draggable:true,overlay:{opacity:0.5,background:"black"}});$("#announcement-popup").show();$(".ui-dialog-titlebar-close").click(function(){$("#announcement-popup").remove();});}catch(c){}}function toggleAnnouncementDesc(f,c){try{$(".announcement-short-desc .short-desc-toggle").hide();$(".announcement-short-desc .long-desc-toggle").hide();if(c==1){$("#"+f+"_announce-desc").removeClass("announce-desc-mxhi");$.ui.announcements.short_txt_def_height=$("#"+f+"_announce-desc").height();$.ui.announcements.ann_img_def_height=$("#"+f+"_announcement_img_div").height();$(".announcement-short-desc #"+f+"_long-desc-toggle").show();var b=$("#"+f+"_announce-desc").height()-$.ui.announcements.short_txt_def_height;if(b>0){var a=$.ui.announcements.ann_img_def_height+b;
$(".announcement_img_div").css("height",a+"px");}}else{$("#"+f+"_announce-desc").addClass("announce-desc-mxhi");$(".announcement_img_div").css("height",$.ui.announcements.ann_img_def_height+"px");$(".announcement-short-desc .short-desc-toggle").show();}}catch(d){}}