<?php
/**
 * Implementation of hook_block_info().
 */
function exp_sp_registrationdetail_block_info() {
	try{
  $blocks = array();
 
  $blocks['learner_registration_deatils'] = array(
    'info' => t('Learner Registration detail Block"'),
  	'cache' => DRUPAL_CACHE_PER_ROLE
  );
  return $blocks;
  } catch (Exception $ex) {
  	watchdog_exception('exp_sp_registrationdetail_block_info', $ex);
  	expertusErrorThrow($ex);
  }
}

/**
 * Implementation of hook_block_view().
 */
function exp_sp_registrationdetail_block_view($delta = ''){
	try{
  $block = array();
  switch ($delta) {
    case 'learner_registration_deatils':
      global $theme;
      $js_module_optional = array('type' => 'file', 'group' => JS_DEFAULT);
      $css_module_optional = array('type' => 'file', 'group' => CSS_DEFAULT);      
      drupal_add_js(drupal_get_path('module', 'exp_sp_learning_learner').'/js/exp_sp_registrationdetail/exp_sp_registrationdetailwidget.js', $js_module_optional);
      drupal_add_js(drupal_get_path('module', 'exp_sp_learning_learner').'/js/exp_sp_registrationdetail/exp_sp_launchwidget.js', $js_module_optional);  	 	
  	  if(getConfigValue('wbt_content_launch_style') == 1) {
	  	drupal_add_js(drupal_get_path('module', 'exp_sp_learning_learner').'/js/exp_sp_registrationdetail/SCORM-API-WRAPPER-MODAL.js', $js_module_optional);
	  } else {
	  	drupal_add_js(drupal_get_path('module', 'exp_sp_learning_learner').'/js/exp_sp_registrationdetail/SCORM-API-WRAPPER.js', $js_module_optional);
	  }
      drupal_add_js(drupal_get_path('module', 'exp_sp_learning_learner').'/js/exp_sp_registrationdetail/SCORM12-LMS-API.js', $js_module_optional);
      drupal_add_js(drupal_get_path('module', 'exp_sp_learning_learner').'/js/exp_sp_registrationdetail/SCORM2004-LMS-API.js', $js_module_optional);
      drupal_add_css(drupal_get_path('module', 'exp_sp_learning_learner') .'/css/exp_sp_registrationdetail_'.$theme.'.css', $css_module_optional);	  
      $block['subject'] = t('Learner Registration detail Block');      
      $block['content'] = "";
      break;
  }
  return $block;
  } catch (Exception $ex) {
  	watchdog_exception('exp_sp_registrationdetail_block_view', $ex);
  	expertusErrorThrow($ex);
  }
}
?>