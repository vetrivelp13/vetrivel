(function(a){a.widget("ui.registeruser",{callMultiSelect:function(k){var c=a("#attr_open").val();var g=this;this.currTheme=Drupal.settings.ajaxPageState.theme;a(".multiselect-custom-dropdown-results").css("display","none");a(".ui-multiselect-menu").css("display","none");a("#avil_"+k).css("display","block");a("#attr_open").val(k);a("#avil_"+c).prev().find("span:last").removeClass("down-tip-arrow").addClass("right-tip-arrow");a("#avil_"+k).prev().find("span:last").removeClass("right-tip-arrow").addClass("down-tip-arrow");var d=a("#load_multiselect_jobrole").val();d=d==""?undefined:d;var b=this.constructUrl("learning/register/jobrole/"+d);var i=this.constructUrl("learning/register/jobrole-autocomplete/"+k);var e=200;var j=28;var f=250;var h;h={url:b,dataType:"json",titlelength:j,searchfilter:{url:i,enable:true},rownum:20,width:f,height:e,onselect:this.onselectfn,onunselect:this.onunselectfn,helpText:{autocomplete:Drupal.t("Search for refine"),checkAll:"Select All",uncheckAll:"Unselect All"},widget:this,afterload:function(){a("#avil_"+k).find(".label-text").addClass("vtip");
vtip();a("#avil_"+k).find(".label-text").each(function(){a("#avil_"+k).data("expmultiselectDropdown")._labelBind(a(this));});a("#autoimg").bind("click",function(){a("#avil_"+k).data("expmultiselectDropdown").options.url=g.constructUrl("learning/register/jobrole/"+a("#load_multiselect_jobrole").val());});}};a("#avil_"+k).expmultiselectDropdown(h);a("#avil_"+k).css("display","block");a("#avil_"+k).find(".footeraccess").hide();a("#avil_"+k).data("expmultiselectDropdown")._callScroll();},onselectfn:function(f,e,g){var c=a(f).attr("id").replace("avil_","");var d=new Array();var b=a("#load_multiselect_"+c).val();if(b!=""){d=b.split(",");}d.push(e.value);a("#load_multiselect_"+c).val(d.join(","));a("#ajax-userregister").data("registeruser").updateSelectedText(c,d.length);a(f).find("#chk .label-text").addClass("vtip");vtip();a(f).find(".label-text").each(function(){a(f).data("expmultiselectDropdown")._labelBind(a(this));});},onunselectfn:function(g,f,h){var c=a(g).attr("id").replace("avil_","");
var e=new Array();var b=a("#load_multiselect_"+c).val();if(b!=""){e=b.split(",");}var d=a.inArray(f.value,e);e.splice(d,1);a("#load_multiselect_"+c).val(e.join(","));a("#ajax-userregister").data("registeruser").updateSelectedText(c,e.length);},updateSelectedText:function(c,e){var f;if(e===undefined){var d=new Array();var b=a("#load_multiselect_"+c).val();if(b!=""){d=b.split(",");}e=d.length;}if(e>0){f=e+" "+Drupal.t("LBL646");}else{f=Drupal.t("LBL674");}a("#menu_"+c).find(".selected-list-text").text(f);}});a.extend(a.ui.registeruser.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("#ajax-userregister").registeruser();}catch(a){}});$(function(){try{$("body").live("click",function(b){if($(b.target).is(".multiselect-custom-dropdown")||($(b.target).parents("div.multiselect-custom-dropdown-results").length&&$(".multiselect-custom-dropdown-results").is(":visible"))){return false;}else{if(!$(b.target).parents(".multiselect-custom-dropdown-results, .multiselect-custom-dropdown").length){$(".multiselect-custom-dropdown-results").hide();
}}});}catch(a){}});function restrictMultiselectTitle(b,a){$("div.ui-multiselect-menu."+b).find(".ui-multiselect-checkboxes label.ui-corner-all span").each(function(){var c=titleRestricted($(this).text(),a);$(this).text(c);});}function onloadimage(){try{var a=$("#count").val();getstatesforcountry(a);$("#ajax-userregister").registeruser();$("#ajax-userregister").data("registeruser").updateSelectedText("jobrole");}catch(b){}}function getstatesforcountry(c){var b=resource.base_host+"/?q=learning/register/countrycheck/"+c;var a=$("#stateid").val();if(c!=""){$.ajax({type:"GET",url:b,data:{get_param:"value"},dataType:"json",success:function(d){$("#state option").remove();$("#state").append($("<option>",{value:"",text:Drupal.t("LBL674")}));$.each(d,function(e,f){$("#state").append($("<option>",{value:f.sta_code,text:f.sta_name}));if(a!=""){$("#state").val(a).attr("selected","selected");}});},complete:function(e,f){if((parseInt(e.status)!=0)&&(parseInt(e.status/100)!=2)){return;}var d=e.responseText;
}});}if(c==""){$("#state option").remove();$("#state").html('<option value="">'+Drupal.t("LBL674")+"</option>");}}