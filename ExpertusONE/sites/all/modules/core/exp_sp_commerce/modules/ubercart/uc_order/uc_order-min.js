var customer_select="";var add_product_browser="";Drupal.behaviors.ucOrderClick={attach:function(a,b){jQuery(".uc-orders-table tr.odd, .uc-orders-table tr.even:not(.ucOrderClick-processed)",a).addClass("ucOrderClick-processed").each(function(){jQuery(this).dblclick(function(){var c=b.ucURL.adminOrders+this.id.substring(6);window.location=c;});});}};Drupal.behaviors.ucOrderSubmit={attach:function(a,b){jQuery("#uc-order-edit-form:not(.ucOrderSubmit-processed)",a).addClass("ucOrderSubmit-processed").submit(function(){jQuery("#products-selector").empty().removeClass();jQuery("#delivery_address_select").empty().removeClass();jQuery("#billing_address_select").empty().removeClass();jQuery("#customer-select").empty().removeClass();});}};jQuery(document).ready(function(){jQuery(".uc-orders-table tr.odd, .uc-orders-table tr.even").each(function(){jQuery(this).dblclick(function(){var a=Drupal.settings.ucURL.adminOrders+this.id.substring(6);window.location=a;});});jQuery("#uc-order-edit-form").submit(function(){jQuery("#products-selector").empty().removeClass();
jQuery("#delivery_address_select").empty().removeClass();jQuery("#billing_address_select").empty().removeClass();jQuery("#customer-select").empty().removeClass();});});function uc_order_copy_shipping_to_billing(){if(jQuery("#edit-delivery-zone").html()!=jQuery("#edit-billing-zone").html()){jQuery("#edit-billing-zone").empty().append(jQuery("#edit-delivery-zone").children().clone());}jQuery("#uc-order-edit-form input, select, textarea").each(function(){if(this.id.substring(0,13)=="edit-delivery"){jQuery("#edit-billing"+this.id.substring(13)).val(jQuery(this).val());}});}function uc_order_copy_billing_to_shipping(){if($("#edit-billing-zone").html()!=$("#edit-delivery-zone").html()){$("#edit-delivery-zone").empty().append($("#edit-billing-zone").children().clone());}$("#uc-order-edit-form input, select, textarea").each(function(){if(this.id.substring(0,12)=="edit-billing"){$("#edit-delivery"+this.id.substring(12)).val($(this).val());}});}function load_address_select(c,d,a){var b={uid:c,type:a,func:"apply_address('"+a+"', this.value);"};
jQuery.post(Drupal.settings.ucURL.adminOrders+"address_book",b,function(e){jQuery(d).empty().addClass("address-select-box").append(e);});}function apply_address(type,address_str){eval("var address = "+address_str+";");jQuery("#edit-"+type+"-first-name").val(address.first_name);jQuery("#edit-"+type+"-last-name").val(address.last_name);jQuery("#edit-"+type+"-phone").val(address.phone);jQuery("#edit-"+type+"-company").val(address.company);jQuery("#edit-"+type+"-street1").val(address.street1);jQuery("#edit-"+type+"-street2").val(address.street2);jQuery("#edit-"+type+"-city").val(address.city);jQuery("#edit-"+type+"-postal-code").val(address.postal_code);if(jQuery("#edit-"+type+"-country").val()!=address.country){jQuery("#edit-"+type+"-country").val(address.country);}jQuery("#edit-"+type+"-zone").val(address.zone);}function close_address_select(a){jQuery(a).empty().removeClass("address-select-box");return false;}function load_customer_search(){if(customer_select=="search"&&jQuery("#customer-select #edit-back").val()==null){return close_customer_select();
}jQuery.post(Drupal.settings.ucURL.adminOrders+"customer",{},function(a){jQuery("#customer-select").empty().addClass("customer-select-box").append(a);jQuery("#customer-select #edit-first-name").val(jQuery("#edit-billing-first-name").val());jQuery("#customer-select #edit-last-name").val(jQuery("#edit-billing-last-name").val());customer_select="search";});return false;}function load_customer_search_results(){jQuery.post(Drupal.settings.ucURL.adminOrders+"customer/search",{first_name:jQuery("#customer-select #edit-first-name").val(),last_name:jQuery("#customer-select #edit-last-name").val(),email:jQuery("#customer-select #edit-email").val()},function(a){jQuery("#customer-select").empty().append(a);});return false;}function select_customer_search(){var b=jQuery("#edit-cust-select").val();var a=b.indexOf(":");return select_existing_customer(b.substr(0,a),b.substr(a+1));}function load_new_customer_form(){if(customer_select=="new"){return close_customer_select();}jQuery.post(Drupal.settings.ucURL.adminOrders+"customer/new",{},function(a){jQuery("#customer-select").empty().addClass("customer-select-box").append(a);
customer_select="new";});return false;}function check_new_customer_address(){var a={email:jQuery("#customer-select #edit-email").val(),sendmail:jQuery("#customer-select #edit-sendmail").attr("checked")};jQuery.post(Drupal.settings.ucURL.adminOrders+"customer/new/check",a,function(b){jQuery("#customer-select").empty().append(b);});return false;}function select_existing_customer(b,a){jQuery("input[name=uid], #edit-uid-text").val(b);jQuery("input[name=primary_email], #edit-primary-email-text").val(a);try{jQuery("#edit-submit-changes").click();}catch(c){}return close_customer_select();}function close_customer_select(){jQuery("#customer-select").empty().removeClass("customer-select-box");customer_select="";return false;}function confirm_line_item_delete(b,a){if(confirm(b)){var c=a.substring(3);jQuery("[name=li_delete_id]").val(c);jQuery("#uc-order-edit-form #edit-submit-changes").get(0).click();}}