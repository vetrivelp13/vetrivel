var buttonPath=null;(function(a){Drupal.wysiwyg.editor.attach.whizzywig=function(b,e,c){if(c.buttonPath){window.buttonPath=c.buttonPath;}if(c.toolbarImagePath){btn._f=c.toolbarImagePath;}else{window.buttonPath="textbuttons";}$field=a("#"+e.field);var d=Drupal.wysiwyg.instances[e.field];d.originalStyle=$field.attr("style");$field.css("width",$field.width()+"px");makeWhizzyWig(e.field,(c.buttons?c.buttons:"all"));a("#whizzy"+e.field).contents().find("body").html(tidyD($field.val()));};Drupal.wysiwyg.editor.detach.whizzywig=function(d,f,b){var e=function(h){var k=whizzies[h],i=a("#"+k),g=Drupal.wysiwyg.instances[k];i.val(g.getContent());if(b=="serialize"){return;}var j=a("#CONTAINER"+k);i.insertBefore(j);j.remove();whizzies.splice(h,1);i.removeAttr("style").attr("style",g.originalStyle);};if(typeof f!="undefined"){for(var c=0;c<whizzies.length;c++){if(whizzies[c]==f.field){e(c);break;}}}else{while(whizzies.length>0){e(0);}}};Drupal.wysiwyg.editor.instance.whizzywig={insert:function(b){insHTML(b.replace(/^js:/,"js&colon;"));
},setContent:function(b){if($field.css("display")=="block"){a("#"+this.field).val(b);}else{var c=a("#whizzy"+this.field).contents()[0];c.open();c.write(b);c.close();}},getContent:function(){var b=a(a("#whizzy"+this.field).contents()[0].documentElement).clone()[0].ownerDocument;if($field.css("display")=="block"){b.body.innerHTML=a("#"+this.field).val();}return tidyH(b);}};})(jQuery);