(function($){if(Drupal.CTools.Modal){Drupal.CTools.Modal.closeCommand=Drupal.CTools.Modal.closeCommand||{};Drupal.CTools.Modal.show=function(choice,expModalTitle,expModalContent,fullScreen){try{var opts={};if(choice&&typeof choice=="string"&&Drupal.settings[choice]){$.extend(true,opts,Drupal.settings[choice]);}else{if(choice){$.extend(true,opts,choice);}}var defaults={modalTheme:"ExpertusCToolsModalTheme",throbberTheme:"CToolsModalThrobber",animation:"fadeIn",animationSpeed:"fast",modalSize:{type:"fixed",width:0.8,height:"auto",display:"table",addWidth:20,addHeight:20,contentRight:25,contentBottom:45},modalOptions:{opacity:0.5,background:"#fff","background-color":"#000",height:"auto"}};var settings={};$.extend(true,settings,defaults,Drupal.settings.CToolsModal,opts);if(Drupal.CTools.Modal.currentSettings&&Drupal.CTools.Modal.currentSettings!=settings){Drupal.CTools.Modal.modal.remove();Drupal.CTools.Modal.modal=null;}Drupal.CTools.Modal.currentSettings=settings;var resize=function(e){var context=e?document:Drupal.CTools.Modal.modal;
if(Drupal.CTools.Modal.currentSettings.modalSize.type=="scale"){var width=$(window).width()*Drupal.CTools.Modal.currentSettings.modalSize.width;var height=$(window).height()*Drupal.CTools.Modal.currentSettings.modalSize.height;}else{var width=Drupal.CTools.Modal.currentSettings.modalSize.width;var height=Drupal.CTools.Modal.currentSettings.modalSize.height;var maxHeight="none";if(Drupal.CTools.Modal.currentSettings.modalSize.maxHeight&&Drupal.CTools.Modal.currentSettings.modalSize.maxHeight>0&&(Drupal.CTools.Modal.currentSettings.modalSize.maxHeight-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom)>0){maxHeight=(Drupal.CTools.Modal.currentSettings.modalSize.maxHeight-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom)+"px";}var minHeight="none";if(Drupal.CTools.Modal.currentSettings.modalSize.minHeight&&Drupal.CTools.Modal.currentSettings.modalSize.minHeight>0&&(Drupal.CTools.Modal.currentSettings.modalSize.minHeight-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom)>0){minHeight=(Drupal.CTools.Modal.currentSettings.modalSize.minHeight-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom)+"px";
}var maxWidth="none";if(Drupal.CTools.Modal.currentSettings.modalSize.maxWidth&&Drupal.CTools.Modal.currentSettings.modalSize.maxWidth>0&&(Drupal.CTools.Modal.currentSettings.modalSize.maxWidth-Drupal.CTools.Modal.currentSettings.modalSize.contentRight)>0){maxWidth=(Drupal.CTools.Modal.currentSettings.modalSize.maxWidth-Drupal.CTools.Modal.currentSettings.modalSize.contentRight)+"px";}var minWidth="none";if(Drupal.CTools.Modal.currentSettings.modalSize.minWidth&&Drupal.CTools.Modal.currentSettings.modalSize.minWidth>0&&(Drupal.CTools.Modal.currentSettings.modalSize.minWidth-Drupal.CTools.Modal.currentSettings.modalSize.contentRight)>0){minWidth=(Drupal.CTools.Modal.currentSettings.modalSize.minWidth-Drupal.CTools.Modal.currentSettings.modalSize.contentRight)+"px";}}var modalHeight=(height=="auto")?"auto":height+Drupal.CTools.Modal.currentSettings.modalSize.addHeight+"px";var modalWidth=(width=="auto")?"auto":width+Drupal.CTools.Modal.currentSettings.modalSize.addWidth+"px";$("div.ctools-modal-content",context).css({width:modalWidth,height:modalHeight});
var modalContentHeight=(height=="auto")?"auto":(height-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom)+"px";var modalContentWidth=(width=="auto")?"auto":(width-Drupal.CTools.Modal.currentSettings.modalSize.contentRight)+"px";$("div.ctools-modal-content .modal-content",context).css({width:modalContentWidth,height:modalContentHeight,"max-height":maxHeight,"min-height":minHeight,"max-width":maxWidth,"min-width":minWidth});};if(!Drupal.CTools.Modal.modal){Drupal.CTools.Modal.modal=$(Drupal.theme(settings.modalTheme,expModalTitle,expModalContent,fullScreen));if(settings.modalSize.type=="scale"){$(window).bind("resize",resize);}}resize();Drupal.CTools.Modal.modalContent(Drupal.CTools.Modal.modal,settings.modalOptions,settings.animation,settings.animationSpeed);if(choice&&typeof choice=="string"&&choice=="ctools-video-style"){$("#modalContent").addClass("ctool-video-modal");}else{if(choice&&typeof choice=="string"&&choice=="ctools-learning-request-style"){$("#modalContent").addClass("ctool-learning-request-modal");
var height=parseInt($("#modalContent").css("height"));var availheight=parseInt(document.documentElement.clientHeight);$("#modalContent").css({top:((availheight-height)/2)+"px"});}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-addedit-style"){$("#modalContent").addClass("ctools-admin-addedit-modal");}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-webanalytics-style"){$("#modalContent").addClass("ctools-admin-webanalytics-modal");}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-pwdpolicy-style"){$("#modalContent").addClass("ctools-admin-pwdpolicy-modal");}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-ldap-setting-addedit-scroll-wrapper"){$("#modalContent").addClass("ctools-admin-ldap-modal");}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-user-points-addedit-wrapper"){$("#modalContent").addClass("ctools-admin-user-points-modal");}else{if(choice&&typeof choice=="string"&&choice=="ctools-mobile-app-style"){$("#modalContent").addClass("ctools-mobile-app-popup");
}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-userreg-style"){$("#modalContent").addClass("ctools-admin-userreg-model");}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-saml-style"){$("#modalContent").addClass("ctools-admin-saml-model");}else{if(choice&&typeof choice=="string"&&choice.indexOf("ctools-content-launch-style")!==-1){$("#modalContent").addClass("ctools-content-launch-style");if(choice!="ctools-content-launch-style"){$("#modalContent").addClass("ctools-content-launch-style-widget");}}else{if(choice&&typeof choice=="string"&&choice=="ctools-admin-iprange-style"){$("#modalContent").addClass("ctools-admin-iprange-modal");}else{$("#modalContent").addClass("ctool-login-modal");}}}}}}}}}}}}if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"&&choice=="ctools-video-style"){$(".popup-block-footer-lert, .popup-block-footer-middle, .popup-block-footer-right").css("background","none");}}catch(e){}};Drupal.CTools.Modal.modal_display=function(ajax,response,status){try{if($("#modalContent").length==0){var settings=Drupal.CTools.Modal.getSettings(ajax.element);
Drupal.CTools.Modal.show(settings,response.title,response.output);}else{$("#modal-title").html(response.title);$("#modal-content").html(response.output);Drupal.ajax.prototype.commands.CtoolsModalAdjust();}Drupal.attachBehaviors();}catch(e){}};Drupal.CTools.Modal.getTopLeftOfWindow=function(){try{var wt=0;if(self.pageYOffset){wt=self.pageYOffset;}else{if(document.documentElement&&document.documentElement.scrollTop){wt=document.documentElement.scrollTop;}else{if(document.body){wt=document.body.scrollTop;}}}var wl=0;if(self.pageXOffset){wl=self.pageXOffset;}else{if(document.documentElement&&document.documentElement.scrollLeft){wl=document.documentElement.scrollLeft;}else{if(document.body){wl=document.body.scrollLeft;}}}return{top:wt,left:wl};}catch(e){}};Drupal.CTools.Modal.modalContent=function(content,css,animation,speed){try{if(!animation){animation="show";}else{if(animation!="fadeIn"&&animation!="slideDown"){animation="show";}}if(!speed){speed="fast";}css=jQuery.extend({position:"absolute",left:"0px",margin:"0px",background:"#000",opacity:".55"},css);
css.filter="alpha(opacity="+(100*css.opacity)+")";content.hide();if($("#modalBackdrop")){$("#modalBackdrop").remove();}if($("#modalContent")){$("#modalContent").remove();}var topLeft=Drupal.CTools.Modal.getTopLeftOfWindow();var wt=topLeft.top;var wl=topLeft.left;var docHeight=$(document).height();var docWidth=$(document).width();$("body").append('<div id="modalBackdrop" style="z-index: 1000; display: none;"></div><div id="modalContent" style="z-index: 1010; position: absolute;">'+$(content).html()+'<input type="hidden" id="modalContentOuterHeight" value="0" /><input type="hidden" id="modalContentOuterWidth" value="0" /><input type="hidden" id="modalBackdropHeight" value="0" /><input type="hidden" id="modalBackdropWidth" value="0" /><input type="hidden" id="modalTop" value="0" /><input type="hidden" id="modalLeft" value="0" /><input type="hidden" id="docHeight" value="'+docHeight+'" /><input type="hidden" id="docWidth" value="'+docWidth+'" /></div>');var winHeight=$(window).height();var winWidth=$(window).width();
if(docHeight<winHeight){docHeight=winHeight;}if(docWidth<winWidth){docWidth=winWidth;}modalEventHandler=function(event){target=null;if(event){target=event.target;}else{event=window.event;target=event.srcElement;}var parents=$(target).parents().get();for(var i in $(target).parents().get()){var position=$(parents[i]).css("position");if(position=="absolute"||position=="fixed"){return true;}}if($(target).filter("*:visible").parents("#modalContent").size()){return true;}if($("#modalContent")){$("#modalContent").get(0).focus();}return false;};$("body").bind("focus",modalEventHandler);$("body").bind("keypress",modalEventHandler);var modalContent=$("#modalContent").css("top","-3000px");var modalContentOuterHeight=modalContent.outerHeight();var modalContentOuterWidth=modalContent.outerWidth();$("#modalContentOuterHeight").val(modalContentOuterHeight);$("#modalContentOuterWidth").val(modalContentOuterWidth);if(docHeight<wt+modalContentOuterHeight){docHeight=wt+modalContentOuterHeight;}if(docWidth<wl+modalContentOuterWidth){docWidth=wl+modalContentOuterWidth;
}$("#modalBackdropHeight").val(docHeight);$("#modalBackdropWidth").val(docWidth);var mdcTop=wt+(winHeight/2)-(modalContentOuterHeight/2);var mdcLeft=wl+(winWidth/2)-(modalContentOuterWidth/2);if(mdcTop<wt){mdcTop=wt;}if(mdcLeft<wl){mdcLeft=wl;}$("#modalTop").val(mdcTop);$("#modalLeft").val(mdcLeft);$("#modalBackdrop").css(css).css("top",0).css("height",docHeight+"px").css("width",docWidth+"px").show();modalContent.css({top:mdcTop+"px",left:mdcLeft+"px"}).hide()[animation](speed);modalContentClose=function(){close();return false;};$(".close").bind("click",modalContentClose);function close(){$(window).unbind("resize",modalContentResize);$("body").unbind("focus",modalEventHandler);$("body").unbind("keypress",modalEventHandler);$(".close").unbind("click",modalContentClose);$(document).trigger("CToolsDetachBehaviors",$("#modalContent"));if(animation=="fadeIn"){animation="fadeOut";}if(animation=="slideDown"){animation="slideUp";}if(animation=="show"){animation="hide";}modalContent.hide()[animation](speed);
var emptyId=$("#empty_id").val();var entityType=$("#entity_value").val();$("#modalContent").remove();$("#modalBackdrop").remove();Drupal.CTools.Modal.executeCloseCommands(emptyId,entityType);}modalContentResize=function(){var topLeft=Drupal.CTools.Modal.getTopLeftOfWindow();var wt=topLeft.top;var wl=topLeft.left;var docHeight=$("#docHeight").val();var docWidth=$("#docWidth").val();var winHeight=$(window).height();var winWidth=$(window).width();if(docHeight<winHeight){docHeight=winHeight;}if(docWidth<winWidth){docWidth=winWidth;}var modalContent=$("#modalContent");var modalContentOuterHeight=modalContent.outerHeight();var modalContentOuterWidth=modalContent.outerWidth();$("#modalContentOuterHeight").val(modalContentOuterHeight);$("#modalContentOuterWidth").val(modalContentOuterWidth);if(docHeight<wt+modalContentOuterHeight){docHeight=wt+modalContentOuterHeight;}if(docWidth<wl+modalContentOuterWidth){docWidth=wl+modalContentOuterWidth;}$("#modalBackdropHeight").val(docHeight);$("#modalBackdropWidth").val(docWidth);
var mdcTop=wt+(winHeight/2)-(modalContentOuterHeight/2);var mdcLeft=wl+(winWidth/2)-(modalContentOuterWidth/2);if(mdcTop<wt){mdcTop=wt;}if(mdcLeft<wl){mdcLeft=wl;}$("#modalTop").val(mdcTop);$("#modalLeft").val(mdcLeft);$("#modalBackdrop").css("height",docHeight+"px").css("width",docWidth+"px").show();modalContent.css("top",mdcTop+"px").css("left",mdcLeft+"px").show();};$(window).bind("resize",modalContentResize);$("#modalContent").focus();$(".limit-title").trunk8(trunk8.admin_title);}catch(e){}};}Drupal.CTools.Modal.dismiss=function(){try{var emptyId=$("#empty_id").val();var entityType=$("#entity_value").val();if(Drupal.CTools.Modal.modal){if(Drupal.CTools.Modal.currentSettings){var animation=Drupal.CTools.Modal.currentSettings.animation;var speed=Drupal.CTools.Modal.currentSettings.animationSpeed;Drupal.CTools.Modal.unmodalContent(Drupal.CTools.Modal.modal,animation,speed);}else{Drupal.CTools.Modal.unmodalContent(Drupal.CTools.Modal.modal);}}Drupal.CTools.Modal.executeCloseCommands(emptyId,entityType);
}catch(e){}};Drupal.CTools.Modal.unmodalContent=function(content,animation,speed){try{if(!animation){var animation="show";}else{if((animation!="fadeOut")&&(animation!="slideUp")){animation="show";}}if(!speed){var speed="fast";}$(window).unbind("resize",modalContentResize);$("body").unbind("focus",modalEventHandler);$("body").unbind("keypress",modalEventHandler);$(".close").unbind("click",modalContentClose);$(document).trigger("CToolsDetachBehaviors",$("#modalContent"));content.each(function(){if(animation=="fadeOut"){$("#modalContent").fadeOut(speed,function(){$("#modalBackdrop").fadeOut(speed,function(){$(this).remove();});$(this).remove();});}else{if(animation=="slideUp"){$("#modalContent").slideUp(speed,function(){$("#modalBackdrop").slideUp(speed,function(){$(this).remove();});$(this).remove();});}else{$("#modalContent").remove();$("#modalBackdrop").remove();}}});}catch(e){}};Drupal.CTools.Modal.executeCloseCommands=function(emptyId,entityType){try{$(".modal-qtips-close").remove();if(typeof Drupal.CTools.Modal.closeCommand.refreshNarrowSearchResults==="undefined"){var allPage=EXPERTUS_SMARTPORTAL_AbstractManager.getCookie("current_page");
crPage=allPage.split("~");crPage[0]=crPage[0].replace("#1","#0");var updatePage=crPage[0]+"~"+crPage[1]+"~"+crPage[2];document.cookie="current_page="+updatePage+"; path=/";}$.each(Drupal.CTools.Modal.closeCommand,function(){if($.isFunction(this.cmd)){this.cmd();}});Drupal.CTools.Modal.closeCommand={};if($("#calendarprimaryview").size()){calRefreshAftClose();}if($.browser.msie&&document.getElementById("narrow-search-text-filter")!=null){$("#narrow-search-text-filter").focus();}if(emptyId!=null&&emptyId!=undefined&&emptyId!=""){entityType=(entityType==null||entityType==undefined||entityType=="")?0:entityType;var url="?q=administration/catalogaccess/delete/"+emptyId+"/"+entityType;$.ajax({type:"POST",url:url,data:"",success:function(respText){res=respText;}});}}catch(e){}};Drupal.theme.prototype.ExpertusCToolsModalTheme=function(expModalTitle,expModalContent,fullScreenEnabled){try{var rclass=(expModalTitle==Drupal.t("Sign In"))?"popup-block-footer-right-login":"";this.currTheme=Drupal.settings.ajaxPageState.theme;
if(fullScreenEnabled!==undefined){expModalContent='<div id="content-to-maximize" class="iframe-wrapper">'+expModalContent+"</div>";}if(this.currTheme=="expertusoneV2"){var html="";html+='<div id="ctools-modal" class="popups-box">';html+='  <div id="ctools-modal-content" class="ctools-modal-content ctools-sample-modal-content'+(fullScreenEnabled!==undefined?" ctools-modal-content-fullscreen-enabled":"")+'">';html+='    <table cellpadding="0" cellspacing="0" class="theme-ctool-popup" id="ctools-face-table">';html+="      <tr>";html+='        <td class="popups" colspan="3" valign="top">';html+='          <div class="popups-container-newui"><div class="block-title-left"><div class="block-title-right">';html+='            <div class="modal-header popups-title block-title-middle">';html+='              <span id="modal-title" class="modal-title">'+expModalTitle+"</span>";html+='              <span class="popups-close"><a class="close" href="#" title= '+Drupal.t("LBL123")+" >"+Drupal.CTools.Modal.currentSettings.closeText+"</a></span>";
html+='              <div class="clear-block"></div>';if(fullScreenEnabled!==undefined){html+='<span class="popups-maximize"><a class="maximize" href="#" title = '+Drupal.t("LBL894")+"></a></span>";html+='<div class="clear-block"></div>';html+='<span class="popups-minimize" style="display: none;"><a class="minimize" href="#" title = '+Drupal.t("LBL893")+"></a></span>";html+='<div class="clear-block"></div>';}html+="            </div></div></div>";html+='            <div id="show_expertus_message"></div>';html+='            <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body">'+expModalContent+"</div></div>";html+="        </td>";html+="      </tr><tr><td>";html+='      <div class="block-footer-left popup-block-footer-lert"></div>';html+='       <div class="block-footer-middle popup-block-footer-middle"></div>';html+='       <div class="block-footer-right popup-block-footer-right '+rclass+'"></div>';html+="      </td></tr>";html+="    </table>";html+="  </div>";
html+="</div>";}else{var html="";html+='<div id="ctools-modal" class="popups-box">';html+='  <div class="ctools-modal-content ctools-sample-modal-content">';html+='    <table cellpadding="0" cellspacing="0" id="ctools-face-table">';html+="      <tr>";html+='        <td class="popups-tl popups-border"></td>';html+='        <td class="popups-t popups-border"></td>';html+='        <td class="popups-tr popups-border"></td>';html+="      </tr>";html+="      <tr>";html+='        <td class="popups-cl popups-border"></td>';html+='        <td class="popups-c" valign="top">';html+='          <div class="popups-container">';html+='            <div class="modal-header popups-title">';html+='              <span id="modal-title" class="modal-title">'+expModalTitle+"</span>";html+='              <span class="popups-close"><a class="close" href="#" title= '+Drupal.t("LBL123")+" >"+Drupal.CTools.Modal.currentSettings.closeText+"</a></span>";html+='              <div class="clear-block"></div>';html+="            </div>";
html+='            <div id="show_expertus_message"></div>';html+='            <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body">'+expModalContent+"</div></div>";html+='            <div class="popups-buttons"></div>';html+='            <div class="popups-footer"></div>';html+="          </div>";html+="        </td>";html+='        <td class="popups-cr popups-border"></td>';html+="      </tr>";html+="      <tr>";html+='        <td class="popups-bl popups-border"></td>';html+='        <td class="popups-b popups-border"></td>';html+='        <td class="popups-br popups-border"></td>';html+="      </tr>";html+="    </table>";html+="  </div>";html+="</div>";}return html;}catch(e){}};Drupal.theme.prototype.CToolsSampleModal=Drupal.theme.prototype.ExpertusCToolsModalTheme;Drupal.theme.prototype.ExpertusCToolsAdminModalTheme=function(expModalTitle,expModalContent){try{this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){var html="";
html+='<div id="ctools-modal" class="popups-box">';html+='  <div class="ctools-modal-content ctools-sample-modal-content">';html+='    <table cellpadding="0" cellspacing="0" class="theme-ctool-popup" id="ctools-face-table">';html+="      <tr>";html+='        <td class="popups" colspan="3" valign="top">';html+='          <div class="popups-container-newui"><div class="block-title-left"><div class="block-title-right">';html+='            <div class="modal-header popups-title block-title-middle">';html+='              <span id="modal-title" class="modal-title">'+expModalTitle+"</span>";html+='              <span class="popups-close"><a class="close" href="#" title= '+Drupal.t("LBL123")+" >"+Drupal.CTools.Modal.currentSettings.closeText+"</a></span>";html+='              <div class="clear-block"></div>';html+="            </div></div></div>";html+='            <div id="show_expertus_message"></div>';html+='            <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body">'+expModalContent+"</div></div>";
html+="        </td>";html+="      </tr><tr><td>";html+='      <div class="block-footer-left popup-block-footer-lert"></div>';html+='       <div class="block-footer-middle popup-block-footer-middle"></div>';html+='       <div class="block-footer-right popup-block-footer-right"></div>';html+="      </td></tr>";html+="    </table>";html+="  </div>";html+="</div>";}else{var html="";html+='<div id="ctools-modal" class="popups-box" >';html+='  <div class="ctools-modal-content ctools-sample-modal-content">';html+='    <table cellpadding="0" cellspacing="0" id="ctools-face-table">';html+="      <tr>";html+='        <td class="popups-tl popups-border"></td>';html+='        <td class="popups-t popups-border"></td>';html+='        <td class="popups-tr popups-border"></td>';html+="      </tr>";html+="      <tr>";html+='        <td class="popups-cl popups-border"></td>';html+='        <td class="popups-c" valign="top">';html+='          <div class="popups-container">';html+='            <div class="modal-header popups-title">';
html+='              <span id="modal-title" class="modal-title">'+expModalTitle+"</span>";html+='              <span class="popups-close"><a class="close" href="#" title='+Drupal.t("LBL123")+' onclick="removeAllQtip(); return false;">'+Drupal.CTools.Modal.currentSettings.closeText+"</a></span>";html+='              <div class="clear-block"></div>';html+="            </div>";html+='            <div id="show_expertus_message"></div>';html+='            <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body admin-popup-with-scroll"><div class="admin-popup-container">'+expModalContent+"</div></div></div>";html+='            <div class="popups-buttons"></div>';html+='            <div class="popups-footer"></div>';html+="          </div>";html+="        </td>";html+='        <td class="popups-cr popups-border"></td>';html+="      </tr>";html+="      <tr>";html+='        <td class="popups-bl popups-border"></td>';html+='        <td class="popups-b popups-border"></td>';
html+='        <td class="popups-br popups-border"></td>';html+="      </tr>";html+="    </table>";html+="  </div>";html+="</div>";}return html;}catch(e){}};Drupal.theme.prototype.CToolsSampleModal=Drupal.theme.prototype.ExpertusCToolsAdminModalTheme;Drupal.theme.prototype.ExpertusCToolsAdminCourseModalTheme=function(expModalTitle,expModalContent){try{this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){html+='<div id="ctools-modal" class="popups-box">';html+='  <div class="ctools-modal-content ctools-sample-modal-content">';html+='    <table cellpadding="0" cellspacing="0" class="theme-ctool-popup" id="ctools-face-table">';html+="      <tr>";html+='        <td class="popups" colspan="3" valign="top">';html+='          <div class="popups-container-newui"><div class="block-title-left"><div class="block-title-right">';html+='            <div class="modal-header popups-title block-title-middle">';html+='              <span id="modal-title" class="modal-title">'+expModalTitle+"</span>";
html+='              <span class="popups-close"><a class="close" href="#" title= '+Drupal.t("LBL123")+" >"+Drupal.CTools.Modal.currentSettings.closeText+"</a></span>";html+='              <div class="clear-block"></div>';html+="            </div></div></div>";html+='            <div id="show_expertus_message"></div>';html+='            <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body">'+expModalContent+"</div></div>";html+="        </td>";html+="       </tr><tr><td>";html+='      <div class="block-footer-left popup-block-footer-lert"></div>';html+='       <div class="block-footer-middle popup-block-footer-middle"></div>';html+='       <div class="block-footer-right popup-block-footer-right"></div>';html+="      </td></tr>";html+="    </table>";html+="  </div>";html+="</div>";}else{var html="";html+='<div id="ctools-modal" class="popups-box" >';html+='  <div class="ctools-modal-content ctools-sample-modal-content">';html+='    <table cellpadding="0" cellspacing="0" id="ctools-face-table">';
html+="      <tr>";html+='        <td class="popups-tl popups-border"></td>';html+='        <td class="popups-t popups-border"></td>';html+='        <td class="popups-tr popups-border"></td>';html+="      </tr>";html+="      <tr>";html+='        <td class="popups-cl popups-border"></td>';html+='        <td class="popups-c" valign="top">';html+='          <div class="popups-container">';html+='            <div class="modal-header popups-title">';html+='              <span id="modal-title" class="modal-title">'+expModalTitle+"</span>";html+='              <span class="popups-close"><a class="close" href="#" title='+Drupal.t("LBL123")+' onclick="removeAllQtip(); return false;">'+Drupal.CTools.Modal.currentSettings.closeText+"</a></span>";html+='              <div class="clear-block"></div>';html+="            </div>";html+='            <div id="show_expertus_message"></div>';html+='            <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body admin-popup-with-scroll admin-popup-course-class-with-scroll"><div class="admin-popup-container">'+expModalContent+"</div></div></div>";
html+='            <div class="popups-buttons"></div>';html+='            <div class="popups-footer"></div>';html+="          </div>";html+="        </td>";html+='        <td class="popups-cr popups-border"></td>';html+="      </tr>";html+="      <tr>";html+='        <td class="popups-bl popups-border"></td>';html+='        <td class="popups-b popups-border"></td>';html+='        <td class="popups-br popups-border"></td>';html+="      </tr>";html+="    </table>";html+="  </div>";html+="</div>";}return html;}catch(e){}};Drupal.theme.prototype.CToolsSampleModal=Drupal.theme.prototype.ExpertusCToolsAdminCourseModalTheme;if(Drupal.ajax){try{abstractDetailWidget=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;if(window.ActiveXObject){jQuery.ajaxSetup({xhr:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}});}Drupal.ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload="1";
var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=v;}}$(this.element).addClass("progress-disabled").attr("disabled",true);if(options.data.indexOf("Save")>0||options.data.indexOf("order_product_creation")>0){var allPage=EXPERTUS_SMARTPORTAL_AbstractManager.getCookie("current_page");if(allPage!=""){crPage=allPage.split("~");crPage[2]=crPage[2].replace("#0","#1");crPage[2]=crPage[2]=="0#1"?"1#1":crPage[2];var updatePage=crPage[0]+"~"+crPage[1]+"~"+crPage[2];document.cookie="current_page="+updatePage+"; path=/";}}if(this.progress.type=="bar"){var progressBar=new Drupal.progressBar("ajax-progress-"+this.element.id,eval(this.progress.update_callback),this.progress.method,eval(this.progress.error_callback));if(this.progress.message){progressBar.setProgress(-1,this.progress.message);}if(this.progress.url){progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);}this.progress.element=$(progressBar.element).addClass("ajax-progress ajax-progress-bar");
this.progress.object=progressBar;$(this.element).after(this.progress.element);}else{if(this.progress.type=="throbber"){this.progress.element=$('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>');if(this.progress.message){$(".throbber",this.progress.element).after('<div class="message">'+this.progress.message+"</div>");}if($(this.element).hasClass("addedit-form-expertusone-throbber")){var wrapperId=$(this.element).data("wrapperid");abstractDetailWidget.createLoader(wrapperId);}else{$(this.element).after(this.progress.element);}}}};Drupal.ajax.prototype.success=function(response,status){if(this.progress.element){if($(this.element).hasClass("addedit-form-expertusone-throbber")){var wrapperId=$(this.element).data("wrapperid");abstractDetailWidget.destroyLoader(wrapperId);}else{$(this.progress.element).remove();}}if(this.progress.object){this.progress.object.stopMonitoring();}$(this.element).removeClass("progress-disabled").removeAttr("disabled");Drupal.freezeHeight();
for(var i in response){if(response[i]["command"]&&this.commands[response[i]["command"]]){this.commands[response[i]["command"]](this,response[i],status);}}if(this.form&&this.form.parents("html").length>0){var settings=this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings);}Drupal.unfreezeHeight();this.settings=null;};Drupal.ajax.prototype.error=function(response,uri){if($("#modal-content #my-login-container")!="undefined"){var errorcontent=new Array();errorcontent[0]=Drupal.t("ERR057");var message_call=expertus_error_message(errorcontent,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}else{alert(Drupal.ajaxError(response,uri));}if(this.progress.element){if($(this.element).hasClass("addedit-form-expertusone-throbber")){var wrapperId=$(this.element).data("wrapperid");abstractDetailWidget.destroyLoader(wrapperId);}else{$(this.progress.element).remove();}}if(this.progress.object){this.progress.object.stopMonitoring();}$(this.wrapper).show();
$(this.element).removeClass("progress-disabled").removeAttr("disabled");if(this.form){var settings=response.settings||this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings);}};}catch(e){}}if(Drupal.ajax.prototype.commands){Drupal.ajax.prototype.commands.CtoolsModalAdjust=function(ajax,response,status){try{if($("#modalContent").length>0){var prevModalContentOuterHeight=$("#modalContentOuterHeight").val();var prevModalContentOuterWidth=$("#modalContentOuterWidth").val();var newModalContentOuterHeight=$("#modalContent").outerHeight();var newModalContentOuterWidth=$("#modalContent").outerWidth();$("#modalContentOuterHeight").val(newModalContentOuterHeight);$("#modalContentOuterWidth").val(newModalContentOuterWidth);var prevModalTop=$("#modalTop").val();var prevModalLeft=$("#modalLeft").val();var newModalTop=prevModalTop;var newModalLeft=prevModalLeft;var winHeight=$(window).height();var winWidth=$(window).width();var topLeft=Drupal.CTools.Modal.getTopLeftOfWindow();var wt=topLeft.top;
var wl=topLeft.left;if(newModalContentOuterHeight!=prevModalContentOuterHeight){if(prevModalContentOuterHeight<winHeight&&newModalContentOuterHeight>winHeight&&prevModalTop>wt){newModalTop=wt;}if(newModalContentOuterHeight<winHeight&&prevModalTop>=wt){newModalTop=wt+(winHeight/2)-(newModalContentOuterHeight/2);}$("#modalContent").css("top",newModalTop+"px");$("#modalTop").val(newModalTop);}if(newModalContentOuterWidth!=prevModalContentOuterWidth){if(prevModalContentOuterWidth<winWidth&&newModalContentOuterWidth>winWidth&&prevModalLeft>wl){newModalLeft=wl;}if(newModalContentOuterWidth<winWidth&&prevModalLeft>=wl){newModalLeft=wl+(winWidth/2)-(newModalContentOuterWidth/2);}$("#modalContent").css("left",newModalLeft+"px");$("#modalLeft").val(newModalLeft);}var docHeight=$("#docHeight").val();var docWidth=$("#docWidth").val();if(docHeight<winHeight){docHeight=winHeight;}if(docWidth<winWidth){docWidth=winWidth;}var lastSavedModalBackdropHeight=$("#modalBackdropHeight").val();var lastSavedModalBackdropWidth=$("#modalBackdropWidth").val();
var modalBackdropHeight=parseInt($("#modalBackdrop").css("height"));var modalBackdropWidth=parseInt($("#modalBackdrop").css("width"));var newModalBackdropHeight=parseInt(newModalTop)+parseInt(newModalContentOuterHeight);var newModalBackdropWidth=parseInt(newModalLeft)+parseInt(newModalContentOuterWidth);if(newModalBackdropHeight<docHeight){newModalBackdropHeight=docHeight;}if(newModalBackdropWidth<docWidth){newModalBackdropWidth=docWidth;}if(newModalBackdropHeight!=modalBackdropHeight){$("#modalBackdrop").css("height",newModalBackdropHeight+"px");$("#modalBackdropHeight").val(newModalBackdropHeight);}if(newModalBackdropWidth!=modalBackdropWidth){$("#modalBackdrop").css("width",newModalBackdropWidth+"px");$("#modalBackdropWidth").val(newModalBackdropWidth);}}}catch(e){}};Drupal.ajax.prototype.commands.refreshvalueresults=function(ajax,response,status){try{$(".fldroles_sel").selectAll();$(".fldroles_sel").moveSelectionTo($(".fldroles_unsel"));var xx=$(".fldroles_unsel").attr("options");$(response.entity_id).each(function(){for(var i=0;
i<xx.length;i++){if(xx[i].value==this){xx[i].selected=true;}}});$(".fldroles_unsel").moveSelectionTo($(".fldroles_sel"));}catch(e){}};}})(jQuery);function launchFullscreen(a){return false;if(a.requestFullscreen){a.requestFullscreen();}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen();}else{if(a.msRequestFullscreen){a.msRequestFullscreen();}else{return false;}}}return true;}function exitFullscreen(){if(document.exitFullscreen){document.exitFullscreen();}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else{if(document.msExitFullscreen){document.msExitFullscreen();}else{return false;}}}return true;}