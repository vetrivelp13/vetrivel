function showUserAnnouncementSettings(){var f=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;var d=f.constructUrl("learning/announcement/"+f.getLearnerId());$.ajax({type:"POST",url:d,data:"",success:function(i){var h=JSON.parse(i);if($(".mylearning-announcement-customization").hasClass("active")){$(".mylearning-announcement-customization").removeClass("active");}else{$(".mylearning-announcement-customization").addClass("active");}$("#announcement-notification").hide();$(".mylearning-announcement-tab .limit-title").trunk8(trunk8.ann_title);$(".mylearning-announcement-tab .limit-desc").trunk8(trunk8.ann_desc);if(h.records==0){$("#no_announcement_msg").toggle();}else{$("#announcement_custom").toggle();jQuery("#announcement_new").jcarousel({scroll:3,initCallback:b,itemLoadCallback:g});if(h.records<=3){$("#block-exp-sp-administration-announcement-announcement-mylearning .jcarousel-skin-tango .jcarousel-clip-horizontal").css("height","110px");$("#block-exp-sp-administration-announcement-announcement-mylearning .jcarousel-skin-tango .jcarousel-container-horizontal").css("height","110px");
$(".jcarousel-control-wrapper").hide();$(".jcarousel-control").hide();$(".jcarousel-next-horizontal").hide();}if(h.records==1){$("#announcement_loader").css("top","60px");$("#announcement_loader").css("left","-210px");$("#block-exp-sp-administration-announcement-announcement-mylearning .jcarousel-skin-tango .jcarousel-container-horizontal").css("width","275px");$("#block-exp-sp-administration-announcement-announcement-mylearning .jcarousel-skin-tango .jcarousel-clip-horizontal").css("width","275px");}else{if(h.records==2){$("#announcement_loader").css("top","60px");$("#announcement_loader").css("left","-66px");$("#block-exp-sp-administration-announcement-announcement-mylearning .jcarousel-skin-tango .jcarousel-container-horizontal").css("width","550px");$("#block-exp-sp-administration-announcement-announcement-mylearning .jcarousel-skin-tango .jcarousel-clip-horizontal").css("width","550px");}}}}});function b(h){jQuery(".jcarousel-control a").bind("click",function(){h.scroll((jQuery.jcarousel.intval(jQuery(this).text())*3)-2);
return false;});jQuery(".jcarousel-next").bind("click",function(){h.next();return false;});jQuery(".jcarousel-prev").bind("click",function(){h.prev();return false;});}function g(i,h){$("#announcement_loader").show();$(".mylearning-announcement-tab .limit-title").trunk8(trunk8.ann_title);$(".mylearning-announcement-tab .limit-desc").trunk8(trunk8.ann_desc);if(i.has(i.first,i.last)){$("#announcement_loader").hide();return;}jQuery.get(f.constructUrl("learning/announcement/"+f.getLearnerId()),{first:i.first,last:i.last},function(j){e(i,i.first,i.last,j);},"json");}function e(k,l,i,h){$("#announcement_loader").hide();k.size(parseInt(h.records));var j=$("#announcement_new").data("announcement");jQuery(h.rows).each(function(m,n){k.add(l+m,j.paintAnnouncementNewTheme(n.cell));});$(".mylearning-announcement-tab .limit-title").trunk8(trunk8.ann_title);$(".mylearning-announcement-tab .limit-desc").trunk8(trunk8.ann_desc);$(function(){$(".announce-shortdescription-list").mouseenter(function(){if($(this).find("span.fade-desc").length>0){$(".announce-fulldescription-list.clone").remove();
$("#"+$(this).data("noticeid")).clone().insertAfter($("#announcement_new")).show().addClass("clone");$(".announce-fulldescription-list.clone").css("width",$(".announce-fulldescription-list.clone").width());$(".announce-fulldescription-list.clone").offset($(this).offset()).mouseleave(function(){$(this).remove();}).jScrollPane();innerWidthCal=(parseInt($(window).width())-parseInt($("#page-container").width()))/2;if((parseInt($(window).width())-innerWidthCal)<(parseInt($(this).offset().left)+parseInt($(".announce-fulldescription-list.clone").width()))){$(".announce-fulldescription-list.clone").css("left","");$(".announce-fulldescription-list.clone").css({right:"0px"});}}}).mouseleave(function(n){var m=n.toElement||n.relatedTarget;if($(m).parents(".announce-fulldescription-list.clone").length==0){$(".announce-fulldescription-list.clone").remove();}$(m).parents(".announce-fulldescription-list.clone").mouseleave(function(){$(".announce-fulldescription-list.clone").remove();});});});}function c(l,m,j,i,k){l.lock();
var h=f.constructUrl("learning/announcement/"+f.getLearnerId()+"&page="+k+"&rows="+i);jQuery.get(h,{per_page:i,page:k},function(n){e(l,m,j,n,k);});}function a(r){var h=r.cell["id"];var o=r.cell["personid"];var l=r.cell["screen_name"];var m=r.cell["image_url"];var j=r.cell["nid"];var i=r.cell["announce_shortdesc"];var q=r.cell["announce_fulldescription"];var n=r.cell["from_date"];var k=r.cell["css"];var p="<li class = 'announce-list-li'><div class ='announcement_list_name'>"+l+"</div><div class ='announcement_list_date'>"+n+"</div><div class ='announcement_list_description'>"+i+"</div></li>";return p;}}function addClass(b){$("#announcement_loader").show();var a=$(b);if($(".jcarousel-control a").hasClass("active")){$(".jcarousel-control a").removeClass("active");}if(a){a.addClass("active");}}function addClassToPrev(){if(!$(".jcarousel-prev").hasClass("jcarousel-prev-disabled-horizontal")){if($(".jcarousel-control a").hasClass("active")){var a=$(".jcarousel-control > .active").attr("class").match(/\d+/)[0];
$(".page"+a).removeClass("active");$(".page"+(a-1)).addClass("active");}}}function addClassToNext(){$("#announcement_loader").show();if(!$(".jcarousel-next").hasClass("jcarousel-next-disabled-horizontal")){if($(".jcarousel-control a").hasClass("active")){var a=$(".jcarousel-control > .active").attr("class").match(/\d+/)[0];$(".page"+a).removeClass("active");a=++a;$(".page"+a).addClass("active");}}}function showUserMyCalendarSettings(){$("#calendar_custom").toggle();if($(".mylearning-calendar-customization").hasClass("active")){$(".mylearning-calendar-customization").removeClass("active");}else{$("#catalog-admin-cal").data("mycalendar").launchMyCalendar();$(".mylearning-calendar-customization").addClass("active");}}function showWhoisOnlineSettings(){try{if($(".mylearning-whoisonline-customization").hasClass("active")){$(".mylearning-whoisonline-customization").removeClass("active");$("#whoisonline-block_start").hide();}else{$(".mylearning-whoisonline-customization").addClass("active");$("#whoisonline-block_start").show();
}var a=$("#expertus-online-users").data("lnrwhoisonline").totalRecords;if(a<=0){$("#expertus-no-online-users-msg").show();$("#expertus-online-users-list").hide();}else{$("#expertus-no-online-users-msg").hide();$("#expertus-online-users-list").show();}$("#expertus-online-users .limit-title-whois-on").trunk8(trunk8.whois_username_title);$("#expertus-online-users .limit-title-whois-jobtitle").trunk8(trunk8.whois_jobtitle);$("#expertus-online-users").data("lnrwhoisonline").refreshGrid();}catch(b){}}function showUserMyTranscriptSettings(){try{$("#div_my_transcript_start").toggle();if($(".mylearning-mytranscript-customization").hasClass("active")){$(".mylearning-mytranscript-customization").removeClass("active");}else{$("#div_my_transcript").data("mytranscript").renderMyTranscript();$(".mylearning-mytranscript-customization").addClass("active");}$("#my_transcript_list .limit-title").trunk8(trunk8.transcript_title);var d=$("#div_my_transcript").data("mytranscript").totalRecords;vtip();var c=0;
var b=Math.ceil(d/10);var a=1;$("#my_transcript_jqgrid tr.ui-widget-content:not(.jqgfirstrow):lt(8)").each(function(e){c+=$(this).height();});$("#div_my_transcript_start").css({height:c+"px",overflow:"hidden"});if(d>8){initializeJScrollPane("transcript");}}catch(f){}}function initializeJScrollPane(c){try{var b,a;if(c=="whoisonline"){b="whoisonline-block_start";a="expertus-online-users-jqgrid";}else{if(c=="transcript"){b="div_my_transcript_start";a="my_transcript_jqgrid";}}$("#"+b).jScrollPane({showArrows:true,maintainPosition:false}).bind("jsp-scroll-y",function(f,m,n,h){try{if(h===true){var i={afterAppend:function(){if(c=="transcript"){$("#my_transcript_list .limit-title").trunk8(trunk8.transcript_title);}else{if(c=="whoisonline"){$("#expertus-online-users .limit-title-whois-on").trunk8(trunk8.whois_username_title);$("#expertus-online-users .limit-title-whois-jobtitle").trunk8(trunk8.whois_jobtitle);}}initializeJScrollPane(c);vtip();},beforeAppend:function(){if(c=="transcript"){$("#div_my_transcript_start").data("jsp").destroy();
}else{if(c=="whoisonline"){var e={overflow:$("#whoisonline-block_start").css("overflow"),padding:$("#whoisonline-block_start").css("padding"),display:$("#whoisonline-block_start").css("display"),height:$("#whoisonline-block_start").css("height"),width:$("#whoisonline-block_start").css("width")};$("#whoisonline-block_start").data("jsp").destroy();$("#whoisonline-block_start").css(e);}}}};var g=$("#"+a).jqGrid("getGridParam","postData");var k=g.page;var l;if(c=="whoisonline"){l=Math.ceil($("#expertus-online-users").data("lnrwhoisonline").totalRecords/8);}else{if(c=="transcript"){l=Math.ceil($("#div_my_transcript").data("mytranscript").totalRecords/10);}}if(k<l){if(c=="transcript"){$("#div_my_transcript").data("mytranscript").createLoader("div_my_transcript_start");$("#my_transcript_jqgrid").jqGrid("appendDataToGrid",i);}else{if(c=="whoisonline"){$("#expertus-online-users").data("lnrwhoisonline").createLoader("whoisonline-block_start");$("#expertus-online-users-jqgrid").jqGrid("appendDataToGrid",i);
}}}}}catch(j){}});}catch(d){}}$(document).ready(function(){if($("#tab_my_enrollment_customized").length>0){enrFilters=JSON.parse(Drupal.settings.enrselectedFilters);var d=Drupal.settings.myenrolmentSearchStr;if(d!=""&&d!=null&&d!=undefined){var e=d.indexOf("&sortBy=");if(e>0){var c=d.substring(e+8,d.length);}else{if(e<0){var c="AZ";}}}statusFilterSubmit("myenrollment",c);}if($("#tab_my_learningplan_customized").length>0){prgFilters=JSON.parse(Drupal.settings.prgselectedFilters);var a=Drupal.settings.myprogramsSearchStr;if(a!=""&&a!=null&&a!=undefined){var e=a.indexOf("&sortBy=");if(e>0){var c=a.substring(e+8,a.length);}else{var c="AZ";}}statusFilterSubmit("myprograms",c);}if($("#tab_instructor_desk_customized").length>0){clsFilters=JSON.parse(Drupal.settings.clsselectedFilters);var b=Drupal.settings.myclassesSearchStr;if(b!=""&&b!=null&&b!=undefined){var e=b.indexOf("&sortBy=");if(e>0){var c=b.substring(e+8,b.length);}else{var c="AZ";}}statusFilterSubmit("myclasses",c);}if($("#announcement_new").length>0){$("#announcement_new").announcement();
}});$(".close-btn").click(function(){$(".mylearning-filter-by").hide();$(".active_block").removeClass("active");});function attachHandlerToFilterIcon(){$(".icon-filter").unbind("click");$(".icon-filter").click(function(){$("#calendar_custom").hide();$("#block-exp-sp-lnrcalendar-mycalendar-mylearning.active").removeClass("active");$("#block-exp-sp-lnrcalendar-mycalendar-mylearning.active").height("");$("#announcement_custom").hide();$("#no_announcement_msg").hide();$("#block-exp-sp-administration-announcement-announcement-mylearning.active").removeClass("active");$("#block-exp-sp-administration-announcement-announcement-mylearning.active").height("");$("#div_my_transcript_start").hide();$("#block-exp-sp-mytranscript-mytranscript-mylearning.active").removeClass("active");$("#block-exp-sp-mytranscript-mytranscript-mylearning.active").height("");customVal=$(this).attr("data1");$(".active_block").removeClass("active");$(".active_block").height("");element=$("#"+customVal);if(element.css("display")=="none"){$(".filter-block").hide();
element.show();$(this).parents(".active_block").addClass("active");if($("#tab_my_enrollment_customized").length>0){tab="learner-myenrollment";getTilHeadheig=$("#"+tab).height();}if($("#tab_my_learningplan_customized").length>0){tab="learner-myprograms";getTilHeadheig=$("#"+tab).height();}if($("#tab_instructor_desk_customized").length>0){tab="learner-myclasses";getTilHeadheig=$("#"+tab).height();}}else{element.hide();$(this).parents(".active_block").removeClass("active");$(".active_block").height("");}return false;});$(".icon-filter-hover .criteria-refine-icon").mouseenter(function(b){var a=$(this).addClass("hover").parent().attr("data1");element=$("#"+a);element.show();});$(".icon-filter-hover .criteria-refine-icon, .icon-filter-menu").mouseleave(function(d){try{if($(this).is(".criteria-refine-icon")){var b=$(this).parent().attr("data1");var h=$("#"+b);var a=$(this);}else{var h=$(this);var a=$(this).siblings(".icon-filter-hover").find(".criteria-refine-icon");}var g=d.toElement||d.relatedTarget;
var c=($(g).attr("id")=="vtip"||$(g).attr("id")=="vtipArrow");if(!c&&$(g).parents(".icon-filter-menu").length==0&&!$(g).is(".icon-filter-menu")){h.hide();a.removeClass("hover");}}catch(f){}});}$(document).ready(function(){attachHandlerToFilterIcon();});$("body").click(function(a){try{var c=$(a.target);if(!c.hasClass("learner-filter-container active_block active")&&c.attr("class")!="mylearning-filter-by filter-block"&&c.parents(".filter-block").length==0&&!c.is(".filter-block")){$(".filter-block").hide();$(".active_block").removeClass("active");$(".active_block").height("");}}catch(b){}});$("body").click(function(a){try{var c=$(a.target);if(!c.hasClass("calendaricon")&&!c.hasClass("ui-corner-all")&&c.attr("id")!="calendar_new"&&c.parents("#calendar_custom").length==0&&a.target.className!="ui-icon ui-icon-circle-triangle-w"&&a.target.className!="ui-icon ui-icon-circle-triangle-e"&&a.target.className!="qtip-close-button-visible"){$("#calendar_custom").hide();$("#block-exp-sp-lnrcalendar-mycalendar-mylearning.active").removeClass("active");
$("#block-exp-sp-lnrcalendar-mycalendar-mylearning.active").height("");}}catch(b){}});$("body").click(function(a){try{var c=$(a.target);if(!c.hasClass("announcementicon")&&c.attr("id")!="announcement_new"&&c.parents("#announcement_custom").length==0&&c.parents("#no_announcement_msg").length==0&&c.attr("id")!="no_announcement_msg"){$("#announcement_custom").hide();$("#no_announcement_msg").hide();$("#block-exp-sp-administration-announcement-announcement-mylearning.active").removeClass("active");$("#block-exp-sp-administration-announcement-announcement-mylearning.active").height("");}}catch(b){}});$("body").click(function(a){try{var c=$(a.target);if(!c.hasClass("transcripticon")&&c.attr("id")!="transcript_new"&&c.parents("#div_my_transcript_start").length==0){$("#div_my_transcript_start").hide();$("#block-exp-sp-mytranscript-mytranscript-mylearning.active").removeClass("active");$("#block-exp-sp-mytranscript-mytranscript-mylearning.active").height("");}}catch(b){}});$("body").click(function(a){try{var c=$(a.target);
if(!c.hasClass("whoisonlineicon")&&c.attr("id")!="whoisonline-block_new"&&c.parents("#whoisonline-block_start").length==0){$("#whoisonline-block_start").hide();$("#block-exp-sp-whoisonline-online-users-mylearning.active").removeClass("active");$("#block-exp-sp-whoisonline-online-users-mylearning.active").height("");}}catch(b){}});$("body").click(function(a){try{if(a.target.className!="settingicon"){$("#block-exp-sp-learning-tab-user-customization").removeClass("active");$("#block-exp-sp-learning-tab-user-customization").height("");}if(!$("#block-exp-sp-learning-tab-user-customization").hasClass("active")){$("#block-exp-sp-learning-tab-user-customization").removeClass("active");$("#block-exp-sp-learning-tab-user-customization").height("");}}catch(b){}});function selectedMenuFilter(b,d,a){try{if($("#learning_filter_"+b+"_"+d).is(":checked")==false){$("#learning_filter_"+b+"_"+d).parent("label").addClass("checkbox-unselected");$("#learning_filter_"+b+"_"+d).parent("label").removeClass("checkbox-selected");
$("#learning_filter_"+b+"_"+d).removeAttr("checked");}else{$("#learning_filter_"+b+"_"+d).parent("label").removeClass("checkbox-unselected");$("#learning_filter_"+b+"_"+d).parent("label").addClass("checkbox-selected");$("#learning_filter_"+b+"_"+d).attr("checked","checked");}if($("#learning_filter_"+b+"_"+d).is(":checked")==false){$("#learning_filter_"+b+"_"+d).removeAttr("checked");}else{$("#learning_filter_"+b+"_"+d).attr("checked","checked");}}catch(c){}}function enrollSortForm(b,c){$("#enroll-result-container .sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});$("#enroll-result-container ."+c).addClass("sortype-high-lighter");searchStr=$.cookie("myenrolment_searchStr")+"&sortBy="+b;var a=this.constructUrl("learning/enrollment-search/all/"+searchStr);$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#paintEnrollmentResults").setGridParam({url:a});$("#paintEnrollmentResults").trigger("reloadGrid",[{page:1}]);
}function getSelectedValues(b,d,a){try{if(b=="myenrollment"){selectedFilterObject=enrFilters;}if(b=="myprograms"){selectedFilterObject=prgFilters;}if(b=="myclasses"){selectedFilterObject=clsFilters;}if(a=="ck"){e1=document.getElementById("learning_filter_"+b+"_"+d);filterVal=document.getElementById("learning_filter_"+b+"_"+d).value;typeVal=document.getElementById("learning_filter_"+b+"_"+d).getAttribute("data1");attrVal=document.getElementById("learning_filter_"+b+"_"+d).getAttribute("data");nameVal=document.getElementById("learning_filter_"+b+"_"+d).getAttribute("name");if(e1.checked){selectedFilterObject.push({attrVal:attrVal,filterVal:filterVal,type:typeVal,name:nameVal});}else{selectedFilterObject=selectedFilterObject.filter(function(e){return e.type!==typeVal;});}}if(a=="dp"){e2=document.getElementById(b+"-"+d);filterVal=e2.options[e2.selectedIndex].value;nameVal=e2.options[e2.selectedIndex].getAttribute("name");typeVal=e2.getAttribute("name");attrVal=e2.options[e2.selectedIndex].getAttribute("data");
var c=selectedFilterObject.some(function(e){return e.type===typeVal;});if(c){selectedFilterObject=selectedFilterObject.filter(function(e){return e.type!==typeVal;});}selectedFilterObject.push({filterVal:filterVal,attrVal:attrVal,type:typeVal,name:nameVal});}if(a=="textparamsearch"){e5=document.getElementById(b+"-textsearch");filterVal=e5.value;if(filterVal==Drupal.t("Type to search")){selectedFilterObject=$.grep(selectedFilterObject,function(g){return g.type!="textsearch";});}else{typeVal=e5.getAttribute("data");var c=selectedFilterObject.some(function(e){return e.type===typeVal;});if(c){selectedFilterObject=selectedFilterObject.filter(function(e){return e.type!==typeVal;});}selectedFilterObject.push({filterVal:filterVal,attrVal:filterVal,type:typeVal,name:typeVal});}}if(a=="other"){e3=document.getElementById(b+"-location");filterVal=e3.value;if(filterVal==Drupal.t("LBL1321")){selectedFilterObject=$.grep(selectedFilterObject,function(g){return g.type!="location";});}else{typeVal=e3.getAttribute("data");
var c=selectedFilterObject.some(function(e){return e.type===typeVal;});if(c){selectedFilterObject=selectedFilterObject.filter(function(e){return e.type!==typeVal;});}selectedFilterObject.push({filterVal:filterVal,attrVal:filterVal,type:typeVal,name:typeVal});}}if(b=="myenrollment"){enrFilters=selectedFilterObject;}if(b=="myprograms"){prgFilters=selectedFilterObject;}if(b=="myclasses"){clsFilters=selectedFilterObject;}}catch(f){}}function clearallFilters(b,a){try{$("#learner-"+b).find("input[type=checkbox]").removeAttr("checked");$("#learner-"+b).find("label.checkbox-selected").removeClass("checkbox-selected").addClass("checkbox-unselected");$("#learner-"+b).find("input[type=text], textarea").val("");$("#learner-"+b).find("select").each(function(){this.selectedIndex=0;});locationTextsearchFilterSetPlaceholderVal(b);tempEnrFilters=[];if(b=="myenrollment"){enrFilters=tempEnrFilters;}if(b=="myprograms"){prgFilters=tempEnrFilters;}if(b=="myclasses"){clsFilters=tempEnrFilters;}statusFilterSubmit(b,a);
$("#learner-"+b).find(".cls-filter-clear").hide();}catch(c){}}function locationTextsearchFilterSetPlaceholderVal(b){try{var a=$(b+"-location").val();var d=$(b+"-textsearch").val();if(a==""||a==undefined||a==null){if(b=="myenrollment"){$("#myenrollment-selectedLocid").val("");$("form#myenrollment-filters input[id=myenrollment-location]").blur();}if(b=="myprograms"){$("#myprograms-selectedLocid").val("");$("form#myprograms_filters input[id=myprograms-location]").blur();}if(b=="myclasses"){$("#myclasses-selectedLocid").val("");$("form#myclasses_filters input[id=myclasses-location]").blur();}}if(d==""||d==undefined||d==null){if(b=="myenrollment"){$("form#myenrollment-filters input[id=myenrollment-textsearch]").blur();}if(b=="myprograms"){$("form#myprograms_filters input[id=myprograms-textsearch]").blur();}if(b=="myclasses"){$("form#myclasses_filters input[id=myclasses-textsearch]").blur();}}}catch(c){}}function capitalizeFirstLetter(a){return a.charAt(0).toUpperCase()+a.substr(1);}function getTranslatedString(c){try{var a="";
switch(c){case"Next 7 days":a=Drupal.t("Next 7 days");break;case"Next 15 days":a=Drupal.t("Next 15 days");break;case"Next 30 days":a=Drupal.t("Next 30 days");break;case"Next 90 days":a=Drupal.t("Next 90 days");break;case"Last 7 days":a=Drupal.t("Last 7 days");break;case"Last 15 days":a=Drupal.t("Last 15 days");break;case"Last 30 days":a=Drupal.t("Last 30 days");break;case"Last 90 days":a=Drupal.t("Last 90 days");break;case"Priced":a=Drupal.t("Priced");break;case"Free":a=Drupal.t("Free");break;case"System":a=Drupal.t("LBL432");break;case"Web based":a=Drupal.t("LBL1129");break;case"virtual class":a=Drupal.t("Virtual Class");break;case"completed and need reregister":a=Drupal.t("Completed and need reregister");break;case"completed with attempts left":a=Drupal.t("Completed with attempts left");break;case"scheduled":a=Drupal.t("Scheduled");break;case"learning plan":a=Drupal.t("Learning Plan");break;default:a="";break;}return a;}catch(b){}}function selectedFilterToHeader(b,c){try{var f="";if(b=="myenrollment"||b=="myprograms"||b=="myclasses"){var a=c;
}a.forEach(function(i){var g="";if(i.attrVal!=null){if(i.type=="due"){g=Drupal.t("Due date")+" : ";}if(i.type=="scheduled"){g=Drupal.t("Scheduled")+" : ";}if(i.type=="reg"){g=Drupal.t("Date registered")+" : ";}if(i.attrVal=="Next 7 days"||i.attrVal=="Next 15 days"||i.attrVal=="Next 30 days"||i.attrVal=="Next 90 days"||i.attrVal=="Last 7 days"||i.attrVal=="Last 15 days"||i.attrVal=="Last 30 days"||i.attrVal=="Last 90 days"||i.attrVal=="Priced"||i.attrVal=="Free"||i.attrVal=="System"||i.attrVal=="Web based"||i.attrVal=="virtual class"||i.attrVal=="completed and need reregister"||i.attrVal=="completed with attempts left"||i.attrVal=="scheduled"||i.attrVal=="learning plan"){transStr=getTranslatedString(i.attrVal);}else{str=capitalizeFirstLetter(i.attrVal);transStr=Drupal.t(str);}var h='<span class="enable-delete-icon" onclick=\'deleteStatus("'+b+'","'+i.type+"\")'></span>";f='<span class="cls-filtermenu">'+g+transStr+h+"</span>";$("#"+b+"-searchFilter").append("<div class='checkedmenu' id='"+b+"-"+i.type+"' >"+f+"</div>");
}});}catch(d){}}function deleteStatus(c,a){try{if(c=="myenrollment"){var b=enrFilters;}if(c=="myprograms"){var b=prgFilters;}if(c=="myclasses"){var b=clsFilters;}b=b.filter(function(e){return e.type!==a;});if(c=="myenrollment"){enrFilters=b;}if(c=="myprograms"){prgFilters=b;}if(c=="myclasses"){clsFilters=b;}$("#learning_filter_"+c+"_"+a).parent("label").addClass("checkbox-unselected");$("#learning_filter_"+c+"_"+a).parent("label").removeClass("checkbox-selected");$("#learning_filter_"+c+"_"+a).removeAttr("checked");$('div[id="'+c+"-"+a+'"]').remove();$("#"+c+"-"+a+" option:eq(0)").attr("selected","selected");$("#"+c+"-"+a).val("");locationTextsearchFilterSetPlaceholderVal(c);statusFilterSubmit(c);}catch(d){}}function filterUpdateCall(b,d,c){try{var g=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;var a=g.constructUrl("filters/update");$.ajax({type:"POST",url:a,dataType:"json",async:false,data:{data:d,tab:b,str:c},success:function(e){if(b=="myprograms"){Drupal.settings.prgselectedFilters=d;Drupal.settings.myprogramsSearchStr=c;
}else{if(b=="myenrollment"){Drupal.settings.enrselectedFilters=d;Drupal.settings.myenrolmentSearchStr=c;}else{if(b=="myclasses"){Drupal.settings.clsselectedFilters=d;Drupal.settings.myclassesSearchStr=c;}}}}});}catch(f){}}function statusFilterSubmit(c,w,h){try{var p="";var b="";var t="";menustr="";$("#learner-"+c).find(".sortbyStatusFilter").remove();$("#"+c+"-searchFilter").empty();if(c=="myenrollment"){statusName="status_filter_myenrollment";}if(c=="myprograms"){statusName="status_filter_myprograms";}if(c=="myclasses"){statusName="status_filter_myclasses";}if($("#learner-"+c).find("input[name="+statusName+"]:checked").length>0){$("#learner-"+c).find("input[name="+statusName+"]:checked").each(function(){p+=p!=""?"|":"";p+=$(this).val();b+=b!=""?"|":"";});}if(($("#learner-"+c).find("input[name="+statusName+"]:checked").length>1)||($("#learner-"+c).find("input[name="+statusName+"]:checked").length==0)){if(c=="myenrollment"){$("#learner-"+c).find(".sort-by-links").append("<li class='sortbyStatusFilter'><a class='type6' onclick=\"statusFilterSubmit('myenrollment','orderbystatus','type6');\" >"+Drupal.t("LBL102")+"</a></li>");
}if(c=="myprograms"){$("#learner-"+c).find(".sort-by-links").append("<li class='sortbyStatusFilter'><a class='type6' onclick=\"statusFilterSubmit('myprograms','orderbystatus','type6');\" >"+Drupal.t("LBL102")+"</a></li>");}if(c=="myclasses"){$("#learner-"+c).find(".sort-by-links").append("<li class='sortbyStatusFilter'><a class='type6' onclick=\"statusFilterSubmit('myclasses','orderbystatus','type6');\" >"+Drupal.t("LBL102")+"</a></li>");}}var x="";if(c=="myenrollment"){delName="myenrollment-del_type";}if(c=="myprograms"){delName="myprograms-del_type";}if(c=="myclasses"){delName="myclasses-del_type";}if($("#learner-"+c).find("input[name="+delName+"]:checked").length>0){$("#learner-"+c).find("input[name="+delName+"]:checked").each(function(){x+=x!=""?"|":"";x+=$(this).val();t=$(this).attr("data1");});}var r="";if(c=="myenrollment"){traName="myenrollment-tra_type";}if(c=="myprograms"){traName="myprograms-tra_type";}if(c=="myclasses"){traName="myclasses-tra_type";}if($("#learner-"+c).find("input[name="+traName+"]:checked").length>0){t="training type :";
$("#learner-"+c).find("input[name="+traName+"]:checked").each(function(){r+=r!=""?"|":"";r+=$(this).val();});}var q="";if(($("#"+c+"-price :selected").val()!=undefined||$("#"+c+"-price :selected").val()!=null)&&$("#"+c+"-price :selected").val()!=0){q=$("#"+c+"-price :selected").val();}var a="";if(($("#"+c+"-location").val()!=undefined||$("#"+c+"-location").val()!=null)&&$("#"+c+"-location").val()!=Drupal.t("LBL1321")){a=$("#"+c+"-location").val();}var l="";if(($("#"+c+"-scheduled :selected").val()!=undefined||$("#"+c+"-scheduled :selected").val()!=null)&&$("#"+c+"-scheduled :selected").val()!=0){l=$("#"+c+"-scheduled :selected").val();}var g="";if(($("#"+c+"-reg :selected").val()!=undefined||$("#"+c+"-reg :selected").val()!=null)&&$("#"+c+"-reg :selected").val()!=0){g=$("#"+c+"-reg :selected").val();}var z="";if(($("#"+c+"-due :selected").val()!=undefined||$("#"+c+"-due :selected").val()!=null)&&$("#"+c+"-due :selected").val()!=0){z=$("#"+c+"-due :selected").val();}var s="";if(($("#"+c+"-assignedby :selected").val()!=undefined||$("#"+c+"-assignedby :selected").val()!=null)&&$("#"+c+"-assignedby :selected").val()!=0){s=$("#"+c+"-assignedby :selected").val();
}var j="";if(($("#"+c+"-textsearch").val()!=undefined||$("#"+c+"-textsearch").val()!=null)&&$("#"+c+"-textsearch").val()!=Drupal.t("Type to search")){j=$("#"+c+"-textsearch").val();}var n;if(c=="myenrollment"){n=Drupal.settings.myenrolmentSearchStr;}if(c=="myprograms"){n=Drupal.settings.myprogramsSearchStr;}if(c=="myclasses"){n=Drupal.settings.myclassesSearchStr;}var m;if(w!=null&&w!=undefined){m=w;}else{if(n!=""&&n!=null&&n!=undefined){var i=n.indexOf("&sortBy=");sortbyValue=n.substring(i+8,n.length);if((sortbyValue=="orderbystatus")&&($("#learner-"+c).find("input[name="+statusName+"]:checked").length==1)){m="AZ";}else{m=sortbyValue;}}else{m="AZ";}}if(h!=null){$("#learner-"+c).find(".sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});$("#learner-"+c).find("."+h).addClass("sortype-high-lighter");}else{$("#learner-"+c).find(".sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});if(m!=""){if(m=="ZA"){$("#learner-"+c).find(".type2").addClass("sortype-high-lighter");
}else{if(m=="dateOld"){$("#learner-"+c).find(".type5").addClass("sortype-high-lighter");}else{if(m=="dateNew"){$("#learner-"+c).find(".type4").addClass("sortype-high-lighter");}else{if(m=="orderbystatus"){$("#learner-"+c).find(".type6").addClass("sortype-high-lighter");}else{if(m=="type"){$("#learner-"+c).find(".type3").addClass("sortype-high-lighter");}else{if(m=="Mandatory"){$("#learner-"+c).find(".type7").addClass("sortype-high-lighter");}else{if(m=="startdate"){$("#learner-"+c).find(".type8").addClass("sortype-high-lighter");}else{$("#learner-"+c).find(".type1").addClass("sortype-high-lighter");}}}}}}}}}selectedLocID="";locId=$("#"+c+"-selectedLocid");if(locId!=null||locId!=undefined){selectedLocID=locId.val();}if(c=="myenrollment"){var k=JSON.stringify(enrFilters);var v="&regstatuschk="+p+"&del_type="+x+"&tra_type="+r+"&price="+q+"&scheduled="+l+"&reg="+g+"&due="+z+"&assignedby="+s+"&location="+a+"&selectedLocID="+selectedLocID+"&searchText="+j+"&sortBy="+m;selectedFilterToHeader(c,enrFilters);
filterUpdateCall(c,k,v);if($("#myenrollment-searchFilter .checkedmenu").length>0){$("#myenrollment-searchFilter").show();clearAllStr=Drupal.t("clear all");$("#myenrollment-searchFilter").append('<a class="cls-filter-clear" onclick="clearallFilters(\''+c+"','"+m+"')\">"+clearAllStr+"</a>");}else{$("#myenrollment-searchFilter").hide();}$("#learner-enrollment-tab-inner").data("enrollment").callEnrollment(v);}if(c=="myprograms"){var f=JSON.stringify(prgFilters);var y="&regstatuschk="+p+"&del_type="+x+"&tra_type="+r+"&price="+q+"&scheduled="+l+"&reg="+g+"&due="+z+"&assignedby="+s+"&location="+a+"&selectedLocID="+selectedLocID+"&searchText="+j+"&sortBy="+m;selectedFilterToHeader(c,prgFilters);filterUpdateCall(c,f,y);if($("#myprograms-searchFilter .checkedmenu").length>0){$("#myprograms-searchFilter").show();clearAllStr=Drupal.t("clear all");$("#myprograms-searchFilter").append('<a class="cls-filter-clear" onclick="clearallFilters(\''+c+"','"+m+"')\">"+clearAllStr+"</a>");}else{$("#myprograms-searchFilter").hide();
}$("#learningplan-tab-inner").data("learningplan").callLearningPlan(y);}if(c=="myclasses"){var o=JSON.stringify(clsFilters);var d="&regstatuschk="+p+"&del_type="+x+"&tra_type="+r+"&price="+q+"&scheduled="+l+"&reg="+g+"&due="+z+"&assignedby="+s+"&location="+a+"&selectedLocID="+selectedLocID+"&searchText="+j+"&sortBy="+m;selectedFilterToHeader(c,clsFilters);filterUpdateCall(c,o,d);if($("#myclasses-searchFilter .checkedmenu").length>0){$("#myclasses-searchFilter").show();clearAllStr=Drupal.t("clear all");$("#myclasses-searchFilter").append('<a class="cls-filter-clear" onclick="clearallFilters(\''+c+"','"+m+"')\">"+clearAllStr+"</a>");}else{$("#myclasses-searchFilter").hide();}$("#instructor-tab-inner").data("instructordesk").callInstructor(d);}$(".filter-block").hide();$(".active_block").removeClass("active");$(".learner-sort").removeClass("active");$(".active_block").height("");}catch(u){}}function seeMoreMyLearning(a,b){if(b==="myenrollmentclass"){$("#"+a+" #classShortDesc_"+a).find("#arrow-more").click();
$("#"+a+" #classShortDesc_"+a).find("#arrow-less").css("display","none");$("#class-accodion-"+a).click();$("#seemore_"+a).css("display","none");var c='<div class="cp_seeless clsDisabledMode" id="seeless_'+a+'" onclick="seeLessMyLearning('+a+",'"+b+"');\">"+Drupal.t("LBL3042")+"</div>";if(document.getElementById("seeless_")+a){$("#seeless_"+a).remove();}$("#"+a+"SubGrid .enroll-accordian-div").after(c);resetFadeOutForAttributes("#"+a+"SubGrid","main-item-container","line-item-container","container","myenrollment");}else{if(b==="myprogramtp"){$("#prg_"+a+" #LPShortDesc_prg_"+a).find("#arrow-more").click();$("#prg_"+a+" #LPShortDesc_prg_"+a).find("#arrow-less").css("display","none");$("#prg-accodion-prg_"+a).click();$("#lp_seemore_prg_"+a).css("display","none");var c='<tr id="lp_seeless_tr_prg_'+a+'" data-rowid=prg_'+a+' class="jqgcrow ui-row-prg_'+a+'"><td>&nbsp;</td><td colspan="2"><div class="lp_seeless" id="lp_seeless_prg_'+a+'" onclick="seeLessMyLearning('+a+",'"+b+"');\">"+Drupal.t("LBL3042")+"</div></td></tr>";
if(document.getElementById("lp_seeless_prg_"+a)){$("#lp_seeless_prg_"+a).remove();}$("#prg_"+a+"SubGrid").after(c);resetFadeOutForAttributes("#course-detail-section-"+a,"main-item-container","line-item-container","container","myprogramtp");}else{if(b==="tprecertify"){$("#mod_"+a+" #LPShortDesc_mod_"+a).find("#arrow-more").click();$("#prg-accodion-mod_"+a).click();$("#lp_seemore_prg_"+a).css("display","none");var c='<tr id="lp_seeless_tr_prg_'+a+'" data-rowid=prg_'+a+' class="jqgcrow ui-row-prg_'+a+'"><td>&nbsp;</td><td colspan="2"><div class="lp_seeless" id="lp_seeless_prg_'+a+'" onclick="seeLessMyLearning('+a+",'"+b+"');\">"+Drupal.t("LBL3042")+"</div></td></tr>";if(document.getElementById("lp_seeless_prg_"+a)){$("#lp_seeless_prg_"+a).remove();}$("#mod_"+a+"SubGrid").after(c);}else{if(b=="myprogramclass"){$("#lp-cl-"+a+" #classShortDesc_"+a).find("#arrow-more").click();$("#classShortDesc_"+a).find("#arrow-less").css("display","none");$("#lp-class-accodion-"+a).click();$("#lp_class_seeless_"+a).css("display","block");
$("#lp_class_seemore_"+a).css("display","none");$("#subgrid-class_menu_detail_"+a).css("display","none");resetFadeOutForAttributes("#"+a+"LPDetailsMainDiv","main-item-container","line-item-container","container","myprogramclass");}}}}}function seeLessMyLearning(a,b){if(b==="myenrollmentclass"){$("#class-accodion-"+a).click();$("#"+a+" #classShortDesc_"+a).find("#arrow-less").click();$("#seemore_"+a).css("display","block");}else{if(b==="myprogramtp"){$("#prg_"+a+"SubGrid").hide(300);$("#prg_"+a+" #LPShortDesc_prg_"+a).find("#arrow-less").click();$("#lp_seeless_tr_prg_"+a).css("display","none");$("#lp_seemore_prg_"+a).css("display","block");}else{if(b==="tprecertify"){$("#mod_"+a+"SubGrid").hide(300);$("#mod_"+a+" #LPShortDesc_mod_"+a).find("#arrow-less").click();$("#lp_seeless_tr_prg_"+a).css("display","none");$("#lp_seemore_prg_"+a).css("display","block");}else{if(b=="myprogramclass"){$("#lp-class-accodion-"+a).click();$("#lp-cl-"+a+" #classShortDesc_"+a).find("#arrow-less").click();$("#lp_class_seemore_"+a).css("display","block");
$("#lp_class_seeless_"+a).css("display","none");$("#subgrid-class_menu_detail_"+a).css("display","none");}}}}}function searchKeyPress(c,b){try{if(c.keyCode==13){var a=b+"-text search-searchTxtFrm";document.getElementById(a).click();$(".ac_results").hide();return false;}return true;}catch(d){}}function callContentPlayer(a){if(Drupal.settings.mylearning.user.survey_dedicatetpcount>0){$("#learningplan-tab-inner").data("contentPlayer").playContent({masterEnrollId:""+Drupal.settings.mylearning.user.survey_masenrollid+"",enrollId:""+Drupal.settings.mylearning.user.survey_enrollid+"",programId:"0",isMultiLesson:"0",contentType:"survey",cType:"survey",contentId:""+Drupal.settings.mylearning.user.survey_id+"",LessonId:"",VersionId:"",url1:"",courseId:""+Drupal.settings.mylearning.user.survey_courseid+"",classId:""+Drupal.settings.mylearning.user.survey_objectid+"",url2:"",ErrMsg:"",Status:"",LessonLocation:"",launch_data:"",suspend_data:"",exit:"",AICC_SID:"",MasteryScore:"",remDays:"undefined",ValidityDays:"undefined",no_of_attempts:"null",AttemptLeft:"undefined",attempts:"null",MaxAttempt:"undefined",surveycount:""+Drupal.settings.mylearning.user.survey_status+"",is_post_ass_launch:"undefined",playStatus:"true",defaultContent:""+Drupal.settings.mylearning.user.survey_defaultcontent+"",pagefrom:"",LaunchFrom:"LP"});
}else{if(Drupal.settings.mylearning.user.survey_recurringcount>0||(Drupal.settings.mylearning.user.survey_recertify==1&&Drupal.settings.mylearning.user.survey_sharetype=="multiple")||Drupal.settings.mylearning.user.survey_multipleTP>=1){$("#learner-enrollment-tab-inner").data("contentPlayer").playContent(a);}else{if(Drupal.settings.mylearning.user.survey_objecttype=="cre_sys_obt_cls"&&Drupal.settings.mylearning.user.survey_dedicatetpcount<1){$("#learner-enrollment-tab-inner").data("contentPlayer").playContent({masterEnrollId:"0",enrollId:""+Drupal.settings.mylearning.user.survey_enrollid+"",programId:"0",courseId:""+Drupal.settings.mylearning.user.survey_courseid+"",classId:""+Drupal.settings.mylearning.user.survey_objectid+"",userId:""+Drupal.settings.mylearning.user.survey_userid+"",LaunchFrom:"ME",defaultContent:""+Drupal.settings.mylearning.user.survey_defaultcontent+"",pagefrom:"launch"});}else{$("#learningplan-tab-inner").data("contentPlayer").playContent({masterEnrollId:""+Drupal.settings.mylearning.user.survey_enrollid+"",enrollId:"0",programId:""+Drupal.settings.mylearning.user.survey_objectid+"",isMultiLesson:"0",contentType:"survey",cType:"survey",contentId:""+Drupal.settings.mylearning.user.survey_id+"",LessonId:"",VersionId:"",url1:"",courseId:"0",classId:"0",url2:"",ErrMsg:"",Status:"",LessonLocation:"",launch_data:"",suspend_data:"",exit:"",AICC_SID:"",MasteryScore:"",remDays:"undefined",ValidityDays:"undefined",no_of_attempts:"null",AttemptLeft:"undefined",attempts:"null",MaxAttempt:"undefined",surveycount:""+Drupal.settings.mylearning.user.survey_status+"",is_post_ass_launch:"undefined",playStatus:"true",defaultContent:""+Drupal.settings.mylearning.user.survey_defaultcontent+"",pagefrom:"",LaunchFrom:"LP"});
}}}}