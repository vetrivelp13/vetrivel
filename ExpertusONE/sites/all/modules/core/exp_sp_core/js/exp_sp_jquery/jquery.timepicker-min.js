jQuery.fn.datetime=function(){var a=arguments[0]["userLang"]||"en";var c=!(arguments[0]["americanMode"]||false);var b="hasDateTime";return this.each(function(){var j={changeMonth:true,changeYear:true,dateFormat:"yy/mm/dd",showButtonPanel:true,onSelect:f};var g={};g.en={time:"Time",hour:"Hour",minute:"Minute",close:"Close"};g.de={time:"Zeit",hour:"Stunde",minute:"Minute",close:"Schlie√üen"};$(this).data("sets",j);$(this).data("userLang",a);$(this).data("b24Hour",c);function i(k,l){var n=g[l]||g.en;if(!$("#pickerplug").length){var m='<ul id="pickerplug">';m+="<li>";m+='<div id="datepicker"></div>';m+="</li>";m+="<li>";m+='<div id="timepicker">';m+='<h3 id="tpSelectedTime">';m+='	<span id="text_time"></span>';m+='	<span class="selHrs" >00</span>';m+='	<span class="delim" >:</span>';m+='	<span class="selMins">00</span>';m+='	<span class="dayPeriod">am</span>';m+="</h3>";m+='<ul id="sliderContainer">';m+="	<li>";m+='        <h4 id="text_hour"></h4>';m+='        <div id="hourSlider" class="slider"></div>';
m+="	</li>";m+="	<li>";m+='        <h4 id="text_minute"></h4>';m+='        <div id="minuteSlider" class="slider"></div>';m+="	</li>";m+="</ul>";m+="</div>";m+='<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" id="text_close"></button>';m+="</li>";m+="</ul>";$("body").append(m);$("#datepicker").datepicker();$(document).mousedown(d);$("#pickerplug .ui-datepicker-close").click(d);$("#hourSlider").slider({orientation:"vertical",range:"min",min:0,max:23,step:1,slide:function(o,p){f(h(p.value,"hour"),"time");},change:function(o,p){$("#tpSelectedTime .selHrs").effect("highlight",1000);}});$("#minuteSlider").slider({orientation:"vertical",range:"min",min:0,max:55,step:5,slide:function(o,p){f(h(p.value,"minute"),"time");},change:function(o,p){$("#tpSelectedTime .selMins").effect("highlight",1000);}});$("#tpSelectedTime .selHrs").keyup(function(o){if((o.which<=57&&o.which>=48)&&($(this).text()>=1&&$(this).text()<=12)){$("#hourSlider").slider("value",parseInt($(this).text()));
}else{$(this).val($(this).text().slice(0,-1));}});$("#tpSelectedTime .selMins").keyup(function(o){if((o.which<=57&&o.which>=48)&&($(this).text()>=0&&$(this).text()<=59)){$("#minuteSlider").slider("value",parseInt($(this).text()));}else{$(this).text($(this).text().slice(0,-1));}});}$(".dayPeriod").toggle(!c);$("#text_time").text(n.time);$("#text_hour").text(n.hour);$("#text_minute").text(n.minute);$("#text_close").text(n.close);$("#pickerplug").data("userLang",l);$("#pickerplug").data("b24Hour",k);}$(this).bind("focus",function(){var l=$(this).offset().top+$(this).outerHeight();var k=$(this).offset().left;if(l>650){l=660;k+=20;}if($(this).data("userLang")!=$("#pickerplug").data("userLang")||$(this).data("b24Hour")!=$("#pickerplug").data("userLang")){i($(this).data("b24Hour"),$(this).data("userLang"));}$("#pickerplug").css({left:k+"px",top:l+"px"}).fadeIn("normal");if($(this).data("userLang")!="en"&&g[$(this).data("userLang")]){$("#datepicker").datepicker("option",$.extend({},$.datepicker.regional[$(this).data("userLang")]));
$("#datepicker").datepicker("option",$.extend($(this).data("sets")));}else{$("#datepicker").datepicker("option",$.extend({},$.datepicker.regional[""]));$("#datepicker").datepicker("option",$.extend($(this).data("sets")));}e(this);if($("#pickerplug").css("display")=="none"){$("#pickerplug").fadeIn("normal");}$(this).bind("keyup",e);$(this).addClass(b);$("#pickerplug").data("inputfield",$(this).prev());});function e(m){var l=($(m).val()||$(this).val()).split(" ");if(l.length<2){l=["00/00/00","00:00:00"];}$("#pickerplug").data("lastdate",l[0]);$("#pickerplug").data("lasttime",l[1]);l=l[1].split(":");if(l.length<2){l=["00","00","00"];}var k=l[0]||"00";var n=l[1]||"00";h(k,"hour");h(n,"minute");$("#hourSlider").slider("option","value",k);$("#minuteSlider").slider("option","value",n);}function h(l,m){var n="";switch(m){case"hour":var k=parseInt(l,10);if(!$("#pickerplug").data("b24Hour")&&k>11){k-=12;$(".dayPeriod").text("pm");}else{if(!$("#pickerplug").data("b24Hour")){$(".dayPeriod").text("am");
}}if(k<10){k="0".concat(k);}if(l<10){l="0".concat(parseInt(l));}$("#tpSelectedTime .selHrs").text(k);n=l+":"+$("#tpSelectedTime .selMins").text();break;case"minute":minutes=((l<10)?"0":"")+parseInt(l,10);$("#tpSelectedTime .selMins").text(minutes);n=$("#hourSlider").slider("option","value")+":"+minutes;break;}return n;}function f(l,k){switch(k){case"time":$("#pickerplug").data("lasttime",l+":00");break;default:$("#pickerplug").data("lastdate",l);}$($("#pickerplug").data("inputfield")).val($("#pickerplug").data("lastdate")+" "+$("#pickerplug").data("lasttime"));}function d(k){if(($(k.target).parents("#pickerplug").length||$(k.target).hasClass(b))&&!$(k.target).hasClass("ui-datepicker-close")){return;}$("#pickerplug").fadeOut("normal");$(this).unbind("click",d);$(this).unbind("keyup",e);$(this).removeClass(b);}});};