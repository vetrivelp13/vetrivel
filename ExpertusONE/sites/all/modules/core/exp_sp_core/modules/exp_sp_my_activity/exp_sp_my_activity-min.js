(function(d){var c="";var e="";var b="";var a="";d.widget("ui.myprofileactivity",{_init:function(){try{var f=this;this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){var i=658;var h=494;}else{var i=670;var h=460;}if(document.getElementById("myprofile-myactivity-screen")){c="myprofile-myactivity-screen";e="myprofile-activity-userdetails";b="userdetailsactivity-pager";a=document.getElementById("hidden-other-userid").value;gridwidth=h;}else{c="wizarad-myprofile-activity";e="myprofile-activity-details";b="activity-pager";a="emptyvalue";gridwidth=i;}this.renderMyActivity();}catch(g){}},callbackActivityLoader:function(g,m,k){try{d("#"+c).data("myprofileactivity").destroyLoader(c);d("#gbox_"+e).show();var l=parseInt(d("#"+e).getGridParam("records"),10);if(l==0){d("#"+b+"_center").css("display","none");var n='<div class="norecords-msg-edit-page">'+Drupal.t("MSG550")+"</div>";d("#gview_"+e+" .ui-jqgrid-hdiv").after(n);d(".norecords-msg-edit-page").css("padding-top","10px");
}else{d(".norecords-msg-edit-page").css("display","none");d(".no-orderrecords").html("");}d("#first_"+b).click(function(o){if(!d("#first_"+b).hasClass("ui-state-disabled")){d("#gbox_"+e).show();d("#gview_"+e).css("min-height","100px");d("#"+c).data("myprofileactivity").createLoader(c);}});d("#next_"+b).click(function(o){if(!d("#next_"+b).hasClass("ui-state-disabled")){d("#gbox_"+e).show();d("#gview_"+e).css("min-height","100px");d("#"+c).data("myprofileactivity").createLoader(c);}});d("#prev_"+b).click(function(o){if(!d("#prev_"+b).hasClass("ui-state-disabled")){d("#gbox_"+e).show();d("#gview_"+e).css("min-height","100px");d("#"+c).data("myprofileactivity").createLoader(c);}});d("#last_"+b).click(function(o){if(!d("#last_"+b).hasClass("ui-state-disabled")){d("#gbox_"+e).show();d("#gview_"+e).css("min-height","100px");d("#"+c).data("myprofileactivity").createLoader(c);}});d(".ui-pg-selbox").bind("change",function(){d("#gbox_"+e).show();d("#gview_"+e).css("min-height","100px");d("#"+c).data("myprofileactivity").hideActivityPageControls(false);
d("#"+c).data("myprofileactivity").createLoader(c);});d(".ui-pg-input").keyup(function(o){if(o.keyCode==13){d("#gbox_"+e).show();d("#gview_"+e).css("min-height","100px");d("#"+c).data("myprofileactivity").destroyLoader(c);}});d("#gbox_"+e+" tr.ui-jqgrid-labels").css("background","none");Drupal.attachBehaviors();var h=d("#"+c).data("myprofileactivity");var f=parseInt(d("#"+e).getGridParam("reccount"),10);var i=true;if(l>15){i=false;}if(l<=f){h.hideActivityPageControls(i);}else{h.showActivityPageControls();}d("#"+e+" > tbody > tr").last().find(".activity-seperate").css("border","0px");d("#learner-myactivity-details .ui-jqgrid-bdiv").css("overflow","hidden");d("#gbox_myprofile-activity-details").css("margin","0 auto");d("#activity-pager").css("width","660px");vtip();d("#learner-myactivity-details .limit-title").trunk8(trunk8.profileact_title);}catch(j){}},hideActivityPageControls:function(f){try{var h=d("#myaccount-orders-details tr.ui-widget-content").filter(":last");if(f){if(this.currTheme=="expertusoneV2"){d("#learner-myactivity-details .block-footer-left").show();
}d("#"+b).hide();if(h.length!=0){h.children("td").css("border","0 none");}}else{d("#"+b).show();if(this.currTheme=="expertusoneV2"){d("#learner-myactivity-details .block-footer-left").hide();}d("#"+b+" #"+b+"_center #first_"+b+"").hide();d("#"+b+" #"+b+"_center #next_"+b+"").hide();d("#"+b+" #"+b+"_center #prev_"+b+"").hide();d("#"+b+" #"+b+"_center #last_"+b+"").hide();d("#"+b+" #"+b+"_center #sp_1_"+b+"").parent().hide();}}catch(g){}},showActivityPageControls:function(){try{d("#"+b).show();if(this.currTheme=="expertusoneV2"){d("#learner-myactivity-details .block-footer-left").hide();}d("#"+b+" #"+b+"_center #first_"+b+"").show();d("#"+b+" #"+b+"_center #next_"+b+"").show();d("#"+b+" #"+b+"_center #prev_"+b+"").show();d("#"+b+" #"+b+"_center #last_"+b+"").show();d("#"+b+" #"+b+"_center #sp_1_"+b+"").parent().show();}catch(f){}},paintActivitySearchResults:function(f,g,i){try{return i.details;}catch(h){}},paintActivityActions:function(f,g,i){try{return i.actions;}catch(h){}},renderMyActivity:function(){try{this.createLoader(c);
var f=d("#"+c).data("myprofileactivity");var h=this;if(a!="emptyvalue"){col_names=["Details"];col_model=[{name:"Details",index:"Details",title:false,width:595,widgetObj:f,formatter:h.paintActivitySearchResults}];}else{col_names=["Details","Actions"];col_model=[{name:"Details",index:"Details",title:false,width:560,widgetObj:f,formatter:h.paintActivitySearchResults},{name:"Actions",index:"Actions",title:false,width:50,align:"right",widgetObj:f,formatter:h.paintActivityActions,hidden:((h.currTheme=="expertusoneV2")?false:true)}];}d("#"+e).jqGrid({url:this.constructUrl("learning/my-profile/activity/"+a),datatype:"json",mtype:"GET",colNames:col_names,colModel:col_model,rowNum:15,rowList:[15,20,30,40],pager:"#"+b,viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:false,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,hoverrows:false,loadComplete:h.callbackActivityLoader}).navGrid("#"+b,{add:false,edit:false,del:false,search:false,refreshtitle:true});
}catch(g){}},callDeleteProcess:function(h,g,i,f){try{d("#delete-msg-wizard").remove();this.createLoader("wizarad-myprofile-activity");var k=this;url=k.constructUrl("learning/my-profile/activity/remove/"+h+"/"+g+"/"+i+"/"+f);d.ajax({type:"POST",url:url,data:"",success:function(l){d("#"+e).setGridParam({url:k.constructUrl("learning/my-profile/activity/"+a)});d("#"+e).trigger("reloadGrid",[{page:1}]);}});}catch(j){}},displayDeleteWizard:function(m,h,g,k){try{var f=300;d("#delete-msg-wizard").remove();var j="";j+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';j+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';j+='<tr><td color="#333333" style="padding: 30px 15px; text-align: justify;">'+m+"?</td></tr>";j+="</table>";j+="</div>";d("body").append(j);var i={};i[Drupal.t("LBL109")]=function(){d(this).dialog("destroy");d(this).dialog("close");d("#delete-msg-wizard").remove();};i[Drupal.t("Yes")]=function(){d("#wizarad-myprofile-activity").data("myprofileactivity").callDeleteProcess(h,g,k);
};d("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:f,resizable:false,modal:true,title:Drupal.t("LBL286"),buttons:i,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});d(".ui-dialog").wrap("<div id='delete-object-dialog'></div>");d(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();d(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');d(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();d(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');d("#delete-msg-wizard").show();d(".ui-dialog-titlebar-close").click(function(){d("#delete-msg-wizard").remove();});}catch(l){}}});d.extend(d.ui.myprofileactivity.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{if(document.getElementById("myprofile-myactivity-screen")){$("#myprofile-myactivity-screen").myprofileactivity();
}else{$("#wizarad-myprofile-activity").myprofileactivity();}}catch(a){}});