(function(a){a.widget("ui.requestclass",{_init:function(){try{var b=this;this.currTheme=Drupal.settings.ajaxPageState.theme;this.referObj='$("body").data("requestclass")';}catch(c){}},openRequestClassDialog:function(g,b){try{closeQtip("");this.createLoader(b);var c=this.constructUrl("ajax/request-class-details/"+g);var f=this;a.ajax({type:"POST",url:c,success:function(e){f.destroyLoader(b);a("#request_class_container").css("overflow","normal");f.paintRequestClassDialog(e);}});}catch(d){}},paintRequestClassDialog:function(b){try{var f='<form id="form-refer" method="post"><div id="show_expertus_message" style="display:none;"></div><table cellpadding="0" cellspacing="0" border="0" class="refer-class-table" width="100%"><tr><td class="refer-class-col1">'+b.labelmsg["subject"]+': </td><td class="refer-class-col2"></td><td class="refer-class-col3"><input type="text" id="rc-subject" class="input-text" readonly tabindex="1" value="'+b.code+" - "+b.title+'"></td></tr><tr><td class="refer-class-col1 req-class-msg-title">'+b.labelmsg["message"]+': </td><td class="refer-class-col2"></td><td class="refer-class-col3 req-class-msg-textarea"><textarea class="input-textarea" rows="5" cols="40" name="description" id="edit-description" class="input-textarea" tabindex="2"></textarea></td></tr><tr class="last"><td class="refer-class-col1">&nbsp;</td><td class="refer-class-col2">&nbsp;</td>';
if(this.currTheme=="expertusoneV2"){f+='<td class="refer-class-col3"><div class="checkbox-unselected"><input type="checkbox" id="rc-ccopy" onclick="checkboxSelectedUnselectedCommon(this);" tabindex="4"><span class="check-label">'+b.labelmsg["ccme"]+"</span></div></td>";}else{f+='<td class="refer-class-col3"><input type="checkbox" id="rc-ccopy" tabindex="4"><span class="check-label">'+b.labelmsg["ccme"]+"</span></td>";}f+="</tr></table></form>";var g='<div class="refer-note"></div>';var d='<div id="request_class_container" class="refer-class-container"></div>';a("#request_class_container").remove();a("#refer_course_holder").remove();a("body").append(d);a("#request_class_container").html(f);var c={};c[b.labelmsg["close"]]=function(){a(this).dialog("destroy");a(this).dialog("close");a("#request_class_container").remove();};c[b.labelmsg["submit"]]=function(){a("body").data("requestclass").callRequestClassSubmit(b.courseId);};a("#request_class_container").dialog({bgiframe:true,width:376,resizable:false,draggable:false,closeOnEscape:false,modal:true,title:b.labelmsg["dialog-title"],buttons:c,close:function(){a("#request_class_container").remove();
a("#request_class_holder").remove();},overlay:{opacity:0.4,background:"#000000"}});if((a.browser.msie&&this.currTheme=="expertusoneV2"&&(parseInt(a.browser.version,10)=="9"||parseInt(a.browser.version,10)=="8"))){}a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg");a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").attr("tabindex",6);a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").attr("tabindex",7);if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}a(".ui-dialog").wrap('<div id="request_class_holder" class="refer-course-holder"></div>');a("#request_class_holder a.ui-dialog-titlebar-close").html("X");
a(".ui-dialog-buttonset").before(g);a(".request-class-container").css("width","93.9%");}catch(h){}},callRequestClassSubmit:function(g){try{var f=this;var c=0;var d=0;var i=new Array();i[0]="";var k=a("#edit-description").val();var j=a("#rc-ccopy").attr("checked");if(a("#request_class_container")){this.createLoader("request_class_container");a("#request_class_container").css("overflow","hidden");}var b=this.constructUrl("ajax/request-class-submit/"+g+"/"+escape(k)+"/"+j);a.ajax({type:"POST",url:b,success:function(e){f.destroyLoader("request_class_container");a("#request_class_container").html('<div class="rc-success-message">'+e.labelmsg["successmsg"]+"</div>");a(".ui-dialog-buttonset").css("margin-right","0px");a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("shareclosetext").end();a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").css("display","none");a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").prev(".admin-save-button-left-bg").css("display","none");
a(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").next(".admin-save-button-right-bg").css("display","none");a(".refer-note").remove();}});}catch(h){}}});a.extend(a.ui.requestclass.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("body").requestclass();}catch(a){}});