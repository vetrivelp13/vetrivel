(function(b){try{function a(d){try{b(d).blur(function(l){try{var k=b(this).data("password-idclass");var h=b(this).data("cpassword-idclass");var i=b(this).hasClass(k)?true:false;var g=b("."+k).val();var j=b("."+h).val();if(g!=""&&j!=""){if(g!=j){b("#password-mismatch").show();b(".addedit-password-field").addClass("error");b(".addedit-cpassword-field").addClass("error");}else{b("#password-mismatch").hide();b(".addedit-password-field").removeClass("error");b(".addedit-cpassword-field").removeClass("error");}Drupal.ajax.prototype.commands.CtoolsModalAdjust(null,null,null);}}catch(m){}});}catch(f){}}Drupal.behaviors.passwordFields={attach:function(d,f){try{b(".addedit-password-field:not(.addedit-password-field-initialized)").addClass("addedit-password-field-initialized").each(function(){a(this);});b(".addedit-cpassword-field:not(.addedit-cpassword-field-initialized)").addClass("addedit-cpassword-field-initialized").each(function(){a(this);});}catch(g){}}};}catch(c){}})(jQuery);function checkusernameadmin(c){try{objname=c.value;
objid=c.id;if(objname!=null&&objname!=undefined&&objname!=""){var b=resource.base_host+"/?q=administration/people/user/usernamecheck/"+objname;$.ajax({type:"GET",url:b,complete:function(e,f){if((parseInt(e.status)!=0)&&(parseInt(e.status/100)!=2)){return;}var d=e.responseText;if(d==1){$("#username-mismatch").show();$(".addedit-edit-user_name").addClass("error");}else{$("#username-mismatch").hide();$(".addedit-edit-user_name").removeClass("error");}Drupal.ajax.prototype.commands.CtoolsModalAdjust(null,null,null);}});}}catch(a){}}var already_is_manager_validation_checked;function checkManagerUncheck(){var c=$("#edit-roles option:selected");var h=false;already_is_manager_validation_checked=false;c.each(function(){if($(this).val()=="is_manager"){h=true;already_is_manager_validation_checked=false;}});if(h===false&&already_is_manager_validation_checked===false){var g=Drupal.t("LBL082")+" "+Drupal.t("Manager")+" "+Drupal.t("LBL579");var d=Drupal.t("MSG729");try{$("#commonMsg-wizard").remove();
$("#edit-roles").multiselect("refresh");var b="";b+='<div id="commonMsg-wizard" style="display:none; padding: 0px;">';b+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){b+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+d+"</td></tr>";}else{b+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+d+"</td></tr>";}b+="</table>";b+="</div>";$("body").append(b);var a={};a[Drupal.t("LBL109")]=function(){$("#edit-roles").multiselect("widget").find(":checkbox[value='is_manager']").attr("checked","checked");$("#edit-roles option[value='is_manager']").attr("selected",1);$("#edit-roles").multiselect("refresh");already_is_manager_validation_checked=false;$(this).dialog("destroy");$(this).dialog("close");$("#commonMsg-wizard").remove();};a[Drupal.t("Yes")]=function(){already_is_manager_validation_checked=true;$(this).dialog("destroy");$(this).dialog("close");$("#commonMsg-wizard").remove();
};$("#commonMsg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:g,buttons:a,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+d+" remove-reports'></div>");$("#delete-object-dialog.remove-reports").find(".ui-dialog").css("z-index","10100");$("#delete-object-dialog.remove-reports").next(".ui-widget-overlay").css("z-index","1030");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#commonMsg-wizard").show();if($("#delete-object-dialog.remove-reports").is(":visible")){$(".ui-multiselect-menu.edit-roles").hide();
}$(".ui-dialog-titlebar-close").click(function(){$("#edit-roles").multiselect("widget").find(":checkbox[value='is_manager']").attr("checked","checked");$("#edit-roles option[value='is_manager']").attr("selected",1);$("#edit-roles").multiselect("refresh");already_is_manager_validation_checked=false;$("#commonMsg-wizard").remove();});if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){changeDialogPopUI();}}catch(f){}}}(function(a){a.widget("ui.peopleuser",{callMultiSelect:function(m,o){var c=a("#attr_open").val();var h=this;this.currTheme=Drupal.settings.ajaxPageState.theme;a(".multiselect-custom-dropdown-results").css("display","none");a(".ui-multiselect-menu").css("display","none");a("#avil_"+o).css("display","block");a("#attr_open").val(o);a("#avil_"+c).prev().find("span:last").removeClass("down-tip-arrow").addClass("right-tip-arrow");a("#avil_"+o).prev().find("span:last").removeClass("right-tip-arrow").addClass("down-tip-arrow");var d=a("#load_multiselect_oorgs").val();m=m==""?undefined:m;
if(o=="jobrole"){var e=a("#load_multiselect_jobrole").val();var b=this.constructUrl("administration/people/user/jobrole/"+m+"/"+e);var k=this.constructUrl("administration/people/user/jobrole-autocomplete/"+o);var f=200;var j=28;var g=250;}else{if(o=="omanagers"){var n=a("#load_multiselect_omanagers").val();var b=this.constructUrl("administration/people/user/othermanagers/"+m+"/"+n);var k=this.constructUrl("administration/people/user/othermanagers-autocomplete/"+o);var f=140;var j=15;var g=188;}else{if(o=="session_instructor"){if((a(".set-wbubble-left").hasClass("bottom-qtip-tip-up"))&&(a("td").hasClass("admin-addedit-class-instructor_expmeeting"))){a(".bottom-qtip-tip-up").css("z-index","99");}var l=a("#load_multiselect_session_instructor").val();var b=this.constructUrl("administration/session/allinstructor/"+m+"/"+l);var k=this.constructUrl("administration/session/allinstructor-autocomplete/"+o);var f=120;var j=8;var g=160;}else{var b=this.constructUrl("administration/people/user/org/"+m+"/"+d);
var k=this.constructUrl("administration/people/user/org-autocomplete/"+o);var f=120;var j=15;var g=188;}}}var i;i={url:b,dataType:"json",titlelength:j,searchfilter:{url:k,enable:true},rownum:20,width:g,height:f,onselect:this.onselectfn,onunselect:this.onunselectfn,helpText:{autocomplete:Drupal.t("Search for refine"),checkAll:"Select All",uncheckAll:"Unselect All"},widget:this,afterload:function(){a("#avil_"+o).find(".label-text").addClass("vtip");vtip();a("#avil_"+o).find(".label-text").each(function(){a("#avil_"+o).data("expmultiselectDropdown")._labelBind(a(this));});a("#autoimg").bind("click",function(){if(o=="jobrole"){a("#avil_"+o).data("expmultiselectDropdown").options.url=h.constructUrl("administration/people/user/jobrole/"+m+"/"+a("#load_multiselect_jobrole").val());}else{if(o=="omanagers"){a("#avil_"+o).data("expmultiselectDropdown").options.url=h.constructUrl("administration/people/user/othermanagers/"+m+"/"+a("#load_multiselect_omanagers").val());}else{if(o=="session_instructor"){a("#avil_"+o).data("expmultiselectDropdown").options.url=h.constructUrl("administration/session/allinstructor/"+m+"/"+a("#load_multiselect_session_instructor").val());
}else{a("#avil_"+o).data("expmultiselectDropdown").options.url=h.constructUrl("administration/people/user/org/"+m+"/"+a("#load_multiselect_oorgs").val());}}}});}};a("#avil_"+o).expmultiselectDropdown(i);a("#avil_"+o).css("display","block");a("#avil_"+o).find(".footeraccess").hide();a("#avil_"+o).data("expmultiselectDropdown")._callScroll();},onselectfn:function(h,g,i){var d=a(h).attr("id").replace("avil_","");var f=new Array();var c=a("#load_multiselect_"+d).val();if(c!=""){f=c.split(",");}f.push(g.value);a("#load_multiselect_"+d).val(f.join(","));a("#root-admin").data("peopleuser").updateSelectedText(d,f.length);a(h).find("#chk .label-text").addClass("vtip");vtip();a(h).find(".label-text").each(function(){a(h).data("expmultiselectDropdown")._labelBind(a(this));});if(document.getElementById("edit-session-presenter")){var b=document.getElementById("edit-session-presenter");var e=document.createElement("option");e.text=g.title;e.value=g.value;e.title=g.title;b.add(e);}a("#avil_"+d+" #container").jScrollPane({});
},onunselectfn:function(j,f,e){var b=a(j).attr("id").replace("avil_","");var c=new Array();var i=a("#load_multiselect_"+b).val();if(i!=""){c=i.split(",");}var g=a.inArray(f.value,c);if(g>=0){c.splice(g,1);}a("#load_multiselect_"+b).val(c.join(","));a("#root-admin").data("peopleuser").updateSelectedText(b,c.length);if(document.getElementById("edit-session-presenter")){var d=a("#edit-session-presenter option[value='"+f.value+"']").index();var h=document.getElementById("edit-session-presenter");h.remove(d);}a("#avil_"+b+" #container").jScrollPane({});},updateSelectedText:function(c,e){var f;if(e===undefined){var d=new Array();var b=a("#load_multiselect_"+c).val();if(b!=""){d=b.split(",");}e=d.length;}if(e>0){f=e+" "+Drupal.t("LBL646");}else{f=Drupal.t("LBL674");}a("#menu_"+c).find(".selected-list-text").text(f);}});a.extend(a.ui.peopleuser.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("#root-admin").peopleuser();}catch(a){}});
$(function(){try{$("body").live("click",function(b){if($(b.target).is(".multiselect-custom-dropdown")||($(b.target).parents("div.multiselect-custom-dropdown-results").length&&$(".multiselect-custom-dropdown-results").is(":visible"))){return false;}else{if(!$(b.target).parents(".multiselect-custom-dropdown-results, .multiselect-custom-dropdown").length){$(".multiselect-custom-dropdown-results").hide();$(".bottom-qtip-tip-up").css("z-index","100");}}});}catch(a){}});function restrictMultiselectTitle(b,a){$("div.ui-multiselect-menu."+b).find(".ui-multiselect-checkboxes label.ui-corner-all span").each(function(){var c=titleRestrictionFadeoutImage($(this).text(),a);$(this).html(c);});$(".fade-out-title-container-unprocessed").each(function(){if($(this).width()>=$(this).find(".title-lengthy-text").width()&&$(this).find(".title-lengthy-text").width()!=0){$(this).find(".fade-out-image").remove();}$(this).removeClass("fade-out-title-container-unprocessed");});vtip();}function checkInstructor(b){if(b=="Y"){$("#two-col-row-webexname_webexpass").css("display","block");
}else{if(b=="N"){$("#two-col-row-webexname_webexpass").css("display","none");}}if($("#ui-multiselect-edit-roles-option-0").has("aria-selected")){if($("#ui-multiselect-edit-roles-option-0").attr("aria-selected")=="true"){$("#two-col-row-webexname_webexpass").css("display","block");}else{if(($("#ui-multiselect-edit-roles-option-0").attr("aria-selected")=="true")&&!(x)){$("#two-col-row-webexname_webexpass").css("display","block");}else{if(($("#ui-multiselect-edit-roles-option-0").attr("aria-selected")=="false")&&(($("#ui-multiselect-edit-roles-option-1").attr("aria-selected")!="true"))){$("#two-col-row-webexname_webexpass").css("display","none");}else{if(($("#ui-multiselect-edit-roles-option-0").attr("aria-selected")=="false")&&(($("#ui-multiselect-edit-roles-option-1").attr("aria-selected")!="false"))){$("#two-col-row-webexname_webexpass").css("display","none");}}}}}else{$("#two-col-row-webexname_webexpass").css("display","none");}}