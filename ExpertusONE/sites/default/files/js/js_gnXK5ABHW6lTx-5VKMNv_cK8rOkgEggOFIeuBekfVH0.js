function sleep(a){var c=new Date().getTime();for(var b=0;b<10000000;b++){if((new Date().getTime()-c)>a){break;}}}(function(a){Drupal.behaviors.exp_sp_session_timeout={attach:function(d,f){if(d!=document){return;}var g;var o;var c;var k;var e;var l;k=jQuery.extend(true,{},f.exp_sp_session_timeout);if(k.refresh_only){o=setTimeout(m,k.timeout);}else{e=false;a("body").bind("formUpdated",function(q){a(q.target).trigger("preventAutologout");});if(typeof CKEDITOR!=="undefined"){CKEDITOR.on("instanceCreated",function(q){q.editor.on("contentDom",function(){q.editor.document.on("keyup",function(r){a(q.editor.element.$).trigger("preventAutologout");});});});}a("body").bind("preventAutologout",function(q){e=true;clearTimeout(l);l=setTimeout(function(){e=false;},60000);});o=setTimeout(n,k.timeout);}function n(){var q=Drupal.settings.exp_sp_session_timeout.no_dialog;if(e){e=false;i();}else{g=setTimeout(h,k.timeout_padding);Drupal.ajax["exp_sp_session_timeout.getTimeLeft"].exp_sp_session_timeoutGetTimeLeft(function(r){if(r>0){clearTimeout(g);
o=setTimeout(n,r);}else{if(q){p();return;}c=j();}});}}function j(){var q={};q[Drupal.t("Yes")]=function(){a(this).dialog("destroy");clearTimeout(g);i();};q[Drupal.t("No")]=function(){a(this).dialog("destroy");p();};return a('<div id="exp_sp_session_timeout-confirm"> '+k.message+"</div>").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL286"),buttons:q,dialogClass:"exp_sp_session_timeout-dialog",draggable:false,overlay:{opacity:0.9,background:"black"},close:function(r,s){p();}});}function h(){a(c).dialog("destroy");Drupal.ajax["exp_sp_session_timeout.getTimeLeft"].exp_sp_session_timeoutGetTimeLeft(function(q){if(q>0){o=setTimeout(n,q);}else{p();}});}function p(){if(k.use_alt_logout_method){window.location=Drupal.settings.basePath+"?q=exp_sp_session_timeout_ahah_logout/alt";}else{var r=k.redirect_url.indexOf("canvas");var q=k.redirect_url.indexOf("salesforce/widget");if((q!=-1)||(r!=-1)){clearTimeout(g);i();}else{a.ajax({url:Drupal.settings.basePath+"?q=exp_sp_session_timeout_ahah_logout",type:"POST",success:function(){window.location=k.redirect_url;
},error:function(s,t){if(s.status==403||s.status==404){window.location=k.redirect_url;}}});}}}Drupal.ajax.prototype.exp_sp_session_timeoutGetTimeLeft=function(s){var q=this;if(q.ajaxing){return false;}q.options.success=function(u,t){if(typeof u=="string"){u=a.parseJSON(u);}if(typeof u[1].command==="string"&&u[1].command=="alert"){window.location=k.redirect_url;}if(u[2].settings!=null){s(u[2].settings.time);}else{s(u[4].settings.time);}return q.success(u,t);};try{q.beforeSerialize(q.element,q.options);a.ajax(q.options);a("body.progress-disabled").removeClass("progress-disabled");}catch(r){q.ajaxing=false;}};Drupal.ajax["exp_sp_session_timeout.getTimeLeft"]=new Drupal.ajax(null,a(document.body),{url:Drupal.settings.basePath+"?q=exp_sp_session_timeout_ajax_get_time_left",event:"exp_sp_session_timeout.getTimeLeft",error:function(q,r){}});Drupal.ajax.prototype.exp_sp_session_timeoutRefresh=function(r){var q=this;if(q.ajaxing){return false;}q.options.success=function(u,t){if(typeof u=="string"){u=a.parseJSON(u);
}if(typeof u[1].command==="string"&&u[1].command=="alert"){window.location=k.redirect_url;}o=setTimeout(r,k.timeout);e=false;return q.success(u,t);};try{q.beforeSerialize(q.element,q.options);a.ajax(q.options);a("body.progress-disabled").removeClass("progress-disabled");}catch(s){q.ajaxing=false;}};Drupal.ajax["exp_sp_session_timeout.refresh"]=new Drupal.ajax(null,a(document.body),{url:Drupal.settings.basePath+"?q=exp_sp_session_timeout_ahah_set_last",event:"exp_sp_session_timeout.refresh",error:function(q,r){}});function m(){Drupal.ajax["exp_sp_session_timeout.refresh"].exp_sp_session_timeoutRefresh(m);}function i(){Drupal.ajax["exp_sp_session_timeout.refresh"].exp_sp_session_timeoutRefresh(n);}var b=a("#exp_sp_session_timeout-cache-check-bit");if(b.length!==0){if(b.val()=="1"&&a("#timer").size()>0){i();}b.val("1");}}};})(jQuery);;
(function(a){a.fn.qtipPopup=function(o){try{var f=o.postype;if(f.indexOf("custom")!=-1){a(this).qtipCustomLeft(o);}else{var t=Drupal.settings.ajaxPageState.theme;var d=o.wid;var q=o.poslwid;var n=o.posrwid;var h=o.heg;var m=o.popupDispId;var s=o.onClsFn;var j=o.entityId;var p=o.disp;var g=o.linkid;var i=o.dispDown;var b;var k=o.top;var c=o.catalogVisibleId;var u=o.beforeShow;var v=o.afterShow;var l=o.afterPosition;setTimeout(function(){var L=a("#"+g).height();var M=a("#"+g).width();var G=a("#"+g).offset();var D=a("#"+g).position();var H=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?"bottom-qtip-tip-visible":"bottom-qtip-tip-up-visible";a(this).qtipPopupShow(m,H,d,h,j,s,o);var J=a("."+H).height();var K=a("."+H).width();var x=M/2;var A=D.top+(L+J-12);var I=a("."+H).position();if(k===undefined||k===null){var y=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?(D.top-L):(D.top+L);}else{var y=k;}var F=D.left+(parseInt(x)-(K/2));a(this).tipPositioning(H,y,F,m);if(m.indexOf("qtip_owner_disp")===0){if(a("div[id^='qtip_owner_disp']").find("span[class='qtip-popup-visible']").length>0){a("div[id^='qtip_owner_disp']").find("span[class='qtip-popup-visible']").addClass("qtip-popup-visible_for_ie");
}}if(t=="expertusoneV2"){var w=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))?true:false;if(c=="enrolled-all-exempted-disp"||c=="qtipAttachIdqtip_exempted_disp_all"||c=="qtipAttachIdqtip_exempted_single_disp"){b=a(this).qtipExemptedPosition(c);}else{if(a.browser.msie&&a.browser.version==10){b=8;}else{if(a.browser.msie&&a.browser.version==11){b=8;}else{if(a.browser.msie&&a.browser.version==9){b=8;}else{if(a.browser.msie&&a.browser.version==8){b=8;}else{if(navigator.userAgent.indexOf("Chrome")>0){b=8;}else{b=8;}}}}}}}var C=(D.top==0)?D.top:D.top-L;if(g.indexOf("widget-share-")==0){C=(parseInt(D.top)==0)?D.top:D.top-L;}var B=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?(C+J-b):A;var N=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?"bottom":"top";if(f=="middle"){try{a(this).qtipMiddle(B,d,I,q,n,x,K,D,m,j,N);}catch(E){alert(E);}}else{if(f=="bottomleft"||f=="topleft"){try{a(this).qtipLeft(B,d,I,q,x,K,D,m,j,N);}catch(E){alert(E);}}else{if(f=="bottomright"||f=="topright"){try{a(this).qtipRight(B,d,I,q,x,K,D,m,j,N);
}catch(E){alert(E);}}}}if(o.afterPosition!==undefined){o.afterPosition.call();}},10);}}catch(r){}};a.fn.qtipPopupShow=function(k,i,f,g,m,j,c){try{var b='<div class="'+i+'"></div> <table cellspacing="0" cellpadding="0" style="z-index:100;" height="'+g+'px" width="'+f+'px" id="bubble-face-table"> <tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"><a id="admin-bubble-close" class="qtip-close-button-visible" onclick="closeQtip(\''+k+"','"+m+"',"+j+');"></a></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';var l='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b-visible"></td><td class="bubble-br"></td></tr></tbody></table>';var d=b+"<div id='paintContentVisiblePopup'><div id='show_expertus_message'></div><div id='paintContent"+k+"'></div></div>"+l;a("#"+k+" #visible-popup-"+m).html(d);if(c.beforeShow!==undefined){c.beforeShow.call();}a("#"+k+" #visible-popup-"+m).show();if(c.afterShow!==undefined){c.afterShow.call();
}}catch(h){alert(h);}};a.fn.tipPositioning=function(d,b,g,c){try{a("#"+c+" ."+d).css("position","absolute").css("top",b+"px").css("left",g+"px");}catch(f){alert(f);}};a.fn.qtipMiddle=function(i,h,n,f,p,g,o,j,r,t,q){try{var l=0;var d=(h-40)/3;if(f==""&&p==""){var c=d/3;var s=c/2;l=d+parseInt(c)+parseInt(s)-(g-(o/2));}else{if(f!=""){l=d+parseInt(f);}else{l=d-p;}}var b=n.left-l+j.left;if(q=="bottom"){a("#"+r+" #visible-popup-"+t+" #bubble-face-table").css("position","absolute").css("bottom",i+"px").css("left",b+"px");}else{a("#"+r+" #visible-popup-"+t+" #bubble-face-table").css("position","absolute").css("top",i+"px").css("left",b+"px");}}catch(k){alert(k);}};a.fn.qtipLeft=function(i,h,n,f,g,o,j,q,s,p){try{var l=0;var d=(h-40)/3;if(f==""){var c=d/3;var r=c/2;l=(c)+(r)-(g-(o/2));}else{tipleft1=f;if(tipleft1>0){l=tipleft1;}}var b=n.left-l+j.left;if(p=="bottom"){a("#"+q+" #visible-popup-"+s+" #bubble-face-table").css("position","absolute").css("bottom",i+"px").css("left",b+"px");}else{a("#"+q+" #visible-popup-"+s+" #bubble-face-table").css("position","absolute").css("top",i+"px").css("left",b+"px");
}}catch(k){alert(k);}};a.fn.qtipRight=function(v,h,u,q,f,o,i,k,j,p){try{var l=0;var b=(h-40)/3;if(q==""){var n=b/3;var c=n/2;l=(b*2)+parseInt(n)+parseInt(c)-(f-(o/2));}else{var t=(b*2);var g=h-(f+(o/2)+10);tipleft1=t+parseInt(q);if(tipleft1>g){l=(f+(o/2))+t;}else{l=tipleft1;}}var r=u.left-l-10+i.left;if(p=="bottom"){a("#"+k+" #visible-popup-"+j+" #bubble-face-table").css("position","absolute").css("bottom",v+"px").css("left",r+"px");}else{a("#"+k+" #visible-popup-"+j+" #bubble-face-table").css("position","absolute").css("top",v+"px").css("left",r+"px");}}catch(s){alert(s);}};a.fn.qtipExemptedPosition=function(b){try{var d=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))?true:false;if(b=="enrolled-all-exempted-disp"){if(a.browser.msie&&a.browser.version==10){posmin=32;}else{if(d){posmin=32;}else{if(a.browser.msie&&a.browser.version==9){posmin=12;}else{if(navigator.userAgent.indexOf("Chrome")>0){posmin=32;}else{posmin=8;}}}}}else{if(b=="qtipAttachIdqtip_exempted_single_disp"){if(a.browser.msie&&a.browser.version==10){posmin=18;
}else{if(d){posmin=18;}else{if(a.browser.msie&&a.browser.version==9){posmin=18;}else{posmin=15;}}}}else{if(b=="qtipAttachIdqtip_exempted_disp_all"){if(a.browser.msie&&a.browser.version==10){posmin=21;}else{if(d){posmin=21;}else{if(a.browser.msie&&a.browser.version==9){posmin=8;}else{posmin=21;}}}}}}return posmin;}catch(c){alert(c);}};a.fn.qtipCustomLeft=function(c){try{var g=Drupal.settings.ajaxPageState.theme;var i=c.wid;var f=c.poslwid;var m=c.posrwid;var j=c.heg;var q=c.popupDispId;var o=c.onClsFn;var r=c.entityId;var n=c.disp;var l=c.linkid;var p=c.dispDown;var b;var d=c.catalogVisibleId;var h=c.possubtype;setTimeout(function(){h=(h==null||h==undefined)?"middleLeft":h;var v=a("#"+l).position();var A=a("#"+l).height();var B=a("#"+l).width();var w=a("#"+l).offset();var x="qtip-tip-point-right";a(this).qtipPopupShow(q,x,i,j,r,o,c);var y=a("."+x).height();var z=a("."+x).width();var C=parseInt(y/2)-20;var t=parseInt(z/2)-z;a("."+x).css("top",C+"px").css("left",t+"px");var e=a("."+x).position();
var s=e.left-i+20;var u=(v.top==0)?v.top:y+(y/2)-j;if(h=="middleLeft"){u=parseInt(j/2)-(y/2)+10;s=e.left-i+20;}else{if(h=="bottomleft"||h=="topleft"){}else{if(h=="bottomright"||h=="topright"){}}}a("#"+q+" #visible-popup-"+r+" #bubble-face-table").css("position","absolute").css("top","-"+u+"px").css("left",s+"px");},10);}catch(k){alert(k);}};})(jQuery);;
(function(a,b){if(typeof exports==="object"){b(exports);}else{if(typeof define==="function"&&define.amd){define(["exports"],b);}else{b(a);}}}(this,function(J){var t="2.5.0";function G(S){this._targetElement=S;this._introItems=[];this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:false,hideNext:false,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:true,exitOnOverlayClick:true,showStepNumbers:true,keyboardNavigation:true,showButtons:true,showBullets:true,showProgress:false,scrollToElement:true,overlayOpacity:0.8,scrollPadding:30,positionPrecedence:["bottom","top","right","left"],disableInteraction:false,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:true};}function P(ac){var T=[],ag=this;if(this._options.steps){for(var X=0,ae=this._options.steps.length;X<ae;X++){var ad=l(this._options.steps[X]);ad.step=T.length+1;if(typeof(ad.element)==="string"){ad.element=document.querySelector(ad.element);}if(typeof(ad.element)==="undefined"||ad.element==null){var ah=document.querySelector(".introjsFloatingElement");
if(ah==null){ah=document.createElement("div");ah.className="introjsFloatingElement";document.body.appendChild(ah);}ad.element=ah;ad.position="floating";}if(ad.element!=null){T.push(ad);}}}else{var Y=ac.querySelectorAll("*[data-intro]");if(Y.length<1){return false;}for(var X=0,U=Y.length;X<U;X++){var Z=Y[X];if(Z.style.display=="none"){continue;}var S=parseInt(Z.getAttribute("data-step"),10);if(S>0){T[S-1]={element:Z,intro:Z.getAttribute("data-intro"),step:parseInt(Z.getAttribute("data-step"),10),tooltipClass:Z.getAttribute("data-tooltipClass"),highlightClass:Z.getAttribute("data-highlightClass"),position:Z.getAttribute("data-position")||this._options.tooltipPosition};}}var V=0;for(var X=0,U=Y.length;X<U;X++){var Z=Y[X];if(Z.getAttribute("data-step")==null){while(true){if(typeof T[V]=="undefined"){break;}else{V++;}}T[V]={element:Z,intro:Z.getAttribute("data-intro"),step:V+1,tooltipClass:Z.getAttribute("data-tooltipClass"),highlightClass:Z.getAttribute("data-highlightClass"),position:Z.getAttribute("data-position")||this._options.tooltipPosition};
}}}var ab=[];for(var aa=0;aa<T.length;aa++){T[aa]&&ab.push(T[aa]);}T=ab;T.sort(function(aj,ai){return aj.step-ai.step;});ag._introItems=T;if(m.call(ag,ac)){a.call(ag);var af=ac.querySelector(".introjs-skipbutton"),W=ac.querySelector(".introjs-nextbutton");ag._onKeyDown=function(aj){if(aj.keyCode===27&&ag._options.exitOnEsc==true){D.call(ag,ac);}else{if(aj.keyCode===37){M.call(ag);}else{if(aj.keyCode===39){a.call(ag);}else{if(aj.keyCode===13){var ai=aj.target||aj.srcElement;if(ai&&ai.className.indexOf("introjs-prevbutton")>0){M.call(ag);}else{if(ai&&ai.className.indexOf("introjs-skipbutton")>0){if(ag._introItems.length-1==ag._currentStep&&typeof(ag._introCompleteCallback)==="function"){ag._introCompleteCallback.call(ag);}D.call(ag,ac);}else{a.call(ag);}}if(aj.preventDefault){aj.preventDefault();}else{aj.returnValue=false;}}}}}};ag._onResize=function(ai){x.call(ag,document.querySelector(".introjs-helperLayer"));x.call(ag,document.querySelector(".introjs-tooltipReferenceLayer"));};if(window.addEventListener){if(this._options.keyboardNavigation){window.addEventListener("keydown",ag._onKeyDown,true);
}window.addEventListener("resize",ag._onResize,true);}else{if(document.attachEvent){if(this._options.keyboardNavigation){document.attachEvent("onkeydown",ag._onKeyDown);}document.attachEvent("onresize",ag._onResize);}}}return false;}function l(T){if(T==null||typeof(T)!="object"||typeof(T.nodeType)!="undefined"){return T;}var S={};for(var U in T){if(typeof(jQuery)!="undefined"&&T[U] instanceof jQuery){S[U]=T[U];}else{S[U]=l(T[U]);}}return S;}function n(S){this._currentStep=S-2;if(typeof(this._introItems)!=="undefined"){a.call(this);}}function e(S){this._currentStepNumber=S;if(typeof(this._introItems)!=="undefined"){a.call(this);}}function a(){this._direction="forward";if(typeof(this._currentStepNumber)!=="undefined"){for(var U=0,T=this._introItems.length;U<T;U++){var V=this._introItems[U];if(V.step===this._currentStepNumber){this._currentStep=U-1;this._currentStepNumber=undefined;}}}if(typeof(this._currentStep)==="undefined"){this._currentStep=0;}else{++this._currentStep;}if((this._introItems.length)<=this._currentStep){if(typeof(this._introCompleteCallback)==="function"){this._introCompleteCallback.call(this);
}D.call(this,this._targetElement);return;}var S=this._introItems[this._currentStep];if(typeof(this._introBeforeChangeCallback)!=="undefined"){this._introBeforeChangeCallback.call(this,S.element);}I.call(this,S);}function M(){this._direction="backward";if(this._currentStep===0){return false;}var S=this._introItems[--this._currentStep];if(typeof(this._introBeforeChangeCallback)!=="undefined"){this._introBeforeChangeCallback.call(this,S.element);}I.call(this,S);}function D(Y){var V=Y.querySelectorAll(".introjs-overlay");if(V&&V.length>0){for(var W=V.length-1;W>=0;W--){var aa=V[W];aa.style.opacity=0;setTimeout(function(){if(this.parentNode){this.parentNode.removeChild(this);}}.bind(aa),500);}}var S=Y.querySelector(".introjs-helperLayer");if(S){S.parentNode.removeChild(S);}var Z=Y.querySelector(".introjs-tooltipReferenceLayer");if(Z){Z.parentNode.removeChild(Z);}var X=Y.querySelector(".introjs-disableInteraction");if(X){X.parentNode.removeChild(X);}var T=document.querySelector(".introjsFloatingElement");
if(T){T.parentNode.removeChild(T);}R();var U=document.querySelectorAll(".introjs-fixParent");if(U&&U.length>0){for(var W=U.length-1;W>=0;W--){U[W].className=U[W].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");}}if(window.removeEventListener){window.removeEventListener("keydown",this._onKeyDown,true);}else{if(document.detachEvent){document.detachEvent("onkeydown",this._onKeyDown);}}if(this._introExitCallback!=undefined){this._introExitCallback.call(self);}this._currentStep=undefined;}function O(W,ad,ab,aa,ae){var T="",X,Y,af,Z,U;ae=ae||false;ad.style.top=null;ad.style.right=null;ad.style.bottom=null;ad.style.left=null;ad.style.marginLeft=null;ad.style.marginTop=null;ab.style.display="inherit";if(typeof(aa)!="undefined"&&aa!=null){aa.style.top=null;aa.style.left=null;}if(!this._introItems[this._currentStep]){return;}X=this._introItems[this._currentStep];if(typeof(X.tooltipClass)==="string"){T=X.tooltipClass;}else{T=this._options.tooltipClass;}ad.className=("introjs-tooltip "+T).replace(/^\s+|\s+$/g,"");
U=this._introItems[this._currentStep].position;if((U=="auto"||this._options.tooltipPosition=="auto")){if(U!="floating"){U=F.call(this,W,ad,U);}}af=b(W);Y=b(ad);Z=r();switch(U){case"top":ab.className="introjs-arrow bottom";if(ae){var V=0;}else{var V=15;}q(af,V,Y,Z,ad);ad.style.bottom=(af.height+20)+"px";break;case"right":ad.style.left=(af.width+20)+"px";if(af.top+Y.height>Z.height){ab.className="introjs-arrow left-bottom";ad.style.top="-"+(Y.height-af.height-20)+"px";}else{ab.className="introjs-arrow left";}break;case"left":if(!ae&&this._options.showStepNumbers==true){ad.style.top="15px";}if(af.top+Y.height>Z.height){ad.style.top="-"+(Y.height-af.height-20)+"px";ab.className="introjs-arrow right-bottom";}else{ab.className="introjs-arrow right";}ad.style.right=(af.width+20)+"px";break;case"floating":ab.style.display="none";ad.style.left="50%";ad.style.top="50%";ad.style.marginLeft="-"+(Y.width/2)+"px";ad.style.marginTop="-"+(Y.height/2)+"px";if(typeof(aa)!="undefined"&&aa!=null){aa.style.left="-"+((Y.width/2)+18)+"px";
aa.style.top="-"+((Y.height/2)+18)+"px";}break;case"bottom-right-aligned":ab.className="introjs-arrow top-right";var ac=0;f(af,ac,Y,ad);ad.style.top=(af.height+20)+"px";break;case"bottom-middle-aligned":ab.className="introjs-arrow top-middle";var S=af.width/2-Y.width/2;if(ae){S+=5;}if(f(af,S,Y,ad)){ad.style.right=null;q(af,S,Y,Z,ad);}ad.style.top=(af.height+20)+"px";break;case"bottom-left-aligned":case"bottom":default:ab.className="introjs-arrow top";var V=0;q(af,V,Y,Z,ad);ad.style.top=(af.height+20)+"px";break;}}function q(W,U,V,S,T){if(W.left+U+V.width>S.width){T.style.left=(S.width-V.width-W.left)+"px";return false;}T.style.left=U+"px";return true;}function f(V,T,U,S){if(V.left+V.width-T-U.width<0){S.style.left=(-V.left)+"px";return false;}S.style.right=T+"px";return true;}function F(V,Y,W){var T=this._options.positionPrecedence.slice();var X=r();var Z=b(Y).height+10;var U=b(Y).width+20;var aa=b(V);var S="floating";if(aa.left+U>X.width||((aa.left+(aa.width/2))-U)<0){K(T,"bottom");K(T,"top");
}else{if((aa.height+aa.top+Z)>X.height){K(T,"bottom");}if(aa.top-Z<0){K(T,"top");}}if(aa.width+aa.left+U>X.width){K(T,"right");}if(aa.left-U<0){K(T,"left");}if(T.length>0){S=T[0];}if(W&&W!="auto"){if(T.indexOf(W)>-1){S=W;}}return S;}function K(S,T){if(S.indexOf(T)>-1){S.splice(S.indexOf(T),1);}}function x(S){if(S){if(!this._introItems[this._currentStep]){return;}var T=this._introItems[this._currentStep],U=b(T.element),V=10;if(g(T.element)){S.className+=" introjs-fixedTooltip";}else{S.className=S.className.replace(" introjs-fixedTooltip","");}if(T.position=="floating"){V=0;}S.setAttribute("style","width: "+(U.width+V)+"px; height:"+(U.height+V)+"px; top:"+(U.top-5)+"px;left: "+(U.left-5)+"px;");}}function k(){var S=document.querySelector(".introjs-disableInteraction");if(S===null){S=document.createElement("div");S.className="introjs-disableInteraction";this._targetElement.appendChild(S);}x.call(this,S);}function s(S){S.setAttribute("role","button");S.tabIndex=0;}function I(ah){if(typeof(this._introChangeCallback)!=="undefined"){this._introChangeCallback.call(this,ah.element);
}var ak=this,ab=document.querySelector(".introjs-helperLayer"),ar=document.querySelector(".introjs-tooltipReferenceLayer"),ay="introjs-helperLayer",ai=b(ah.element);if(typeof(ah.highlightClass)==="string"){ay+=(" "+ah.highlightClass);}if(typeof(this._options.highlightClass)==="string"){ay+=(" "+this._options.highlightClass);}if(ab!=null){var ax=ar.querySelector(".introjs-helperNumberLayer"),Y=ar.querySelector(".introjs-tooltiptext"),W=ar.querySelector(".introjs-arrow"),at=ar.querySelector(".introjs-tooltip"),az=ar.querySelector(".introjs-skipbutton"),T=ar.querySelector(".introjs-prevbutton"),ag=ar.querySelector(".introjs-nextbutton");ab.className=ay;at.style.opacity=0;at.style.display="none";if(ax!=null){var aA=this._introItems[(ah.step-2>=0?ah.step-2:0)];if(aA!=null&&(this._direction=="forward"&&aA.position=="floating")||(this._direction=="backward"&&ah.position=="floating")){ax.style.opacity=0;}}x.call(ak,ab);x.call(ak,ar);var V=document.querySelectorAll(".introjs-fixParent");if(V&&V.length>0){for(var aq=V.length-1;
aq>=0;aq--){V[aq].className=V[aq].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");}}R();if(ak._lastShowElementTimer){clearTimeout(ak._lastShowElementTimer);}ak._lastShowElementTimer=setTimeout(function(){if(ax!=null){ax.innerHTML=ah.step;}Y.innerHTML=ah.intro;at.style.display="block";O.call(ak,ah.element,at,W,ax);if(ak._options.showBullets){ar.querySelector(".introjs-bullets li > a.active").className="";ar.querySelector('.introjs-bullets li > a[data-stepnumber="'+ah.step+'"]').className="active";}ar.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+B.call(ak)+"%;");at.style.opacity=1;if(ax){ax.style.opacity=1;}if(ag.tabIndex===-1){az.focus();}else{ag.focus();}},350);}else{var av=document.createElement("div"),aw=document.createElement("div"),aa=document.createElement("div"),Z=document.createElement("div"),af=document.createElement("div"),ap=document.createElement("div"),S=document.createElement("div"),ac=document.createElement("div");
av.className=ay;aw.className="introjs-tooltipReferenceLayer";x.call(ak,av);x.call(ak,aw);this._targetElement.appendChild(av);this._targetElement.appendChild(aw);aa.className="introjs-arrow";af.className="introjs-tooltiptext";af.innerHTML=ah.intro;ap.className="introjs-bullets";if(this._options.showBullets===false){ap.style.display="none";}var ao=document.createElement("ul");for(var aq=0,an=this._introItems.length;aq<an;aq++){var au=document.createElement("li");var ad=document.createElement("a");ad.onclick=function(){ak.goToStep(this.getAttribute("data-stepnumber"));};if(aq===(ah.step-1)){ad.className="active";}s(ad);ad.innerHTML="&nbsp;";ad.setAttribute("data-stepnumber",this._introItems[aq].step);au.appendChild(ad);ao.appendChild(au);}ap.appendChild(ao);S.className="introjs-progress";if(this._options.showProgress===false){S.style.display="none";}var al=document.createElement("div");al.className="introjs-progressbar";al.setAttribute("style","width:"+B.call(this)+"%;");S.appendChild(al);
ac.className="introjs-tooltipbuttons";if(this._options.showButtons===false){ac.style.display="none";}Z.className="introjs-tooltip";Z.appendChild(af);Z.appendChild(ap);Z.appendChild(S);if(this._options.showStepNumbers==true){var am=document.createElement("span");am.className="introjs-helperNumberLayer";am.innerHTML=ah.step;aw.appendChild(am);}Z.appendChild(aa);aw.appendChild(Z);var ag=document.createElement("a");ag.onclick=function(){if(ak._introItems.length-1!=ak._currentStep){a.call(ak);}};s(ag);ag.innerHTML=this._options.nextLabel;var T=document.createElement("a");T.onclick=function(){if(ak._currentStep!=0){M.call(ak);}};s(T);T.innerHTML=this._options.prevLabel;var az=document.createElement("a");az.className="introjs-button introjs-skipbutton";s(az);az.innerHTML=this._options.skipLabel;az.onclick=function(){if(ak._introItems.length-1==ak._currentStep&&typeof(ak._introCompleteCallback)==="function"){ak._introCompleteCallback.call(ak);}D.call(ak,ak._targetElement);};ac.appendChild(az);if(this._introItems.length>1){ac.appendChild(T);
ac.appendChild(ag);}Z.appendChild(ac);O.call(ak,ah.element,Z,aa,am);}if(this._options.disableInteraction===true){k.call(ak);}T.removeAttribute("tabIndex");ag.removeAttribute("tabIndex");if(this._currentStep==0&&this._introItems.length>1){az.className="introjs-button introjs-skipbutton";ag.className="introjs-button introjs-nextbutton";if(this._options.hidePrev==true){T.className="introjs-button introjs-prevbutton introjs-hidden";ag.className+=" introjs-fullbutton";}else{T.className="introjs-button introjs-prevbutton introjs-disabled";}T.tabIndex="-1";az.innerHTML=this._options.skipLabel;}else{if(this._introItems.length-1==this._currentStep||this._introItems.length==1){az.innerHTML=this._options.doneLabel;az.className+=" introjs-donebutton";T.className="introjs-button introjs-prevbutton";if(this._options.hideNext==true){ag.className="introjs-button introjs-nextbutton introjs-hidden";T.className+=" introjs-fullbutton";}else{ag.className="introjs-button introjs-nextbutton introjs-disabled";
}ag.tabIndex="-1";}else{az.className="introjs-button introjs-skipbutton";T.className="introjs-button introjs-prevbutton";ag.className="introjs-button introjs-nextbutton";az.innerHTML=this._options.skipLabel;}}ag.focus();Q(ah);if(!p(ah.element)&&this._options.scrollToElement===true){var U=ah.element.getBoundingClientRect(),X=r().height,aj=U.bottom-(U.bottom-U.top),ae=U.bottom-X;if(aj<0||ah.element.clientHeight>X){window.scrollBy(0,aj-this._options.scrollPadding);}else{window.scrollBy(0,ae+70+this._options.scrollPadding);}}if(typeof(this._introAfterChangeCallback)!=="undefined"){this._introAfterChangeCallback.call(this,ah.element);}}function R(){var U=document.querySelectorAll(".introjs-showElement");for(var T=0,S=U.length;T<S;T++){var V=U[T];y(V,/introjs-[a-zA-Z]+/g);}}function Q(V){if(V.element instanceof SVGElement){var W=V.element.parentNode;while(V.element.parentNode!=null){if(!W.tagName||W.tagName.toLowerCase()==="body"){break;}if(W.tagName.toLowerCase()==="svg"){C(W,"introjs-showElement introjs-relativePosition");
}W=W.parentNode;}}C(V.element,"introjs-showElement");var S=N(V.element,"position");if(S!=="absolute"&&S!=="relative"&&S!=="fixed"){C(V.element,"introjs-relativePosition");}var W=V.element.parentNode;while(W!=null){if(!W.tagName||W.tagName.toLowerCase()==="body"){break;}var X=N(W,"z-index");var U=parseFloat(N(W,"opacity"));var T=N(W,"transform")||N(W,"-webkit-transform")||N(W,"-moz-transform")||N(W,"-ms-transform")||N(W,"-o-transform");if(/[0-9]+/.test(X)||U<1||(T!=="none"&&T!==undefined)){W.className+=" introjs-fixParent";}W=W.parentNode;}}function C(S,T){if(S instanceof SVGElement){var U=S.getAttribute("class")||"";S.setAttribute("class",U+" "+T);}else{S.className+=" "+T;}}function y(T,S){if(T instanceof SVGElement){var U=T.getAttribute("class")||"";T.setAttribute("class",U.replace(S,"").replace(/^\s+|\s+$/g,""));}else{T.className=T.className.replace(S,"").replace(/^\s+|\s+$/g,"");}}function N(S,T){var U="";if(S.currentStyle){U=S.currentStyle[T];}else{if(document.defaultView&&document.defaultView.getComputedStyle){U=document.defaultView.getComputedStyle(S,null).getPropertyValue(T);
}}if(U&&U.toLowerCase){return U.toLowerCase();}else{return U;}}function g(S){var T=S.parentNode;if(!T||T.nodeName==="HTML"){return false;}if(N(S,"position")=="fixed"){return true;}return g(T);}function r(){if(window.innerWidth!=undefined){return{width:window.innerWidth,height:window.innerHeight};}else{var S=document.documentElement;return{width:S.clientWidth,height:S.clientHeight};}}function p(S){var T=S.getBoundingClientRect();return(T.top>=0&&T.left>=0&&(T.bottom+80)<=window.innerHeight&&T.right<=window.innerWidth);}function m(V){var S=document.createElement("div"),W="",T=this;S.className="introjs-overlay";if(!V.tagName||V.tagName.toLowerCase()==="body"){W+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;";S.setAttribute("style",W);}else{var U=b(V);if(U){W+="width: "+U.width+"px; height:"+U.height+"px; top:"+U.top+"px;left: "+U.left+"px;";S.setAttribute("style",W);}}V.appendChild(S);S.onclick=function(){if(T._options.exitOnOverlayClick==true){D.call(T,V);}};setTimeout(function(){W+="opacity: "+T._options.overlayOpacity.toString()+";";
S.setAttribute("style",W);},10);return true;}function c(){var T=this._targetElement.querySelector(".introjs-hintReference");if(T){var S=T.getAttribute("data-step");T.parentNode.removeChild(T);return S;}}function u(Y){var T=this;this._introItems=[];if(this._options.hints){for(var X=0,S=this._options.hints.length;X<S;X++){var W=l(this._options.hints[X]);if(typeof(W.element)==="string"){W.element=document.querySelector(W.element);}W.hintPosition=W.hintPosition||this._options.hintPosition;W.hintAnimation=W.hintAnimation||this._options.hintAnimation;if(W.element!=null){this._introItems.push(W);}}}else{var Z=Y.querySelectorAll("*[data-hint]");if(Z.length<1){return false;}for(var X=0,S=Z.length;X<S;X++){var U=Z[X];var V=U.getAttribute("data-hintAnimation");if(V){V=(V=="true");}else{V=this._options.hintAnimation;}this._introItems.push({element:U,hint:U.getAttribute("data-hint"),hintPosition:U.getAttribute("data-hintPosition")||this._options.hintPosition,hintAnimation:V,tooltipClass:U.getAttribute("data-tooltipClass"),position:U.getAttribute("data-position")||this._options.tooltipPosition});
}}z.call(this);if(document.addEventListener){document.addEventListener("click",c.bind(this),false);window.addEventListener("resize",w.bind(this),true);}else{if(document.attachEvent){document.attachEvent("onclick",c.bind(this));document.attachEvent("onresize",w.bind(this));}}}function w(){for(var T=0,S=this._introItems.length;T<S;T++){var U=this._introItems[T];if(typeof(U.targetElement)=="undefined"){continue;}v.call(this,U.hintPosition,U.element,U.targetElement);}}function h(T){c.call(this);var S=this._targetElement.querySelector('.introjs-hint[data-step="'+T+'"]');if(S){S.className+=" introjs-hidehint";}if(typeof(this._hintCloseCallback)!=="undefined"){this._hintCloseCallback.call(this,T);}}function j(){var T=this._targetElement.querySelectorAll(".introjs-hint");if(T&&T.length>0){for(var S=0;S<T.length;S++){h.call(this,T[S].getAttribute("data-step"));}}}function i(){var T=this._targetElement.querySelectorAll(".introjs-hint");if(T&&T.length>0){for(var S=0;S<T.length;S++){E.call(this,T[S].getAttribute("data-step"));
}}else{u.call(this,this._targetElement);}}function E(T){var S=this._targetElement.querySelector('.introjs-hint[data-step="'+T+'"]');if(S){S.className=S.className.replace(/introjs\-hidehint/g,"");}}function d(){var T=this._targetElement.querySelectorAll(".introjs-hint");if(T&&T.length>0){for(var S=0;S<T.length;S++){A.call(this,T[S].getAttribute("data-step"));}}}function A(T){var S=this._targetElement.querySelector('.introjs-hint[data-step="'+T+'"]');if(S){S.parentNode.removeChild(S);}}function z(){var aa=this;var W=document.querySelector(".introjs-hints");if(W!=null){S=W;}else{var S=document.createElement("div");S.className="introjs-hints";}for(var V=0,T=this._introItems.length;V<T;V++){var Y=this._introItems[V];if(document.querySelector('.introjs-hint[data-step="'+V+'"]')){continue;}var U=document.createElement("a");s(U);(function(ad,ac,ab){ad.onclick=function(af){var ae=af?af:window.event;if(ae.stopPropagation){ae.stopPropagation();}if(ae.cancelBubble!=null){ae.cancelBubble=true;}H.call(aa,ad,ac,ab);
};}(U,Y,V));U.className="introjs-hint";if(!Y.hintAnimation){U.className+=" introjs-hint-no-anim";}if(g(Y.element)){U.className+=" introjs-fixedhint";}var Z=document.createElement("div");Z.className="introjs-hint-dot";var X=document.createElement("div");X.className="introjs-hint-pulse";U.appendChild(Z);U.appendChild(X);U.setAttribute("data-step",V);Y.targetElement=Y.element;Y.element=U;v.call(this,Y.hintPosition,U,Y.targetElement);S.appendChild(U);}document.body.appendChild(S);if(typeof(this._hintsAddedCallback)!=="undefined"){this._hintsAddedCallback.call(this);}}function v(S,W,T){var V=b.call(this,T);var U=20;var X=20;switch(S){default:case"top-left":W.style.left=V.left+"px";W.style.top=V.top+"px";break;case"top-right":W.style.left=(V.left+V.width-U)+"px";W.style.top=V.top+"px";break;case"bottom-left":W.style.left=V.left+"px";W.style.top=(V.top+V.height-X)+"px";break;case"bottom-right":W.style.left=(V.left+V.width-U)+"px";W.style.top=(V.top+V.height-X)+"px";break;case"middle-left":W.style.left=V.left+"px";
W.style.top=(V.top+(V.height-X)/2)+"px";break;case"middle-right":W.style.left=(V.left+V.width-U)+"px";W.style.top=(V.top+(V.height-X)/2)+"px";break;case"middle-middle":W.style.left=(V.left+(V.width-U)/2)+"px";W.style.top=(V.top+(V.height-X)/2)+"px";break;case"bottom-middle":W.style.left=(V.left+(V.width-U)/2)+"px";W.style.top=(V.top+V.height-X)+"px";break;case"top-middle":W.style.left=(V.left+(V.width-U)/2)+"px";W.style.top=V.top+"px";break;}}function H(U,ab,T){if(typeof(this._hintClickCallback)!=="undefined"){this._hintClickCallback.call(this,U,ab,T);}var W=c.call(this);if(parseInt(W,10)==T){return;}var aa=document.createElement("div");var Y=document.createElement("div");var Z=document.createElement("div");var X=document.createElement("div");aa.className="introjs-tooltip";aa.onclick=function(ac){if(ac.stopPropagation){ac.stopPropagation();}else{ac.cancelBubble=true;}};Y.className="introjs-tooltiptext";var V=document.createElement("p");V.innerHTML=ab.hint;var S=document.createElement("a");
S.className="introjs-button";S.innerHTML=this._options.hintButtonLabel;S.onclick=h.bind(this,T);Y.appendChild(V);Y.appendChild(S);Z.className="introjs-arrow";aa.appendChild(Z);aa.appendChild(Y);this._currentStep=U.getAttribute("data-step");X.className="introjs-tooltipReferenceLayer introjs-hintReference";X.setAttribute("data-step",U.getAttribute("data-step"));x.call(this,X);X.appendChild(aa);document.body.appendChild(X);O.call(this,U,aa,Z,null,true);}function b(W){var V={};var X=document.body;var S=document.documentElement;var T=window.pageYOffset||S.scrollTop||X.scrollTop;var U=window.pageXOffset||S.scrollLeft||X.scrollLeft;if(W instanceof SVGElement){var aa=W.getBoundingClientRect();V.top=aa.top+T;V.width=aa.width;V.height=aa.height;V.left=aa.left+U;}else{V.width=W.offsetWidth;V.height=W.offsetHeight;var Z=0;var Y=0;while(W&&!isNaN(W.offsetLeft)&&!isNaN(W.offsetTop)){Z+=W.offsetLeft;Y+=W.offsetTop;W=W.offsetParent;}V.top=Y;V.left=Z;}return V;}function B(){var S=parseInt((this._currentStep+1),10);
return((S/this._introItems.length)*100);}function o(V,U){var T={};for(var S in V){T[S]=V[S];}for(var S in U){T[S]=U[S];}return T;}var L=function(T){if(typeof(T)==="object"){return new G(T);}else{if(typeof(T)==="string"){var S=document.querySelector(T);if(S){return new G(S);}else{throw new Error("There is no element with given selector.");}}else{return new G(document.body);}}};L.version=t;L.fn=G.prototype={clone:function(){return new G(this);},setOption:function(S,T){this._options[S]=T;return this;},setOptions:function(S){this._options=o(this._options,S);return this;},start:function(){P.call(this,this._targetElement);return this;},goToStep:function(S){n.call(this,S);return this;},addStep:function(S){if(!this._options.steps){this._options.steps=[];}this._options.steps.push(S);return this;},addSteps:function(S){if(!S.length){return;}for(var T=0;T<S.length;T++){this.addStep(S[T]);}return this;},goToStepNumber:function(S){e.call(this,S);return this;},nextStep:function(){a.call(this);return this;
},previousStep:function(){M.call(this);return this;},exit:function(){D.call(this,this._targetElement);return this;},refresh:function(){x.call(this,document.querySelector(".introjs-helperLayer"));x.call(this,document.querySelector(".introjs-tooltipReferenceLayer"));w.call(this);return this;},onbeforechange:function(S){if(typeof(S)==="function"){this._introBeforeChangeCallback=S;}else{throw new Error("Provided callback for onbeforechange was not a function");}return this;},onchange:function(S){if(typeof(S)==="function"){this._introChangeCallback=S;}else{throw new Error("Provided callback for onchange was not a function.");}return this;},onafterchange:function(S){if(typeof(S)==="function"){this._introAfterChangeCallback=S;}else{throw new Error("Provided callback for onafterchange was not a function");}return this;},oncomplete:function(S){if(typeof(S)==="function"){this._introCompleteCallback=S;}else{throw new Error("Provided callback for oncomplete was not a function.");}return this;},onhintsadded:function(S){if(typeof(S)==="function"){this._hintsAddedCallback=S;
}else{throw new Error("Provided callback for onhintsadded was not a function.");}return this;},onhintclick:function(S){if(typeof(S)==="function"){this._hintClickCallback=S;}else{throw new Error("Provided callback for onhintclick was not a function.");}return this;},onhintclose:function(S){if(typeof(S)==="function"){this._hintCloseCallback=S;}else{throw new Error("Provided callback for onhintclose was not a function.");}return this;},onexit:function(S){if(typeof(S)==="function"){this._introExitCallback=S;}else{throw new Error("Provided callback for onexit was not a function.");}return this;},addHints:function(){u.call(this,this._targetElement);return this;},hideHint:function(S){h.call(this,S);return this;},hideHints:function(){j.call(this);return this;},showHint:function(S){E.call(this,S);return this;},showHints:function(){i.call(this);return this;},removeHints:function(){d.call(this);return this;},removeHint:function(S){A.call(this,S);return this;}};J.introJs=L;return L;}));;
(function(a){a.widget("ui.exp_sp_tour",{getCurrentUrl:function(c){try{var b=window.location.href.split("/?q=");return b[1];}catch(d){}},getSteps:function(){try{var b=[];if(Drupal.settings.exp_sp_tour!==undefined){b=JSON.parse(Drupal.settings.exp_sp_tour.tourconfig);}return b;}catch(c){}},_init:function(){try{var c=(a("#tour_mylearn").length>0?true:false);var b=this.getSteps();if(!c&&((b!==undefined&&b.length>0)||a("[data-intro]").length>0)){a('<div class = "tour-outer-wrapper"><div id = "tour_mylearn" onclick="$(\'body\').data(\'exp_sp_tour\').startTour();"><p>'+Drupal.t("TOUR")+"</p></div></div>").prependTo("body");}if(Drupal.settings.exp_sp_tour.auto_start==1){setTimeout(function(){a("#tour_mylearn").click();},500);}}catch(d){}},startTour:function(){try{var d=introJs();var b=this.getSteps();var g=this;var c={showStepNumbers:false,overlayOpacity:0.5,exitOnOverlayClick:false,nextLabel:Drupal.t("LBL693"),prevLabel:Drupal.t("LBL692"),skipLabel:Drupal.t("LBL3213"),doneLabel:Drupal.t("LBL569")};
if(b!==undefined){c.steps=g.rearrangeStep(b).filter(function(h){var e=["#paintCriteriaResults","#refine-filter-pin-icon.pin-icon-white"];return((a(h.element).length>0&&a(h.element).is(":visible"))||h.welcomeText||e.indexOf(h.element)!=-1);});}d.setOptions(c).onbeforechange(function(h){try{var j=a("#paintCriteriaResults").hasClass("searchcriteria-div-unpinned");if(j){if(a(h).attr("id")=="paintCriteriaResults"){a("#lnr-catalog-search").data("lnrcatalogsearch").pinUnpinFilterCriteria();}else{if(a(h).is("#refine-filter-pin-icon.pin-icon-white")){a("#lnr-catalog-search").data("lnrcatalogsearch").pinUnpinFilterCriteria();}}}else{if(a(h).is("#refine-filter-pin-icon.pin-icon-black")){a("#lnr-catalog-search").data("lnrcatalogsearch").pinUnpinFilterCriteria();a(".catalog-criteria-refine-icon").trigger("mouseenter");}}a(".introjs-helperLayer-Mask").remove();}catch(i){}}).onafterchange(function(e){a(".introjs-helperLayer").clone().appendTo("body").addClass("introjs-helperLayer-Mask");a(".tour-common").css("height","41px");
a(".tour-filter").css("width","63px");a(".tour-filter").css("margin-left","-7px");a(".tour-common").css("margin-top","3px");}).oncomplete(function(){a(".introjs-helperLayer-Mask").remove();}).onexit(function(){a(".introjs-helperLayer-Mask").remove();}).start();}catch(f){}},rearrangeStep:function(b){if(this.getCurrentUrl()=="learning/enrollment-search"){var c=["#block-exp-sp-lnrlearningplan-tab-my-learningplan-customized","#block-exp-sp-lnrenrollment-tab-my-enrollment-customized","#block-exp-sp-instructor-desk-tab-instructor-desk-customized"];var d=function(g,e){if(a.inArray(g.element,c)!=-1&&a.inArray(e.element,c)!=-1){var i=a(g.element+", "+e.element);var h=0;var f=0;a(g.element+", "+e.element).each(function(j,k){if(a(k).is(g.element)){h=j;}else{if(a(k).is(e.element)){f=j;}}});if(h<f){return -1;}if(h>f){return 1;}}return 0;};return b.sort(d);}return b;}});a.extend(a.ui.exp_sp_tour.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget,{defaults:{start:true,catStart:true}});
})(jQuery);$(function(){try{$("body").exp_sp_tour();}catch(a){}});;
eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36));};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i);}d=[function(a){return f[a];}];g=function(){return"\\w+";};i=1;}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i]);}}return h;}(';(6($){3 1N="";3 3B=6(s,u){3 v=s;3 x=1b;3 u=$.3C({1c:4s,2w:7,2S:23,1O:9,1P:4t,3D:\'2g\',1J:10,3E:\'4u\',2T:\'\',2U:9,1k:\'\'},u);1b.1Z=21 3F();3 y="";3 z={};z.2V=9;z.2x=10;z.2y=1r;3 A=10;3 B={2W:\'4v\',1Q:\'4w\',1K:\'4x\',2h:\'4y\',1g:\'4z\',2X:\'4A\',2Y:\'4B\',4C:\'4D\',2z:\'4E\',3G:\'4F\'};3 C={2g:u.3D,2Z:\'2Z\',31:\'31\',32:\'32\',1w:\'1w\',1l:.30,1R:\'1R\',2A:\'2A\',2B:\'2B\',15:\'15\'};3 D={3H:"2C,33,34,1S,2D,2E,1s,1A,2F,1T,4G,22,35",1a:"1B,1x,1l,4H"};1b.1U=21 3F();3 E=$(v).1a("1d");5(1e(E)=="14"||E.18<=0){E="4I"+$.1V.3I++;$(v).2i("1d",E)};3 F=$(v).1a("1k");u.1k+=(F==14)?"":F;3 G=$(v).3J();A=($(v).1a("1B")>1||$(v).1a("1x")==9)?9:10;5(A){u.2w=$(v).1a("1B")};3 H={};3 I=0;3 J=10;3 K;3 L=10;3 M={};3 N="";3 O=6(a){5(1e(M[a])=="14"){M[a]=1o.4J(a)}11 M[a]};3 P=6(a){11 E+B[a]};3 Q=6(a){3 b=a;3 c=$(b).1a("1k");11(1e c=="14")?"":c.4K};3 R=6(a){3 b=$("#"+E+" 36:15");5(b.18>1){1C(3 i=0;i<b.18;i++){5(a==b[i].1j){11 9}}}19 5(b.18==1){5(b[0].1j==a){11 9}};11 10};3 S=6(a,b,c,d){3 e="";3 f=(d=="3a")?P("2Y"):P("2X");3 g=(d=="3a")?f+"3b"+(b)+"3b"+(c):f+"3b"+(b);3 h="";3 t="";3 i="";3 j="";5(u.1J!=10){i=\' \'+u.1J+\' \'+a.3K}19{h=$(a).1a("1p");3 k=21 3L(/^\\{.*\\}$/);3 l=k.3M(h);5(u.2U==9&&l==9){5(h.18!=0){3 m=24("["+h+"]");1W=(1e m[0].2j=="14")?"":m[0].2j;t=(1e m[0].1p=="14")?"":m[0].1p;j=(1e m[0].3N=="14")?"":m[0].3N;h=(1W.18==0)?"":\'<1W 2G="\'+1W+\'" 2H="2I" /> \'}}19{h=(h.18==0)?"":\'<1W 2G="\'+h+\'" 2H="2I" /> \'}};3 n=$(a).1t();3 o=$(a).4L();3 p=($(a).1a("1l")==9)?"1l":"3c";H[g]={1L:h+n,2k:o,1t:n,1j:a.1j,1d:g,1p:t};3 q=Q(a);5(R(a.1j)==9){e+=\'<a 3O="3P:3Q(0);" 1u="\'+C.15+\' \'+p+i+\'"\'}19{e+=\'<a  3O="3P:3Q(0);" 1u="\'+p+i+\'"\'};5(q!==10&&q!==14&&q.18!=0){e+=" 1k=\'"+q+"\'"};5(t!==""){e+=" 1p=\'"+t+"\'"};e+=\' 1d="\'+g+\'">\';e+=h+\'<1y 1u="\'+C.1w+\'">\'+n+\'</1y>\';5(j!==""){e+=j};e+=\'</a>\';11 e};3 T=6(t){3 b=t.3d();5(b.18==0)11-1;3 a="";1C(3 i 2l H){3 c=H[i].1t.3d();5(c.3R(0,b.18)==b){a+="#"+H[i].1d+", "}};11(a=="")?-1:a};3 U=6(){3 f=G;5(f.18==0)11"";3 g="";3 h=P("2X");3 i=P("2Y");f.3e(6(c){3 d=f[c];5(d.4M.4N().3d()=="4O"){g+="<1z 1u=\'4P\'>";g+="<1y 1k=\'3S-4Q:4R;3S-1k:4S;4T:4U;\'>"+$(d).1a("4V")+"</1y>";3 e=$(d).3J();e.3e(6(a){3 b=e[a];g+=S(b,c,a,"3a")});g+="</1z>"}19{g+=S(d,c,"","")}});11 g};3 V=6(){3 a=P("1Q");3 b=P("1g");3 c=u.1k;25="";25+=\'<1z 1d="\'+b+\'" 1u="\'+C.32+\'"\';5(!A){25+=(c!="")?\' 1k="\'+c+\'"\':\'\'}19{25+=(c!="")?\' 1k="2J-1D:4W 4X #4Y;1q:2m;1m:2K;\'+c+\'"\':\'\'};25+=\'>\';11 25};3 W=6(){3 a=P("1K");3 b=P("2z");3 c=P("2h");3 d=P("3G");3 e="";3 f="";5(O(E).1E.18>0){e=$("#"+E+" 36:15").1t();f=$("#"+E+" 36:15").1a("1p")};3 g="";3 t="";3 h=21 3L(/^\\{.*\\}$/);3 i=h.3M(f);5(u.2U==9&&i==9){5(f.18!=0){3 j=24("["+f+"]");g=(1e j[0].2j=="14")?"":j[0].2j;t=(1e j[0].1p=="14")?"":j[0].1p;f=(g.18==0||u.1O==10||u.1J!=10)?"":\'<1W 2G="\'+g+\'" 2H="2I" /> \'}}19{f=(f.18==0||f==14||u.1O==10||u.1J!=10)?"":\'<1W 2G="\'+f+\'" 2H="2I" /> \'};3 k=\'<1z 1d="\'+a+\'" 1u="\'+C.2Z+\'"\';k+=\'>\';k+=\'<1y 1d="\'+b+\'" 1u="\'+C.31+\'"></1y><1y 1u="\'+C.1w+\'" 1d="\'+c+\'">\'+f+\'<1y 1u="\'+C.1w+\'">\'+e+\'</1y></1y></1z>\';11 k};3 X=6(){3 c=P("1g");$("#"+c+" a.3c").1F("1S");$("#"+c+" a.3c").1f("1S",6(a){a.26();3f(1b);28();5(!A){$("#"+c).1F("1A");29(10);3 b=(u.1O==10)?$(1b).1t():$(1b).1L();1X(b);x.2n()}})};3 Y=6(){3 d=10;3 e=P("1Q");3 f=P("1K");3 g=P("2h");3 h=P("1g");3 i=P("2z");3 j=$("#"+E).4Z();3 k=u.1k;5($("#"+e).18>0){$("#"+e).2L();d=9};3 l=\'<1z 1d="\'+e+\'" 1u="\'+C.2g+\'"\';l+=(k!="")?\' 1k="\'+k+\'"\':\'\';l+=\'>\';l+=W();l+=V();l+=U();l+="</1z>";l+="</1z>";5(d==9){3 m=P("2W");$("#"+m).3g(l)}19{$("#"+E).3g(l)};5(A){3 f=P("1K");$("#"+f).2o()};$("#"+e).12("3T",j+"1v");$("#"+h).12("3T",(j-2)+"1v");5(G.18>u.2w){3 n=2p($("#"+h+" a:3h").12("2q-3U"))+2p($("#"+h+" a:3h").12("2q-1D"));3 o=((u.2S)*u.2w)-n;$("#"+h).12("1c",o+"1v")}19 5(A){3 o=$("#"+E).1c();$("#"+h).12("1c",o+"1v")};5(d==10){3V();3W(E)};5($("#"+E).1a("1l")==9){$("#"+e).12("2M",C.1l)};3X();$("#"+f).1f("1A",6(a){3i(1)});$("#"+f).1f("1T",6(a){3i(0)});X();$("#"+h+" a.1l").12("2M",C.1l);5(A){$("#"+h).1f("1A",6(c){5(!z.2x){z.2x=9;$(1o).1f("22",6(a){3 b=a.3Y;z.2y=b;5(b==39||b==40){a.26();a.2r();3j();28()};5(b==37||b==38){a.26();a.2r();3k();28()}})}})};$("#"+h).1f("1T",6(a){29(10);$(1o).1F("22",2N);z.2x=10;z.2y=1r});$("#"+f).1f("1S",6(b){29(10);5($("#"+h+":2a").18==1){$("#"+h).1F("1A")}19{$("#"+h).1f("1A",6(a){29(9)});x.3Z()}});$("#"+f).1f("1T",6(a){29(10)});5(u.1O&&u.1J!=10){2s()}};3 Z=6(a){1C(3 i 2l H){5(H[i].1j==a){11 H[i]}};11-1};3 3f=6(a){3 b=P("1g");5($("#"+b+" a."+C.15).18==1){y=$("#"+b+" a."+C.15).1t()};5(!A){$("#"+b+" a."+C.15).1M(C.15)};3 c=$("#"+b+" a."+C.15).1a("1d");5(c!=14){3 d=(z.2b==14||z.2b==1r)?H[c].1j:z.2b};5(a&&!A){$(a).1G(C.15)};5(A){3 e=z.2y;5($("#"+E).1a("1x")==9){5(e==17){z.2b=H[$(a).1a("1d")].1j;$(a).50(C.15)}19 5(e==16){$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);3 f=$(a).1a("1d");3 g=H[f].1j;1C(3 i=3l.51(d,g);i<=3l.52(d,g);i++){$("#"+Z(i).1d).1G(C.15)}}19{$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);z.2b=H[$(a).1a("1d")].1j}}19{$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);z.2b=H[$(a).1a("1d")].1j}}};3 3W=6(a){3 b=a;O(b).53=6(e){$("#"+b).1V(u)}};3 29=6(a){z.2V=a};3 41=6(){11 z.2V};3 3X=6(){3 b=P("1Q");3 c=D.3H.54(",");1C(3 d=0;d<c.18;d++){3 e=c[d];3 f=2c(e);5(f==9){2O(e){1h"2C":$("#"+b).1f("55",6(a){O(E).2C()});1i;1h"1S":$("#"+b).1f("1S",6(a){$("#"+E).1H("1S")});1i;1h"2D":$("#"+b).1f("2D",6(a){$("#"+E).1H("2D")});1i;1h"2E":$("#"+b).1f("2E",6(a){$("#"+E).1H("2E")});1i;1h"1s":$("#"+b).1f("1s",6(a){$("#"+E).1H("1s")});1i;1h"1A":$("#"+b).1f("1A",6(a){$("#"+E).1H("1A")});1i;1h"2F":$("#"+b).1f("2F",6(a){$("#"+E).1H("2F")});1i;1h"1T":$("#"+b).1f("1T",6(a){$("#"+E).1H("1T")});1i}}}};3 3V=6(){3 a=P("2W");$("#"+E).3g("<1z 1u=\'"+C.1R+"\' 1k=\'1c:3m;42:43;1m:2P;\' 1d=\'"+a+"\'></1z>");$("#"+E).56($("#"+a))};3 1X=6(a){3 b=P("2h");$("#"+b).1L(a)};3 3n=6(w){3 a=w;3 b=P("1g");3 c=$("#"+b+" a:2a");3 d=c.18;3 e=$("#"+b+" a:2a").1j($("#"+b+" a.15:2a"));3 f;2O(a){1h"3o":5(e<d-1){e++;f=c[e]};1i;1h"44":5(e<d&&e>0){e--;f=c[e]};1i};5(1e(f)=="14"){11 10};$("#"+b+" a."+C.15).1M(C.15);$(f).1G(C.15);3 g=f.1d;5(!A){3 h=(u.1O==10)?H[g].1t:$("#"+g).1L();1X(h);2s(H[g].1j)};5(a=="3o"){5(2p(($("#"+g).1m().1D+$("#"+g).1c()))>=2p($("#"+b).1c())){$("#"+b).2t(($("#"+b).2t())+$("#"+g).1c()+$("#"+g).1c())}}19{5(2p(($("#"+g).1m().1D+$("#"+g).1c()))<=0){$("#"+b).2t(($("#"+b).2t()-$("#"+b).1c())-$("#"+g).1c())}}};3 3j=6(){3n("3o")};3 3k=6(){3n("44")};3 2s=6(i){5(u.1J!=10){3 a=P("2h");3 b=(1e(i)=="14")?O(E).1n:i;3 c=O(E).1E[b].3K;5(c.18>0){3 d=P("1g");3 e=$("#"+d+" a."+c).1a("1d");3 f=$("#"+e).12("1Y-2j");3 g=$("#"+e).12("1Y-1m");5(g==14){g=$("#"+e).12("1Y-1m-x")+" "+$("#"+e).12("1Y-1m-y")};3 h=$("#"+e).12("2q-45");5(f!=14){$("#"+a).2u("."+C.1w).2i(\'1k\',"1Y:"+f)};5(g!=14){$("#"+a).2u("."+C.1w).12(\'1Y-1m\',g)};5(h!=14){$("#"+a).2u("."+C.1w).12(\'2q-45\',h)};$("#"+a).2u("."+C.1w).12(\'1Y-47\',\'57-47\');$("#"+a).2u("."+C.1w).12(\'2q-3U\',\'58\')}}};3 28=6(){3 a=P("1g");3 b=$("#"+a+" a."+C.15);5(b.18==1){3 c=$("#"+a+" a."+C.15).1t();3 d=$("#"+a+" a."+C.15).1a("1d");5(d!=14){3 e=H[d].2k;O(E).1n=H[d].1j};5(u.1O&&u.1J!=10)2s()}19 5(b.18>1){1C(3 i=0;i<b.18;i++){3 d=$(b[i]).1a("1d");3 f=H[d].1j;O(E).1E[f].15="15"}};3 g=O(E).1n;x.1Z["1n"]=g};3 2c=6(a){5($("#"+E).1a("59"+a)!=14){11 9};3 b=$("#"+E).3p("5a");5(b&&b[a]){11 9};11 10};3 3q=6(a){$("#"+E).2C();$("#"+E)[0].33();28();$(1o).1F("1s",2Q);$(1o).1F("1s",3q)};3 48=6(){3 a=P("1g");5(2c(\'34\')==9){3 b=H[$("#"+a+" a.15").1a("1d")].1t;5($.49(y)!==$.49(b)&&y!==""){$("#"+E).1H("34")}};5(2c(\'1s\')==9){$("#"+E).1H("1s")};5(2c(\'33\')==9){$(1o).1f("1s",3q)};11 10};3 3i=6(a){3 b=P("2z");5(a==1)$("#"+b).12({4a:\'0 5b%\'});19 $("#"+b).12({4a:\'0 0\'})};3 4b=6(){1C(3 i 2l O(E)){5(1e(O(E)[i])!==\'6\'&&1e(O(E)[i])!=="14"&&1e(O(E)[i])!=="1r"){x.1I(i,O(E)[i],9)}}};3 4c=6(a,b){5(Z(b)!=-1){O(E)[a]=b;3 c=P("1g");$("#"+c+" a."+C.15).1M(C.15);$("#"+Z(b).1d).1G(C.15);3 d=Z(O(E).1n).1L;1X(d)}};3 4d=6(i,a){5(a==\'d\'){1C(3 b 2l H){5(H[b].1j==i){5c H[b];1i}}};3 c=0;1C(3 b 2l H){H[b].1j=c;c++}};3 2R=6(){3 a=P("1g");3 b=P("1Q");3 c=$("#"+b).5d();3 d=$("#"+b).1c();3 e=$(4e).1c();3 f=$(4e).2t();3 g=$("#"+a).1c();3 h={1P:u.1P,1D:(d)+"1v",1q:"2d"};3 i=u.3E;3 j=10;3 k=C.2B;$("#"+a).1M(C.2B);$("#"+a).1M(C.2A);5((e+f)<3l.5e(g+d+c.1D)){3 l=g;h={1P:u.1P,1D:"-"+l+"1v",1q:"2d"};i="2e";j=9;k=C.2A};11{3r:j,4f:i,12:h,2J:k}};3 3s=6(){5(x.1U["4g"]!=1r){24(x.1U["4g"])(x)}};3 3t=6(){48();5(x.1U["4h"]!=1r){24(x.1U["4h"])(x)}};3 2N=6(a){3 b=P("1g");3 c=a.3Y;5(c==8){a.26();a.2r();N=(N.18==0)?"":N.3R(0,N.18-1)};2O(c){1h 39:1h 40:a.26();a.2r();3j();1i;1h 37:1h 38:a.26();a.2r();3k();1i;1h 27:1h 13:x.2n();28();1i;4i:5(c>46){N+=5f.5g(c)};3 d=T(N);5(d!=-1){$("#"+b).12({1c:\'5h\'});$("#"+b+" a").2o();$(d).2e();3 e=2R();$("#"+b).12(e.12);$("#"+b).12({1q:\'2m\'})}19{$("#"+b+" a").2e();$("#"+b).12({1c:K+\'1v\'})};1i};5(2c("22")==9){O(E).5i()};11 10};3 2Q=6(a){5(41()==10){x.2n()};11 10};3 3u=6(a){5($("#"+E).1a("4j")!=14){O(E).4j()};11 10};1b.3Z=6(){5((x.2f("1l",9)==9)||(x.2f("1E",9).18==0))11;3 a=P("1g");5(1N!=""&&a!=1N){$("#"+1N).4k("3v");$("#"+1N).12({1P:\'0\'})};5($("#"+a).12("1q")=="2d"){y=H[$("#"+a+" a.15").1a("1d")].1t;N="";K=$("#"+a).1c();$("#"+a+" a").2e();$(1o).1f("22",2N);$(1o).1f("35",3u);$(1o).1f("1s",2Q);3 b=2R();$("#"+a).12(b.12);5(b.3r==9){$("#"+a).12({1q:\'2m\'});$("#"+a).1G(b.2J);3s()}19{$("#"+a)[b.4f]("3v",6(){$("#"+a).1G(b.2J);3s()})};5(a!=1N){1N=a}}};1b.2n=6(){3 b=P("1g");5(!$("#"+b).4l(":2a")||L)11;L=9;5($("#"+b).12("1q")=="2d"){11 10};3 c=$("#"+P("1K")).1m().1D;3 d=2R();J=10;5(d.3r==9){$("#"+b).5j({1c:0,1D:c},6(){$("#"+b).12({1c:K+\'1v\',1q:\'2d\'});3t();L=10})}19{$("#"+b).4k("3v",6(a){3t();$("#"+b).12({1P:\'0\'});$("#"+b).12({1c:K+\'1v\'});L=10})};2s();$(1o).1F("22",2N);$(1o).1F("35",3u);$(1o).1F("1s",2Q)};1b.1n=6(i){5(1e(i)=="14"){11 x.2f("1n")}19{x.1I("1n",i)}};1b.4m=6(a){5(1e(a)=="14"||a==9){$("."+C.1R).5k("1k")}19{$("."+C.1R).2i("1k","1c:3m;42:43;1m:2P")}};1b.1I=6(a,b,c){5(1e a=="14"||1e b=="14")11 10;x.1Z[a]=b;5(c!=9){2O(a){1h"1n":4c(a,b);1i;1h"1l":x.1l(b,9);1i;1h"1x":O(E)[a]=b;A=($(v).1a("1B")>0||$(v).1a("1x")==9)?9:10;5(A){3 d=$("#"+E).1c();3 f=P("1g");$("#"+f).12("1c",d+"1v");3 g=P("1K");$("#"+g).2o();3 f=P("1g");$("#"+f).12({1q:\'2m\',1m:\'2K\'});X()};1i;1h"1B":O(E)[a]=b;5(b==0){O(E).1x=10};A=($(v).1a("1B")>0||$(v).1a("1x")==9)?9:10;5(b==0){3 g=P("1K");$("#"+g).2e();3 f=P("1g");$("#"+f).12({1q:\'2d\',1m:\'2P\'});3 h="";5(O(E).1n>=0){3 i=Z(O(E).1n);h=i.1L;3f($("#"+i.1d))};1X(h)}19{3 g=P("1K");$("#"+g).2o();3 f=P("1g");$("#"+f).12({1q:\'2m\',1m:\'2K\'})};1i;4i:4n{O(E)[a]=b}4o(e){};1i}}};1b.2f=6(a,b){5(a==14&&b==14){11 x.1Z};5(a!=14&&b==14){11(x.1Z[a]!=14)?x.1Z[a]:1r};5(a!=14&&b!=14){11 O(E)[a]}};1b.2a=6(a){3 b=P("1Q");5(a==9){$("#"+b).2e()}19 5(a==10){$("#"+b).2o()}19{11 $("#"+b).12("1q")}};1b.5l=6(a,b){3 c=a;3 d=c.1t;3 e=(c.2k==14||c.2k==1r)?d:c.2k;3 f=(c["1p"]==14||c["1p"]==1r)?\'\':c["1p"];3 i=(b==14||b==1r)?O(E).1E.18:b;O(E).1E[i]=21 5m(d,e);5(f!=\'\')O(E).1E[i]["1p"]=f;3 g=Z(i);5(g!=-1){3 h=S(O(E).1E[i],i,"","");$("#"+g.1d).1L(h)}19{3 h=S(O(E).1E[i],i,"","");3 j=P("1g");$("#"+j).5n(h);X()}};1b.2L=6(i){O(E).2L(i);5((Z(i))!=-1){$("#"+Z(i).1d).2L();4d(i,\'d\')};5(O(E).18==0){1X("")}19{3 a=Z(O(E).1n).1L;1X(a)};x.1I("1n",O(E).1n)};1b.1l=6(a,b){O(E).1l=a;3 c=P("1Q");5(a==9){$("#"+c).12("2M",C.1l);x.2n()}19 5(a==10){$("#"+c).12("2M",1)};5(b!=9){x.1I("1l",a)}};1b.3w=6(){11(O(E).3w==14)?1r:O(E).3w};1b.3x=6(){5(2v.18==1){11 O(E).3x(2v[0])}19 5(2v.18==2){11 O(E).3x(2v[0],2v[1])}19{5o{5p:"5q 1j 4l 5r!"}}};1b.4p=6(a){11 O(E).4p(a)};1b.1x=6(a){5(1e(a)=="14"){11 x.2f("1x")}19{x.1I("1x",a)}};1b.1B=6(a){5(1e(a)=="14"){11 x.2f("1B")}19{x.1I("1B",a)}};1b.5s=6(a,b){x.1U[a]=b};1b.5t=6(a){24(x.1U[a])(x)};1b.5u=6(r){5(1e r=="14"||r==0){11 10};3 a=P("1g");3 b=$("#"+a+" a:3h").1c();3 c=(b==0)?u.2S:b;3 d=r*c;$("#"+a).12("1c",d+"1v")};3 4q=6(){x.1I("3y",$.1V.3y);x.1I("3z",$.1V.3z)};3 4r=6(){Y();4b();4q();5(u.2T!=\'\'){24(u.2T)(x)}};4r()};$.1V={3y:\'2.38.4\',3z:"5v 5w",3I:20,4m:6(v){5(v==9){$(".1R").12({1c:\'5x\',1m:\'2K\'})}19{$(".1R").12({1c:\'3m\',1m:\'2P\'})}},5y:6(a,b){11 $(a).1V(b).3p("2g")}};$.3A.3C({1V:6(b){11 1b.3e(6(){3 a=21 3B(1b,b);$(1b).3p(\'2g\',a)})}});5(1e($.3A.1a)==\'14\'){$.3A.1a=6(w,v){5(1e v=="14"){11 $(1b).2i(w)};4n{$(1b).2i(w,v)}4o(e){}}}})(5z);',62,346,"|||var||if|function|||true|||||||||||||||||||||||||||||||||||||||||||||||||||||false|return|css||undefined|selected|||length|else|prop|this|height|id|typeof|bind|postChildID|case|break|index|style|disabled|position|selectedIndex|document|title|display|null|mouseup|text|class|px|ddTitleText|multiple|span|div|mouseover|size|for|top|options|unbind|addClass|trigger|set|useSprite|postTitleID|html|removeClass|bB|showIcon|zIndex|postID|ddOutOfVision|click|mouseout|onActions|msDropDown|img|bJ|background|ddProp||new|keydown||eval|sDiv|preventDefault||bO|bF|visible|oldIndex|bP|none|show|get|dd|postTitleTextID|attr|image|value|in|block|close|hide|parseInt|padding|stopPropagation|bN|scrollTop|find|arguments|visibleRows|keyboardAction|currentKey|postArrowID|borderTop|noBorderTop|focus|dblclick|mousedown|mousemove|src|align|absmiddle|border|relative|remove|opacity|bZ|switch|absolute|ca|bW|rowHeight|onInit|jsonTitle|insideWindow|postElementHolder|postAID|postOPTAID|ddTitle||arrow|ddChild|blur|change|keyup|option||||opt|_|enabled|toLowerCase|each|bD|after|first|bS|bL|bM|Math|0px|bK|next|data|bQ|opp|bX|bY|cb|fast|form|item|version|author|fn|bC|extend|mainCSS|animStyle|Object|postInputhidden|actions|counter|children|className|RegExp|test|postHTML|href|javascript|void|substr|font|width|bottom|bI|bE|bH|keyCode|open||bG|overflow|hidden|previous|left||repeat|bR|trim|backgroundPositions|bT|bU|bV|window|ani|onOpen|onClose|default|onkeyup|slideUp|is|debug|try|catch|namedItem|cc|cd|120|9999|slideDown|_msddHolder|_msdd|_title|_titletext|_child|_msa|_msopta|postInputID|_msinput|_arrow|_inp|keypress|tabindex|msdrpdd|getElementById|cssText|val|nodeName|toString|optgroup|opta|weight|bold|italic|clear|both|label|1px|solid|c3c3c3|outerWidth|toggleClass|min|max|refresh|split|mouseenter|appendTo|no|2px|on|events|100|delete|offset|floor|String|fromCharCode|auto|onkeydown|animate|removeAttr|add|Option|append|throw|message|An|required|addMyEvent|fireEvent|showRows|Marghoob|Suleman|20px|create|jQuery".split("|"),0,{}));
;
(function($){try{$.widget("ui.narrowsearch",{widgetName:"narrowsearch",widgetInitId:"root_admin",widgetSelector:"#root_admin",searchBasePath:"",firstTime:true,filterSets:new Array(),lastSortType:"",lastSortTypeHtmlId:"",exportPath:"",printPath:"",showTopTextFilter:true,topTextFilterLabel:"",tabContentType:"narrow_search",qtipLoadSet:new Array(),qtipLenth:0,_init:function(){this.currTheme=Drupal.settings.ajaxPageState.theme;var pageUrl=window.location.search;if(pageUrl.indexOf("admincalendar")<0){this.getSearchContentDisp();}},getUrlVars:function(name){var vars={};var parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value;});return vars[name];},getModuleURLs:function(){var qPath=this.getUrlVars("q");if(qPath=="administration"){return false;}var qPathArray=qPath.split("/");var urlArray=new Array();urlArray.main_module=qPathArray[1];urlArray.sub_module=qPathArray[2];return urlArray;},getSearchContentDisp:function(){var obj=this;var curObj=this;var moduleURLs=obj.getModuleURLs();
if(moduleURLs===false){return false;}if($('#block-system-main-menu a[href="/?q=administration"]').hasClass("active")==false){$('#block-system-main-menu a[href="/?q=administration"]').addClass("active-trail active");$('#block-system-main-menu a[href="/?q=administration"]').parent().addClass("active-trail");}$("ul.list-item-administrator li a").removeClass("root-admin-links-selected");$("#"+moduleURLs.main_module).addClass("root-admin-links-selected");$("ul.list-item-administrator li.admin-left-panel-module-list").removeClass("root-admin-module-selected");$("#"+moduleURLs.main_module).parent().addClass("root-admin-module-selected");curObj.createLoader("root-admin-search-right-col");url=obj.constructUrl("administration/search-filter/"+moduleURLs.sub_module);$.ajax({type:"POST",url:url,data:"",success:function(data){curObj.destroyLoader("root-admin-search-right-col");var detailsObj=jQuery.parseJSON(data);if(detailsObj!=null&&detailsObj.drupal_settings){$.extend(true,Drupal.settings,detailsObj.drupal_settings);
}$("#root-admin-results").html(detailsObj.rendered_main_div);$("#root-admin-results").show();$("#tab-content-main").html(detailsObj.rendered_tab_content_main);if(moduleURLs.sub_module=="user"){var sec=readCookie("user_upload_message");if(sec!==null){sec=urldecode(sec);var error=new Array();error[0]=sec;$("#show_suspend_message").remove();var message="<div id='show_suspend_message' style='position:absolute;left:0;right:0;'></div></div>";var msg='<div id="message-container" style="visibility:visible"><div class="messages error"><ul><li><span>'+error[0]+'</span></li></ul><div class="msg-close-btn" onclick="$(\'#show_suspend_message\').remove();eraseCookie(\'message\');"></div></div></div><img onload="$(\'body\').data(\'learningcore\').showHideMultipleLi();" style="display:none;" src="sites/all/themes/core/expertusone/expertusone-internals/images/close.png" height="0" width="0"/>';$("#tab-content-main").prepend(message);$("#tab-content-main #show_suspend_message").append(msg);eraseCookie("user_upload_message");
}}else{if(moduleURLs.sub_module=="catalog"){var sec=readCookie("bulk_enrollment_upload_message");if(sec!==null){sec=urldecode(sec);var error=new Array();error[0]=sec;$("#show_suspend_message").remove();var message="<div id='show_suspend_message' style='position:absolute;left:0;right:0;'></div></div>";var msg='<div id="message-container" style="visibility:visible"><div class="messages error"><ul><li><span>'+error[0]+'</span></li></ul><div class="msg-close-btn" onclick="$(\'#show_suspend_message\').remove();eraseCookie(\'message\');"></div></div></div><img onload="$(\'body\').data(\'learningcore\').showHideMultipleLi();" style="display:none;" src="sites/all/themes/core/expertusone/expertusone-internals/images/close.png" height="0" width="0"/>';$("#tab-content-main").prepend(message);$("#tab-content-main #show_suspend_message").append(msg);eraseCookie("bulk_enrollment_upload_message");}}}if(detailsObj.rendered_tab_content_type=="narrow_search"){$("#narrow-search").html(detailsObj.rendered_narrow_search_filters);
$("#narrow-search").show();if($("#group_list_count").val()>4){$("#group_filterset").css({height:"90px",overflow:"hidden",width:"160px"});$("#group_filterset").jScrollPane();}var tabHeight=$("#sort-bar-V2").css("height");if(navigator.appVersion.indexOf("Trident/7.0")!=-1){tabHeight=parseInt(tabHeight)-2;}if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$("#admin-maincontent_tab").append(detailsObj.rendered_narrow_search_sortbar);$("#narrow-search-actionbar").remove();if(moduleURLs.main_module=="manage"&&(moduleURLs.sub_module=="announcement"||moduleURLs.sub_module=="customattribute")&&$("#carousel_inner").parent("#carousel_container")){$("#sort-bar-V2").css("height","0").css("overflow","hidden");}$("#sort-bar-V2").append(detailsObj.rendered_narrow_search_actionbar);}else{$("#narrow-search-results-topbar").html(detailsObj.rendered_narrow_search_sortbar);$("#narrow-search-actionbar").remove();$("#admin-maincontent_tab").append(detailsObj.rendered_narrow_search_actionbar);}$("#narrow-search-results-topbar").show();
$("ul.AdminsublinktabNavigation li").removeClass("selected");$("#admin-tab-"+moduleURLs.sub_module).parent("li").addClass("selected");resetMainTab();if(moduleURLs.main_module=="manage"&&$("#carousel_inner").parent("#carousel_container")){var itemcnt=$("#carousel_container #carousel_inner ul li").size();if(itemcnt===6){var sort_width=parseInt($("#sort-bar-V2").width());var actionbar_width=parseInt($("#narrow-search-actionbar").width());var container_width=(sort_width-actionbar_width)-45;var width_calc="";var ulactual_width=$("#carousel_container #carousel_inner ul").width();$("#carousel_container #carousel_inner").css("width","auto");$("#carousel_container #carousel_inner ul").css("width","auto");var ul_width=parseInt($("#carousel_container #carousel_inner ul").width());var lastli_width=parseInt($("#carousel_container #carousel_inner ul li:last").width());if(container_width>ul_width){width_calc=container_width;$("#carousel_container .last").css("display","none");}else{width_calc=(ul_width-lastli_width)-4;
}$("#carousel_container #carousel_inner").css("width",width_calc);$("#carousel_container #carousel_inner ul").css("width",ulactual_width);if(moduleURLs.sub_module=="customattribute"){MoveTabNext(itemcnt);}}else{if(moduleURLs.sub_module=="announcement"||moduleURLs.sub_module=="customattribute"){MoveTabNext(itemcnt);}}}if(moduleURLs.main_module=="manage"&&(moduleURLs.sub_module=="announcement"||moduleURLs.sub_module=="customattribute")&&$("#carousel_inner").parent("#carousel_container")){setTimeout(function(){$("#sort-bar-V2").css("height",tabHeight).css("overflow","visible");},500);}var linkPath="administration/"+moduleURLs.main_module;var sublinkPath="administration/"+moduleURLs.main_module+"/"+moduleURLs.sub_module;curObj.initPaths(detailsObj.rendered_tab_content_type);curObj.initFilters();curObj.renderSearchResults(linkPath,sublinkPath);if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").hide();}if(typeof detailsObj.rendered_script!="undefined"){eval(detailsObj.rendered_script+"()");
}$(".courselangtype-scroll-list-container, .coursecurrency-scroll-list-container, .contentlang-scroll-list-container, .tpcurrency-scroll-list-container, .surveydetailslang-scroll-list-container, .surveyquestionslang-scroll-list-container, .langtype-scroll-list-container, .grplang-scroll-list-container, .rescountry-scroll-list-container, .announcementlang-scroll-list-container, .ordercurrency-scroll-list-container").jScrollPane({});}else{if(detailsObj.rendered_tab_content_type=="ajax-form"){Drupal.attachBehaviors();}}}});},initPaths:function(tabContentType){if(tabContentType!=""){this.tabContentType=tabContentType;}if(this.tabContentType=="narrow_search"){var filterSetData=$("#narrow-search-filters").attr("data");this.filterSets=eval(filterSetData);var sortBarData=$("#narrow-search-sortbar").attr("data");var sortBarObj=jQuery.parseJSON(eval("'"+sortBarData+"'"));this.lastSortType=sortBarObj.last_sort_type;this.lastSortTypeHtmlId=sortBarObj.last_sort_type_html_id;var actionBarData=$("#narrow-search-actionbar").attr("data");
var actionBarObj=jQuery.parseJSON(eval("'"+actionBarData+"'"));this.exportPath=actionBarObj.export_path;this.printPath=actionBarObj.print_path;var narrowSearchOtherData=$("#narrow-search-results").attr("data");var narrowSearchOtherObj=jQuery.parseJSON(eval("'"+narrowSearchOtherData+"'"));this.searchBasePath=narrowSearchOtherObj.search_base_path;this.text_filter_ac_path=narrowSearchOtherObj.text_filter_ac_path;this.showTopTextFilter=narrowSearchOtherObj.show_top_text_filter;this.topTextFilterLabel=narrowSearchOtherObj.top_text_filter_label;if(this.topTextFilterLabel==null||this.topTextFilterLabel=="undefined"||this.topTextFilterLabel==undefined){this.topTextFilterLabel=(Drupal.settings.ajaxPageState.theme=="expertusoneV2")?Drupal.t("LBL304"):Drupal.t("LBL304").toUpperCase();}if(this.showTopTextFilter){this.initTextFilter(this.text_filter_ac_path);$("#narrow-search-text-filter").val(this.topTextFilterLabel);this.initTextDateFilterBlurStyle("#narrow-search-text-filter",this.topTextFilterLabel,"1");
$("#narrow-search-text-filter-container").show();}else{$("#narrow-search-text-filter-container").hide();}}else{}},displayResultWizard:function(title,message){$("#result-msg-wizard").remove();var html="";html+='<div id="result-msg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';html+='<tr><td height="40px">&nbsp;</td></tr>';html+='<tr><td align="center" class="light-gray-color">'+message+"</td></tr>";html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#result-msg-wizard").remove();};$("#result-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:400,resizable:false,modal:true,title:title,buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-difalog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#result-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#result-msg-wizard").remove();});this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}},resetUserPassword:function(userEmail,userId,rowObj){var obj=this;$("#reset-password-loader-"+userId).remove();var cRow=$(rowObj).parents("tr").before("<tr><td colspan='3'><div id='reset-password-loader-"+userId+"'></div></td></tr>");this.createLoader("reset-password-loader-"+userId);url=obj.constructUrl("ajax/administration/people/reset-password/"+userEmail);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);
result=result.split("|");$("#root-admin").data("narrowsearch").displayResultWizard(result[0],result[1]);$("#root-admin").data("narrowsearch").destroyLoader("reset-password-loader-"+userId);}});},publishAndUnpublishCatalog:function(catalogId,catalogType,actionStatus,rowObj,iscompliance){var comp=iscompliance;var obj=this;url=obj.constructUrl("ajax/administration/learning/catalog/show-catalog/"+catalogId);$.ajax({type:"POST",url:url,data:"",success:function(access){this.currTheme=Drupal.settings.ajaxPageState.theme;var show=$.trim($("#publish-unpublish-"+catalogId).html());if(iscompliance==1&&access==0&&show=="Show in Catalog"){var uniqueClassPopup="";$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(this.currTheme=="expertusoneV2"){html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+Drupal.t("MSG711")+"</td></tr>";}else{html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+Drupal.t("MSG711")+"</td></tr>";
}html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL109")]=function(){$("#root-admin").data("narrowsearch").publishAndUnpublishCat(catalogId,catalogType,actionStatus,rowObj);};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"catalog-publish-unpublis-dialog",esignFor:"PublishUnpublishCatalog",catalogId:catalogId,catalogType:catalogType,actionStatus:actionStatus,rowObj:rowObj};closeButt[Drupal.t("Yes")]=function(){$.fn.getNewEsignPopup(esignObj);};}else{closeButt[Drupal.t("Yes")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();setTimeout(function(){$("#access-visibility-"+catalogId).click();},10);};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL749"),buttons:closeButt,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});
$(".ui-dialog").wrap("<div id='catalog-publish-unpublis-dialog' class='"+uniqueClassPopup+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".removebutton").text(Drupal.t("No"));$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});$(".admin-save-button-middle-bg").click(function(){$("#delete-msg-wizard").remove();});$(".removebutton").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}else{var show=$("#publish-unpublish-"+catalogId).html();if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"catalog-publish-unpublis-dialog",esignFor:"PublishUnpublishCatalog",catalogId:catalogId,catalogType:catalogType,actionStatus:actionStatus,rowObj:rowObj};
$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishCat(catalogId,catalogType,actionStatus,rowObj);}}}});},publishAndUnpublishCat:function(catalogId,catalogType,actionStatus,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/learning/catalog/publish-and-unpublish/"+catalogId+"/"+catalogType+"/"+actionStatus);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="lrn_crs_sts_atv"||result[0]=="lrn_cls_sts_atv"){$("#publish-unpublish-"+catalogId).removeClass("crs-publish-btn");$("#publish-unpublish-"+catalogId).addClass("crs-unpublish-btn");}else{if(result[0]=="lrn_crs_sts_itv"||result[0]=="lrn_cls_sts_itv"){$("#publish-unpublish-"+catalogId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+catalogId).addClass("crs-publish-btn");}else{if(result[0]=="lrn_cls_sts_dld"){$("#publish-unpublish-"+catalogId).removeClass("crs-publish-btn");$("#publish-unpublish-"+catalogId).removeClass("action-crs-publish-btn");
$("#publish-unpublish-"+catalogId).addClass("crs-pub-enrolled-btn");$("#publish-unpublish-"+catalogId).removeAttr("onclick").unbind("click");}else{if(result[0]=="lrn_cls_sts_can"){$("#publish-unpublish-"+catalogId).removeClass("crs-publish-btn");$("#publish-unpublish-"+catalogId).removeClass("action-crs-publish-btn");$("#publish-unpublish-"+catalogId).addClass("crs-pub-enrolled-btn");$("#publish-unpublish-"+catalogId).removeAttr("onclick").unbind("click");}}}}$("#publish-unpublish-"+catalogId).html(result[1]);}});},publishAndUnpublishProgram:function(programId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"program-publish-unpublis-dialog",esignFor:"PublishUnpublishProgram",programId:programId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishPrg(programId,rowObj);}},publishAndUnpublishPrg:function(programId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/learning/program/publish-and-unpublish/"+programId);
$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="lrn_lpn_sts_atv"){$("#publish-unpublish-"+programId).removeClass("crs-publish-btn");$("#publish-unpublish-"+programId).addClass("crs-unpublish-btn");}else{if(result[0]=="lrn_lpn_sts_itv"){$("#publish-unpublish-"+programId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+programId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+programId).html(result[1]);}});},publishAndUnpublishSurveyAssessment:function(surveyId,surveyType,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"survey-publish-unpublis-dialog",esignFor:"publishAndUnpublishSurveyAssessment",surveyId:surveyId,surveyType:surveyType,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishSur(surveyId,surveyType,rowObj);}},publishAndUnpublishSur:function(surveyId,surveyType,rowObj){var obj=this;
if(surveyType=="Assessment"){url=obj.constructUrl("ajax/administration/assessment/survey-assessment/publish-and-unpublish/"+surveyId+"/"+surveyType);}else{url=obj.constructUrl("ajax/administration/survey/survey-assessment/publish-and-unpublish/"+surveyId+"/"+surveyType);}$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="sry_det_sry_atv"){$("#publish-unpublish-"+surveyId).removeClass("crs-publish-btn");$("#publish-unpublish-"+surveyId).addClass("crs-unpublish-btn");}else{if(result[0]=="sry_det_sry_itv"){$("#publish-unpublish-"+surveyId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+surveyId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+surveyId).html(result[1]);}});},publishAndUnpublishSurveyAssessmentQuestions:function(questionId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"survey-publish-unpublis-dialog",esignFor:"publishAndUnpublishSurveyAssessmentQuestions",questionId:questionId,rowObj:rowObj};
$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishQus(questionId,rowObj);}},publishAndUnpublishQus:function(questionId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/survey/survey-assessment-questions/publish-and-unpublish/"+questionId);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="sry_qtn_sts_atv"){$("#publish-unpublish-"+questionId).removeClass("crs-publish-btn");$("#publish-unpublish-"+questionId).addClass("crs-unpublish-btn");}else{if(result[0]=="sry_qtn_sts_itv"){$("#publish-unpublish-"+questionId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+questionId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+questionId).html(result[1]);}});},setPositionToCtoolPop:function(path){if(path.indexOf("group")>1||path.indexOf("customattribute")>1){$("#create-dd-list").css("visibility","hidden");}if(path.indexOf("course-class")>1||path.indexOf("program")>1||path.indexOf("banner")>1||path.indexOf("announcement")>1){var v=$(window).scrollTop();
if(v<150){$(window).scrollTop(150);}}updatePaginationCookie(1);setTimeout(function(){$("#userregister_scrollbar_container").jScrollPane();},500);},publishAndUnpublishContent:function(contentId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"content-publish-unpublis-dialog",esignFor:"publishAndUnpublishContent",contentId:contentId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishCnt(contentId,rowObj);}},publishAndUnpublishCnt:function(contentId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/manage/content/publish-and-unpublish/"+contentId);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="lrn_cnt_sts_atv"){$("#publish-unpublish-"+contentId).removeClass("crs-publish-btn");$("#publish-unpublish-"+contentId).addClass("crs-unpublish-btn");}else{if(result[0]=="lrn_cnt_sts_itv"){$("#publish-unpublish-"+contentId).removeClass("crs-unpublish-btn");
$("#publish-unpublish-"+contentId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+contentId).html(result[1]);}});},publishAndUnpublishVideo:function(contentId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"content-publish-unpublis-dialog",esignFor:"publishAndUnpublishVideo",contentId:contentId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishCntVideo(contentId,rowObj);}},publishAndUnpublishCntVideo:function(contentId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/contentauthor/video/publish-and-unpublish/"+contentId);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="lrn_cnt_sts_atv"){$("#publish-unpublish-"+contentId).removeClass("crs-publish-btn");$("#publish-unpublish-"+contentId).addClass("crs-unpublish-btn");$("#share-visibility-"+contentId).removeClass("tab-disable");
$("#share-visibility-"+contentId).parent().parent().find(".disable-share-tab-icon").addClass("share-tab-icon");$("#share-visibility-"+contentId).parent().parent().find(".disable-share-tab-icon").removeClass("disable-share-tab-icon");$("#share-visibility-"+contentId).attr("onclick","javascript:void(0);");$("#share-visibility-"+contentId).click(function(){callVisibility({entityId:contentId,entityType:"cre_sys_obt_cnt",url:"administration/contentauthor/content-share/"+contentId+"/cre_sys_obt_cnt/0",popupDispId:"narrow_search_qtip_share_disp__cre_sys_obt_cnt",catalogVisibleId:"narrow_search_qtipShareqtip_visible_disp__cre_sys_obt_cnt",wid:645,heg:"300",postype:"middle",poslwid:"50",linkid:"share-visibility-"+contentId});});}else{if(result[0]=="lrn_cnt_sts_itv"){$("#publish-unpublish-"+contentId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+contentId).addClass("crs-publish-btn");$("#share-visibility-"+contentId).addClass("tab-disable");$("#share-visibility-"+contentId).addClass("tab-disable");
$("#share-visibility-"+contentId).parent().parent().find(".share-tab-icon").addClass("disable-share-tab-icon");$("#share-visibility-"+contentId).parent().parent().find(".share-tab-icon").removeClass("share-tab-icon");$("#share-visibility-"+contentId).attr("onclick","javascript:void(0);");$("#share-visibility-"+contentId).unbind("click",null);}}$("#publish-unpublish-"+contentId).html(result[1]);}});},publishAndUnpublishPresentation:function(contentId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"content-publish-unpublis-dialog",esignFor:"publishAndUnpublishPresentation",contentId:contentId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishCntPresentation(contentId,rowObj);}},publishAndUnpublishCntPresentation:function(contentId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/contentauthor/presentation/publish-and-unpublish/"+contentId);
$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="lrn_cnt_sts_atv"){$("#publish-unpublish-"+contentId).removeClass("crs-publish-btn");$("#publish-unpublish-"+contentId).addClass("crs-unpublish-btn");$("#share-visibility-"+contentId).removeClass("tab-disable");$("#share-visibility-"+contentId).parent().parent().find(".disable-share-tab-icon").addClass("share-tab-icon");$("#share-visibility-"+contentId).parent().parent().find(".disable-share-tab-icon").removeClass("disable-share-tab-icon");$("#share-visibility-"+contentId).attr("onclick","javascript:void(0);");$("#share-visibility-"+contentId).click(function(){callVisibility({entityId:contentId,entityType:"cre_sys_obt_cnt",url:"administration/contentauthor/content-share/"+contentId+"/cre_sys_obt_cnt/0",popupDispId:"narrow_search_qtip_share_disp__cre_sys_obt_cnt",catalogVisibleId:"narrow_search_qtipShareqtip_visible_disp__cre_sys_obt_cnt",wid:645,heg:"300",postype:"middle",poslwid:"50",linkid:"share-visibility-"+contentId});
});}else{if(result[0]=="lrn_cnt_sts_itv"){$("#publish-unpublish-"+contentId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+contentId).addClass("crs-publish-btn");$("#share-visibility-"+contentId).addClass("tab-disable");$("#share-visibility-"+contentId).addClass("tab-disable");$("#share-visibility-"+contentId).parent().parent().find(".share-tab-icon").addClass("disable-share-tab-icon");$("#share-visibility-"+contentId).parent().parent().find(".share-tab-icon").removeClass("share-tab-icon");$("#share-visibility-"+contentId).attr("onclick","javascript:void(0);");$("#share-visibility-"+contentId).unbind("click",null);}}$("#publish-unpublish-"+contentId).html(result[1]);}});},publishAndUnpublishTax:function(taxId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"tax-publish-unpublis-dialog",esignFor:"publishAndUnpublishTax",taxId:taxId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishTaxDialog(taxId,rowObj);
}},publishAndUnpublishTaxDialog:function(taxId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/commerce/tax/publish-and-unpublish/"+taxId);$.ajax({type:"POST",url:url,data:"",success:function(result){obj.destroyLoader("paint-narrow-search-results");result=$.trim(result);result=result.split("|");if(result[0]=="cme_tax_sts_atv"){$("#publish-unpublish-"+taxId).removeClass("crs-publish-btn");$("#publish-unpublish-"+taxId).addClass("crs-unpublish-btn");}else{if(result[0]=="cme_tax_sts_itv"){$("#publish-unpublish-"+taxId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+taxId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+taxId).html(result[1]);}});},publishAndUnpublishDiscount:function(discountId,rowObj,allowPublishorNot){allowPublishorNot=(typeof allowPublishorNot=="undefined")?0:allowPublishorNot;this.currTheme=Drupal.settings.ajaxPageState.theme;if(allowPublishorNot==1){var uniqueClassPopup="";$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';
html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(this.currTheme=="expertusoneV2"){html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+Drupal.t("ERR248")+"</td></tr>";}else{html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+Drupal.t("ERR248")+"</td></tr>";}html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL749"),buttons:closeButt,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='catalog-publish-unpublis-dialog' class='"+uniqueClassPopup+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$("#delete-msg-wizard").show();
$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}else{if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"discount-publish-unpublis-dialog",esignFor:"publishAndUnpublishDiscount",discountId:discountId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishDiscountDialog(discountId,rowObj);}}},publishAndUnpublishDiscountDialog:function(discountId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/commerce/discounts/publish-and-unpublish/"+discountId);$.ajax({type:"POST",url:url,data:"",success:function(result){obj.destroyLoader("paint-narrow-search-results");result=$.trim(result);result=result.split("|");if(result[0]==1){$("#publish-unpublish-"+discountId).removeClass("crs-publish-btn");$("#publish-unpublish-"+discountId).addClass("crs-unpublish-btn");}else{if(result[0]==0){$("#publish-unpublish-"+discountId).removeClass("crs-unpublish-btn");
$("#publish-unpublish-"+discountId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+discountId).html(result[1]);}});},publishAndUnpublishGroupDialog:function(objectId,objectType,rowObj,is_admin,owner_cnt){var title=Drupal.t("MSG773");var suspend=$("#action_icon_tooltip_"+objectId).hasClass("Suspend");if(suspend){var uniqueClassPopup="";$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(this.currTheme=="expertusoneV2"){html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+title+"</td></tr>";}else{html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+title+"</td></tr>";}html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"object-activate-deactivate-dialog",esignFor:"ActivateDeactivateObject",objectId:objectId,objectType:objectType,rowObj:rowObj};
closeButt[Drupal.t("Yes")]=function(){$.fn.getNewEsignPopup(esignObj);};}else{closeButt[Drupal.t("Yes")]=function(){$("#root-admin").data("narrowsearch").activateAndDeactivateObj(objectId,objectType,rowObj);};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("Groups"),buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+uniqueClassPopup+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();
$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}else{if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"object-activate-deactivate-dialog",esignFor:"ActivateDeactivateObject",objectId:objectId,objectType:objectType,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").activateAndDeactivateObj(objectId,objectType,rowObj);}}},publishAndUnpublishOrder:function(orderId,orderStatus,rowObj){var uniqueClassPopup="";$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(orderStatus=="payment_received"){var title=Drupal.t("LBL1163");}else{if(orderStatus=="canceled"){var title=Drupal.t("LBL1164");}}if(this.currTheme=="expertusoneV2"){html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+title+"</td></tr>";
}else{html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+title+"</td></tr>";}html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"order-publish-unpublis-dialog",esignFor:"publishAndUnpublishOrder",orderId:orderId,orderStatus:orderStatus,rowObj:rowObj};closeButt[Drupal.t("Yes")]=function(){$.fn.getNewEsignPopup(esignObj);};}else{closeButt[Drupal.t("Yes")]=function(){$("#root-admin").data("narrowsearch").publishAndUnpublishOrderDialog(orderId,orderStatus,rowObj);};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL820")+" - "+orderId,buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});
$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+uniqueClassPopup+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}},publishAndUnpublishOrderDialog:function(orderId,orderStatus,rowObj){$("#delete-msg-wizard").remove();var obj=this;obj.createLoader("main-wrapper");url=obj.constructUrl("administration/commerce/orderupdate/ajax/"+orderId+"/"+orderStatus);$.ajax({type:"POST",url:url,data:"",success:function(result){if(typeof $("#root-admin").data("narrowsearch").refreshLastAccessedRow!="undefined"&&$("#root-admin").data("narrowsearch").refreshLastAccessedRow()==false){$("#narrow-search-results-holder").trigger("reloadGrid");
}}});},publishAndUnpublishModule:function(moduleName,rowObj){if(moduleName=="exp_sp_administration_contentauthor"||moduleName=="exp_sp_administration_customattribute"){$("#delete-msg-wizard").remove();}if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"mdoule-publish-unpublis-dialog",esignFor:"publishAndUnpublishModule",moduleName:moduleName,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishModuleDialog(moduleName,rowObj);}},publishAndUnpublishModuleDialog:function(moduleName,rowObj){var obj=this;this.createLoader("main-wrapper");url=obj.constructUrl("ajax/administration/sitesetup/moduleinfo/publish-and-unpublish/"+moduleName);var reloadgrid=obj.constructUrl("administration/sitesetup/moduleinfo/search/all");$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]==1){$("#publish-unpublish-"+moduleName).removeClass("crs-publish-btn");
$("#publish-unpublish-"+moduleName).addClass("crs-unpublish-btn");if(moduleName=="exp_sp_administration_module_info_commerce"||moduleName=="drupalchat"){window.location.href=window.location.href;}}else{if(result[0]==2){$("#publish-unpublish-"+moduleName).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+moduleName).addClass("crs-publish-btn");if(moduleName=="exp_sp_administration_module_info_commerce"||moduleName=="drupalchat"){window.location.href=window.location.href;}}}if(moduleName!="exp_sp_administration_customattribute"){$("#publish-unpublish-"+moduleName).html(result[1]);}$("#narrow-search-results-holder").setGridParam({url:reloadgrid});if(typeof $("#root-admin").data("narrowsearch").refreshLastAccessedRow!="undefined"&&$("#root-admin").data("narrowsearch").refreshLastAccessedRow()==false){$("#narrow-search-results-holder").trigger("reloadGrid",[{page:$(".ui-pg-input").val()}]);}}});},publishAndUnpublishPayment:function(paymentId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"payment-publish-unpublis-dialog",esignFor:"publishAndUnpublishPayment",paymentId:paymentId,rowObj:rowObj};
$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishPaymentDialog(paymentId,rowObj);}},publishAndUnpublishPaymentDialog:function(paymentId,rowObj){var obj=this;this.createLoader("admin-commerce-payment-method-plan");url=obj.constructUrl("administration/commerce/setting/payment/action/"+paymentId);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]==1){$("#publish-unpublish-"+paymentId).removeClass("crs-publish-btn");$("#publish-unpublish-"+paymentId).addClass("crs-unpublish-btn");}else{if(result[0]==0){$("#publish-unpublish-"+paymentId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+paymentId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+paymentId).html(result[1]);$("#root-admin").data("narrowsearch").destroyLoader("admin-commerce-payment-method-plan");}});},publishAndUnpublishBanner:function(bannerId,bannerType,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"banner-publish-unpublis-dialog",esignFor:"publishAndUnpublishBanner",bannerId:bannerId,bannerType:bannerType,rowObj:rowObj};
$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishBan(bannerId,bannerType,rowObj);}},publishAndUnpublishCustom:function(CustomId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"Custom-publish-unpublis-dialog",esignFor:"publishAndUnpublishCustom",CustomId:CustomId,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishCus(CustomId,rowObj);}},publishAndUnpublishAnnouncement:function(annId,annType,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"announcement-publish-unpublis-dialog",esignFor:"publishAndUnpublishAnnouncement",annId:annId,annType:annType,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishAnn(annId,annType,rowObj);}},publishAndUnpublishAnn:function(annId,annType,rowObj){var obj=this;
url=obj.constructUrl("ajax/administration/manage/announcement/publish-and-unpublish/"+annId+"/"+annType);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="cre_sys_obt_not_atv"){$("#publish-unpublish-"+annId).removeClass("crs-publish-btn");$("#publish-unpublish-"+annId).addClass("crs-unpublish-btn");}else{if(result[0]=="cre_sys_obt_not_itv"){$("#publish-unpublish-"+annId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+annId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+annId).html(result[1]);}});},publishAndUnpublishBan:function(bannerId,bannerType,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/manage/banner/publish-and-unpublish/"+bannerId+"/"+bannerType);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="cbn_anm_sts_atv"){$("#publish-unpublish-"+bannerId).removeClass("crs-publish-btn");$("#publish-unpublish-"+bannerId).addClass("crs-unpublish-btn");
}else{if(result[0]=="cbn_anm_sts_itv"){$("#publish-unpublish-"+bannerId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+bannerId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+bannerId).html(result[1]);}});},publishAndUnpublishCus:function(CustomId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/manage/customattribute/publish-and-unpublish/"+CustomId);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="cre_cattr_sts_atv"){$("#publish-unpublish-"+CustomId).removeClass("crs-publish-btn");$("#publish-unpublish-"+CustomId).addClass("crs-unpublish-btn");}else{if(result[0]=="cre_cattr_sts_itv"){$("#publish-unpublish-"+CustomId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+CustomId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+CustomId).html(result[1]);}});},publishAndUnpublishLocation:function(locationId,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"location-publish-unpublis-dialog",esignFor:"publishAndUnpublishLocation",locationId:locationId,rowObj:rowObj};
$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishLoc(locationId,rowObj);}},publishAndUnpublishLoc:function(locationId,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/manage/location/publish-and-unpublish/"+locationId);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="not_able_do"){this.currTheme=Drupal.settings.ajaxPageState.theme;var show=$.trim($("#publish-unpublish-"+locationId).html());var uniqueClassPopup="unique-delete-class";var wSize=(wSize)?wSize:300;$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(this.currTheme=="expertusoneV2"){html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+Drupal.t("The location is associated to class")+"</td></tr>";}else{html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+Drupal.t("The location is associated to class")+"</td></tr>";
}html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:wSize,resizable:false,modal:true,title:result[1],buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+uniqueClassPopup+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();
});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}if($("div.qtip-defaults").length>0){var prevZindex=$(".qtip-defaults").css("z-index");$("#delete-object-dialog .ui-widget-content").css("z-index",prevZindex+2);$(".ui-widget-overlay").css("z-index",prevZindex+1);}}else{if(result[0]=="lrn_res_loc_atv"){$("#publish-unpublish-"+locationId).removeClass("crs-publish-btn");$("#publish-unpublish-"+locationId).addClass("crs-unpublish-btn");}else{if(result[0]=="lrn_res_loc_itv"){$("#publish-unpublish-"+locationId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+locationId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+locationId).html(result[1]);}}});},publishAndUnpublishNotification:function(notificationId,notificationType){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"notification-publish-unpublis-dialog",esignFor:"publishAndUnpublishNotification",notificationId:notificationId,notificationType:notificationType};
$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").publishAndUnpublishNot(notificationId,notificationType);}},publishAndUnpublishNot:function(notificationId,notificationType){var obj=this;if(notificationType=="notification_template"){url=obj.constructUrl("ajax/administration/manage/notification_template/publish-and-unpublish/"+notificationId);}else{url=obj.constructUrl("ajax/administration/manage/certificate/publish-and-unpublish/"+notificationId);}$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);result=result.split("|");if(result[0]=="cre_ntn_sts_atv"){$("#publish-unpublish-"+notificationId).removeClass("crs-publish-btn");$("#publish-unpublish-"+notificationId).addClass("crs-unpublish-btn");}else{if(result[0]=="cre_ntn_sts_itv"){$("#publish-unpublish-"+notificationId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+notificationId).addClass("crs-publish-btn");}}$("#publish-unpublish-"+notificationId).html(result[1]);}});
},activateAndDeactivateResource:function(resourceId,resourceType,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"program-publish-unpublis-dialog",esignFor:"ActivateDeactivateResource",resourceId:resourceId,resourceType:resourceType,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").activateAndDeactivateRsc(resourceId,resourceType,rowObj);}},activateAndDeactivateRsc:function(resourceId,resourceType,rowObj){var obj=this;url=obj.constructUrl("ajax/administration/learning/resource/activate-and-deactivate/"+resourceId+"/"+resourceType);$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);if(result=="lrn_res_loc_atv"||result=="lrn_res_fac_atv"||result=="lrn_res_rms_atv"){$("#publish-unpublish-"+resourceType+"-"+resourceId).removeClass("crs-publish-btn");$("#publish-unpublish-"+resourceType+"-"+resourceId).addClass("crs-unpublish-btn");
$("#publish-unpublish-"+resourceType+"-"+resourceId).html("Deactivate");}else{if(result=="lrn_res_loc_itv"||result=="lrn_res_fac_itv"||result=="lrn_res_rms_itv"){$("#publish-unpublish-"+resourceType+"-"+resourceId).removeClass("crs-unpublish-btn");$("#publish-unpublish-"+resourceType+"-"+resourceId).addClass("crs-publish-btn");$("#publish-unpublish-"+resourceType+"-"+resourceId).html("Activate");}}}});},activateAndDeactivateObject:function(objectId,objectType,rowObj){if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var esignObj={popupDiv:"object-activate-deactivate-dialog",esignFor:"ActivateDeactivateObject",objectId:objectId,objectType:objectType,rowObj:rowObj};$.fn.getNewEsignPopup(esignObj);}else{$("#root-admin").data("narrowsearch").activateAndDeactivateObj(objectId,objectType,rowObj);}},activateAndDeactivateObj:function(objectId,objectType,rowObj){var obj=this;if(objectType=="User"){url=obj.constructUrl("ajax/administration/people/activate-and-deactivate/"+objectId);
}else{if(objectType=="Organization"){url=obj.constructUrl("ajax/administration/people/organization/activate-and-deactivate/"+objectId);}else{if(objectType=="Grp"){$("#delete-msg-wizard").remove();url=obj.constructUrl("ajax/administration/people/group/activate-and-deactivate/"+objectId);}else{if(objectType=="location"){url=obj.constructUrl("ajax/administration/location/activate-and-deactivate/"+objectId);}else{if(objectType=="surveyDetails"){url=obj.constructUrl("ajax/administration/survey/survey-assessment/publish-and-unpublish/"+objectId+"/"+objectType);}else{if(objectType=="assessmentDetails"){url=obj.constructUrl("ajax/administration/assessment/survey-assessment/publish-and-unpublish/"+objectId+"/"+objectType);}else{if(objectType=="surveyQuestion"){url=obj.constructUrl("ajax/administration/survey/survey-assessment-questions/publish-and-unpublish/"+objectId+"/"+objectType);}else{if(objectType=="assessmentQuestion"){url=obj.constructUrl("ajax/administration/assessment/survey-assessment-questions/publish-and-unpublish/"+objectId+"/"+objectType);
}}}}}}}}$.ajax({type:"POST",url:url,data:"",success:function(result){result=$.trim(result);if(objectType=="User"&&result=="activeinstr"){var error=new Array();error[0]=Drupal.t("MSG768");$("#show_suspend_message").remove();var message="<div id='show_suspend_message' style='position:absolute;left:0;right:0;'></div></div>";var msg='<div id="message-container" style="visibility:visible"><div class="messages error"><ul><li><span>'+error[0]+'</span></li></ul><div class="msg-close-btn" onclick="$(\'#show_suspend_message\').remove();"></div></div></div><img onload="$(\'body\').data(\'learningcore\').showHideMultipleLi();" style="display:none;" src="sites/all/themes/core/expertusone/expertusone-internals/images/close.png" height="0" width="0"/>';$("#gview_narrow-search-results-holder").prepend(message);$("#gview_narrow-search-results-holder #show_suspend_message").append(msg);}else{$("#suspend_activate_"+objectId).html(result);if(result==Drupal.t("LBL573")){$("#action_icon_tooltip_"+objectId).removeClass("Suspend");
$("#action_icon_tooltip_"+objectId).addClass("Activate");}else{$("#action_icon_tooltip_"+objectId).removeClass("Activate");$("#action_icon_tooltip_"+objectId).addClass("Suspend");}if(objectType=="User"){$("#action_icon_tooltip_"+objectId).attr("title",result);}else{$("#suspend_activate_"+objectId).parent("span").attr("title",result);}}}});},initAdminLinks:function(){var curObj=this;var loadingDiv="root-admin-search-right-col";$("#narrow-search-text-filter-container").hide();$("#narrow-search").hide();$("#root-admin-results").hide();$("ul.AdminsublinktabNavigation li").removeClass("selected");$("ul.list-item-administrator li a").click(function(event,mainMenuId){var linkId;if(mainMenuId==""||mainMenuId=="undefined"||mainMenuId==null){linkId=$(this).attr("id");}else{linkId=mainMenuId;}var ancData=$("#"+linkId).metadata();var linkPath=ancData.link_path;$("#narrow-search-text-filter-container").hide();$("#narrow-search").hide();$("#narrow-search-actionbar-list").hide();$("#root-admin-results").hide();
curObj.createLoader(loadingDiv);var url="?q=ajax/get/modules/"+linkPath;$.ajax({type:"POST",url:url,data:"",datatype:"json",success:function(data){curObj.destroyLoader(loadingDiv);$("#root-admin-results").html(data);$("#root-admin-results").show();var contentLoadingDiv="root-admin-results";$("ul.AdminsublinktabNavigation li a").click(function(event,firstSubmenuId){if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").hide();}$("#narrow-search-text-filter-container").hide();$("#narrow-search").hide();$("#tab-content-main").html("");var submenuId;if(firstSubmenuId==""||firstSubmenuId=="undefined"||firstSubmenuId==null){submenuId=$(this).attr("id");}else{submenuId=firstSubmenuId;}var subAncData=$("#"+submenuId).metadata();$("ul.AdminsublinktabNavigation li").removeClass("selected");$("#"+submenuId).parent("li").addClass("selected");curObj.createLoader(contentLoadingDiv);var sublinkPath=subAncData.link_path;var sublinkUrl="?q="+sublinkPath;$.ajax({type:"POST",url:sublinkUrl,data:"",datatype:"json",success:function(data){curObj.destroyLoader(contentLoadingDiv);
var detailsObj=jQuery.parseJSON(data);if(detailsObj.drupal_settings){$.extend(true,Drupal.settings,detailsObj.drupal_settings);}$("#tab-content-main").html(detailsObj.rendered_tab_content_main);if(detailsObj.rendered_tab_content_type=="narrow_search"){$("#narrow-search").html(detailsObj.rendered_narrow_search_filters);$("#narrow-search").show();$("#narrow-search-results-topbar").html(detailsObj.rendered_narrow_search_sortbar);$("#narrow-search-actionbar").remove();$("#admin-maincontent_tab").append(detailsObj.rendered_narrow_search_actionbar);$("#narrow-search-results-topbar").show();curObj.initPaths(detailsObj.rendered_tab_content_type);curObj.initFilters();curObj.renderSearchResults(linkPath,sublinkPath);if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").hide();}}else{if(detailsObj.rendered_tab_content_type=="ajax-form"){Drupal.attachBehaviors();}}}});$("#narrow-search-actionbar-list").show();});var tmpFirstSubmenuId=$("ul.AdminsublinktabNavigation li a:first").attr("id");
if(tmpFirstSubmenuId!=""&&tmpFirstSubmenuId!="undefined"&&tmpFirstSubmenuId!=null){$("#"+tmpFirstSubmenuId).trigger("click",[tmpFirstSubmenuId]);}}});$("ul.list-item-administrator li a").removeClass("root-admin-links-selected");$("#"+linkId).addClass("root-admin-links-selected");$("ul.list-item-administrator li.admin-left-panel-module-list").removeClass("root-admin-module-selected");$("#"+linkId).parent().addClass("root-admin-module-selected");});var tmpFirstMainMenuId=$("ul.list-item-administrator li a:first").attr("id");if(tmpFirstMainMenuId!=""&&tmpFirstMainMenuId!="undefined"&&tmpFirstMainMenuId!=null){$("#"+tmpFirstMainMenuId).trigger("click",[tmpFirstMainMenuId]);}},abstractFunctionAlert:function(functionName){alert("UNDER CONSTRUCTION. Please implement function "+functionName+" in admin sub-module's js file.");},missingInitParamAlert:function(paramName){alert("UNDER CONSTRUCTION. Missing init data "+paramName);},narrowSearch:function(){var curObj=this;this.refreshGrid();},sortSearchResults:function(sortType,sortLinkHtmlId){this.refreshGrid(sortType,sortLinkHtmlId);
},narrowSearchByText:function(){this.refreshGrid();},narrowSearchByAddlText:function(code){this.refreshGrid();},narrowSearchByDateRange:function(code){this.refreshGrid();},narrowSearchBySlider:function(code){this.refreshGrid();},printSearchResults:function(){if(this.printPath==undefined||this.printPath==null||this.printPath==""){this.missingInitParamAlert("print_path");return;}window.location=this.constructUrl(this.printPath+this.getNarrowSearchURLArgs(this.lastSortType,this.lastSortTypeHtmlId));},exportSearchResults:function(){if(this.exportPath==undefined||this.exportPath==null||this.exportPath==""){this.missingInitParamAlert("export_path");return;}window.location=this.constructUrl(this.exportPath+this.getNarrowSearchURLArgs(this.lastSortType,this.lastSortTypeHtmlId));},downloadSampleUserupload:function(){window.location=this.constructUrl("administration/userfeed/download/csv");},addItem:function(){this.abstractFunctionAlert("addItem");return false;},editItem:function(){this.abstractFunctionAlert("editItem");
return false;},showHide:function(strOne,strTwo){$("#"+strTwo).toggle();var classShowHide=$("#"+strOne).hasClass("cls-show");if(classShowHide){$("#"+strOne).removeClass("cls-show");$("#"+strOne).addClass("cls-hide");}else{$("#"+strOne).removeClass("cls-hide");$("#"+strOne).addClass("cls-show");}},showHideCourseClass:function(type){if(type=="Class"){$("#catalogcoursestatus_container").hide();$("#courselangtype_container").hide();$("#catalogcoursetag_container").hide();$("#catalogcoursemanageby_container").hide();$("#classhiddenmanageby_container").hide();$("#catalogcoursecurrency_container").hide();$("#coursePrice_container").hide();$("#catalogclassstatus_container").show();$("#classdeliverytype_container").show();$("#classPrice_container").show();$("#classdaterange_container").show();$("#classlangtype_container").show();$("#catalogclasstag_container").show();$("#classLocation_container").show();$("#classInstructor_container").show();$("#classSurvey_container").show();$("#classAssessment_container").show();
$("#classContent_container").show();$("#catalogclassmanageby_container").show();$("#catalogclasscurrency_container").show();$("#tagentityType").val("tagtipclass");}else{$("#catalogcoursestatus_container").show();$("#courselangtype_container").show();$("#catalogcoursetag_container").show();$("#catalogcoursemanageby_container").show();$("#catalogcoursecurrency_container").show();$("#coursePrice_container").show();$("#catalogclassstatus_container").hide();$("#classdeliverytype_container").hide();$("#classPrice_container").hide();$("#classdaterange_container").hide();$("#classlangtype_container").hide();$("#catalogclasstag_container").hide();$("#classLocation_container").hide();$("#classInstructor_container").hide();$("#catalogclassmanageby_container").hide();$("#catalogclasscurrency_container").hide();$("#classSurvey_container").hide();$("#classAssessment_container").hide();$("#classContent_container").hide();$("#tagentityType").val("tagtip");}},renderSearchResults:function(curModule,subModule){var curObj=this;
if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){var gridWidth=720;var detailsWidth=520;var actionWidth=150;var iconsWidth=74;}else{var detailsWidth=595;var actionWidth=130;var gridWidth=770;var iconsWidth=54;}if(curModule=="administration/learning"||subModule=="administration/manage/content"||subModule=="administration/contentauthor/video"||subModule=="administration/contentauthor/presentation"||subModule=="administration/manage/banner"||subModule=="administration/sitesetup/moduleinfo"||subModule=="administration/commerce/order"||subModule=="administration/manage/announcement"){var tmp_html=$("#narrow-search-results-holder").html();if(tmp_html=="<TBODY></TBODY>"||tmp_html=="<tbody></tbody>"){$("#narrow-search-results-holder").html("");}if($("#narrow-search-results-holder").html().length<=0){curObj.createLoader("main-wrapper");var curObjStr='$("#'+curObj.widgetInitId+'").data("'+curObj.widgetName+'")';$("#narrow-search-results-holder").jqGrid({url:curObj.constructUrl(curObj.searchBasePath),datatype:"json",mtype:"GET",colNames:["Icons","Details","Action"],colModel:[{name:"Icons",index:"Icons",classes:"rowpaddTB",title:false,width:iconsWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResultsIcons},{name:"Details",index:"Details",classes:"rowpaddTB",title:false,width:detailsWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResults},{name:"Action",index:"Action",classes:"rowpaddTB",title:false,width:actionWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResultsAction}],rowNum:10,rowList:[10,25,50],pager:"#narrow-search-results-pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:true,height:"auto",width:gridWidth,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,userdata:"userdata",loadComplete:curObj.loadComplete});
}else{curObj.refreshGrid();if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").show();}}}else{if((curModule=="administration/people"&&subModule!="administration/people/organization"&&subModule!="administration/people/group")||subModule=="administration/commerce/setting"||subModule=="administration/people/setup"||subModule=="administration/manage/announcement"||subModule=="administration/sitesetup/config"){var iconsWidth=38;if(subModule=="administration/commerce/setting"||subModule=="administration/people/setup"||subModule=="administration/sitesetup/config"){iconsWidth=80;detailsWidth=440;}var tmp_html=$("#narrow-search-results-holder").html();if(tmp_html=="<TBODY></TBODY>"||tmp_html=="<tbody></tbody>"){$("#narrow-search-results-holder").html("");}if($("#narrow-search-results-holder").html().length<=0){curObj.createLoader("main-wrapper");var curObjStr='$("#'+curObj.widgetInitId+'").data("'+curObj.widgetName+'")';if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){var iconsWidth=50;
}$("#narrow-search-results-holder").jqGrid({url:curObj.constructUrl(curObj.searchBasePath),datatype:"json",mtype:"GET",colNames:["Icons","Details"],colModel:[{name:"Icons",index:"Icons",classes:"rowpaddTB",title:false,width:iconsWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResultsIcons},{name:"Details",index:"Details",classes:"rowpaddTB",title:false,width:detailsWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResults}],rowNum:10,rowList:[10,25,50],pager:"#narrow-search-results-pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:true,height:"auto",width:gridWidth,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:curObj.loadComplete});}else{curObj.refreshGrid();if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").show();}}}else{if(curModule=="administration/survey"||subModule=="administration/survey/surveydetails"||subModule=="administration/assessment/assessmentdetails"||subModule=="administration/assessment/assessmentquestions"||subModule=="administration/survey/surveyquestions"||subModule=="administration/contentauthor/video"||subModule=="administration/contentauthor/presentation"||subModule=="administration/manage/location"||subModule=="administration/manage/customattribute"||subModule=="administration/manage/notification_template"||subModule=="administration/manage/certificate"||subModule=="administration/commerce/tax"||subModule=="administration/commerce/discounts"){var tmp_html=$("#narrow-search-results-holder").html();
if(tmp_html=="<TBODY></TBODY>"||tmp_html=="<tbody></tbody>"){$("#narrow-search-results-holder").html("");}if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){var detailsWidth=600;var actionWidth=150;}else{var detailsWidth=655;var actionWidth=130;}if($("#narrow-search-results-holder").html().length<=0){curObj.createLoader("main-wrapper");var curObjStr='$("#'+curObj.widgetInitId+'").data("'+curObj.widgetName+'")';$("#narrow-search-results-holder").jqGrid({url:curObj.constructUrl(curObj.searchBasePath),datatype:"json",mtype:"GET",colNames:["Details","Action"],colModel:[{name:"Details",index:"Details",classes:"rowpaddTB",title:false,width:detailsWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResults},{name:"Action",index:"Action",classes:"rowpaddTB",title:false,width:actionWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResultsAction}],rowNum:10,rowList:[10,25,50],pager:"#narrow-search-results-pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:true,height:"auto",width:gridWidth,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:curObj.loadComplete});
}else{curObj.refreshGrid();if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").show();}}}else{var tmp_html=$("#narrow-search-results-holder").html();if(tmp_html=="<TBODY></TBODY>"||tmp_html=="<tbody></tbody>"){$("#narrow-search-results-holder").html("");}if($("#narrow-search-results-holder").html().length<=0){curObj.createLoader("main-wrapper");var curObjStr='$("#'+curObj.widgetInitId+'").data("'+curObj.widgetName+'")';$("#narrow-search-results-holder").jqGrid({url:curObj.constructUrl(curObj.searchBasePath),datatype:"json",mtype:"GET",colNames:["Details"],colModel:[{name:"Details",index:"Details",classes:"rowpaddTB",title:false,width:detailsWidth,widgetObj:curObjStr,formatter:curObj.paintSearchResults}],rowNum:10,rowList:[10,25,50],pager:"#narrow-search-results-pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:true,height:"auto",width:gridWidth,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:curObj.loadComplete});}else{curObj.refreshGrid();
if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").show();}}}}}},paintSearchResults:function(cellvalue,options,rowObject){return rowObject.details;},paintSearchResultsAction:function(cellvalue,options,rowObject){return rowObject.action;},paintSearchResultsIcons:function(cellvalue,options,rowObject){return rowObject.image;},showPageControls:function(){$("#narrow-search-results-pager").show();if(this.currTheme=="expertusoneV2"){$("#root-admin-results .block-footer-left").hide();}$("#narrow-search-results-pager #narrow-search-results-pager_center #first_narrow-search-results-pager").show();$("#narrow-search-results-pager #narrow-search-results-pager_center #last_narrow-search-results-pager").show();$("#narrow-search-results-pager #narrow-search-results-pager_center #next_narrow-search-results-pager").show();$("#narrow-search-results-pager #narrow-search-results-pager_center #prev_narrow-search-results-pager").show();$("#narrow-search-results-pager #narrow-search-results-pager_center #sp_1_narrow-search-results-pager").parent().show();
if(this.currTheme=="expertusone"){$("#narrow-search-results-pager #narrow-search-results-pager_center").removeAttr("style");}},loadComplete:function(response,postdata,formid,updateShowMore){var curObj=this;curObj.widgetInitId="root-admin";curObj.widgetName="narrowsearch";Drupal.attachBehaviors();$("#narrow-search-results-holder").show();if($("#narrow-search-actionbar")){$("#narrow-search-actionbar").show();}var userData=$("#narrow-search-results-holder").jqGrid("getGridParam","userData");if(typeof userData.managedBy!="undefined"&&userData.managedBy!=""){var managedByCheckboxId="#managed_by_1 input";if(typeof userData.adminPage!="undefined"&&userData.adminPage=="class"){managedByCheckboxId="#managed_by_1 input";}if(typeof userData.adminPage!="undefined"&&userData.adminPage=="class"){$("#checkbox_clspgopened").attr("checked","checked");$("#checkbox_clspgopened").parent().removeClass("narrow-search-filterset-checkbox-unselected");$("#checkbox_clspgopened").parent().addClass("narrow-search-filterset-checkbox-selected");
}if(userData.managedBy=="me"){$(managedByCheckboxId).attr("checked","checked");$(managedByCheckboxId).parent().removeClass("narrow-search-filterset-checkbox-unselected");$(managedByCheckboxId).parent().addClass("narrow-search-filterset-checkbox-selected");$("#managed_by_1").children(".narrow-search-filterset-item-label-unselected").removeClass("narrow-search-filterset-item-label narrow-search-filterset-item-label-unselected").addClass("narrow-search-filterset-item-label narrow-search-filterset-item-label-selected");}}var numRecords=parseInt($("#narrow-search-results-holder").getGridParam("records"),10);if(numRecords==0){$("#narrow-search-no-records").show();}else{$("#narrow-search-no-records").hide();}var recordsPerPage=parseInt($("#narrow-search-results-holder").getGridParam("reccount"),10);var hideAllPageControls=true;if(numRecords>10){hideAllPageControls=false;$("#page-container #narrow-search-results-holder tr.ui-widget-content:last-child > td.rowpaddTB").css("padding-bottom","9px");
}if($("#"+curObj.widgetInitId).data(curObj.widgetName).firstTime){$("#narrow-search-filters").show();$("#narrow-search-results-topbar").show();$("#"+response.initial_sort_type_html_id).addClass("sortype-high-lighter");$("#"+curObj.widgetInitId).data(curObj.widgetName).firstTime=false;$("#"+curObj.widgetInitId).data(curObj.widgetName).initGrid("#"+curObj.widgetInitId,curObj.widgetName);}else{if($("#"+curObj.widgetInitId).data(curObj.widgetName).lastSortTypeHtmlId){$("#"+$("#"+curObj.widgetInitId).data(curObj.widgetName).lastSortTypeHtmlId).addClass("sortype-high-lighter");}else{$("#"+response.initial_sort_type_html_id).addClass("sortype-high-lighter");}}$("#"+curObj.widgetInitId).data(curObj.widgetName).destroyLoader("paint-narrow-search-results");$("#"+curObj.widgetInitId).data(curObj.widgetName).destroyLoader("main-wrapper");vtip();resetFadeOutByClass("#narrow-search-results-holder","narrow-search-results-item-detail","vtip","admin");$(".limit-title").trunk8(trunk8.admin_title);$(".limit-desc").trunk8(trunk8.admin_desc);
updateShowMore=((updateShowMore==undefined||updateShowMore==null)?true:updateShowMore);if(updateShowMore){$("#paint-narrow-search-results").showmore({showAlways:true,grid:"#narrow-search-results-holder",gridWrapper:"#main-wrapper",showMore:"#admin-narrow-search-show-more"});}$("#narrow-search-results-holder tr.jqgrow:not(.click-binded)").bind("mousedown",function(e){try{$("#narrow-search-results-holder").setGridParam({lastAccessedRow:$(e.target).closest("tr.jqgrow")[0]});}catch(e){}}).addClass("click-binded");},getNarrowSearchURLArgs:function(sortType,sortTypeHtmlId){var searchNarrowParams="";var curObj=this;var numfilterSets=curObj.filterSets.length;for(var i=0;i<numfilterSets;i++){searchNarrowParams+="&"+curObj.filterSets[i].code+"=";var appliedFilters="";switch(curObj.filterSets[i].type){case"radio":appliedFilters+=$('input[name="'+curObj.filterSets[i].code+'"]:checked').val();break;case"checkbox":$("#"+curObj.filterSets[i].code+"_filterset .narrow-search-filterset-checkbox").each(function(){if($(this).is(":checked")){appliedFilters+=(appliedFilters=="")?"":"|";
appliedFilters+=$(this).val();}});break;case"addltext":var tmpDefaultText;var curText=$("#"+curObj.filterSets[i].code+"-addltext-filter").val();if(curText==curObj.filterSets[i].defaultText||curText==undefined||curText===null||curText==""){tmpDefaultText="";}else{tmpDefaultText=curText;}appliedFilters+=encodeURIComponent(tmpDefaultText);break;case"tagscloud":var curText=$("#"+curObj.filterSets[i].code+"-addltext-filter").val();if(curText==undefined||curText===null||curText==""){curText="";}appliedFilters+=encodeURIComponent(curText);break;case"slider":var prefix=$("#"+curObj.filterSets[i].code+"_filterset").data("prefix");var suffix=$("#"+curObj.filterSets[i].code+"_filterset").data("suffix");var tempprice;var Lprice="";var Rprice="";if($("#value-slide-left-"+curObj.filterSets[i].code+"").val()!=undefined){Lprice=$("#value-slide-left-"+curObj.filterSets[i].code+"").val().replace(prefix+suffix,"");}if($("#value-slide-right-"+curObj.filterSets[i].code+"").val()!=undefined){Rprice=$("#value-slide-right-"+curObj.filterSets[i].code+"").val().replace(prefix+suffix,"");
}if((Lprice==undefined||Lprice===null||Lprice=="")||(Rprice==undefined||Rprice===null||Rprice=="")){tempprice="";}else{tempprice=$.trim(Lprice+"|"+Rprice);}appliedFilters+=tempprice;break;case"daterange":var clrLinkSelector="#"+curObj.filterSets[i].code+"-daterange-clr";var fromDate=$("#"+curObj.filterSets[i].code+"-daterange-from-date").val();var toDate=$("#"+curObj.filterSets[i].code+"-daterange-to-date").val();if(fromDate==curObj.filterSets[i].from_default_text||fromDate==undefined||fromDate===null||fromDate==""){fromDate="";}else{$(clrLinkSelector).css("display","block");}if(toDate==curObj.filterSets[i].to_default_text||toDate==undefined||toDate===null||toDate==""){toDate="";}else{$(clrLinkSelector).css("display","block");}appliedFilters+=fromDate+"|"+toDate;break;}searchNarrowParams+=appliedFilters;}searchNarrowParams+="&sortby="+sortType;var textFilter=($("#narrow-search-text-filter").val()==curObj.topTextFilterLabel)?"":$("#narrow-search-text-filter").val();searchNarrowParams+="&textfilter="+encodeURIComponent(textFilter);
return searchNarrowParams;},refreshGrid:function(sortType,sortTypeHtmlId){if($("#narrow-search-actionbar")){}var curObj=this;if(sortType==undefined||sortType==null||sortType==""){sortType=curObj.lastSortType;}if(sortTypeHtmlId==undefined||sortTypeHtmlId==null||sortType==""){sortTypeHtmlId=curObj.lastSortTypeHtmlId;}$("#gview_narrow-search-results-holder").css("min-height","100px");curObj.createLoader("main-wrapper");var ajaxUrl=curObj.constructUrl(curObj.searchBasePath+curObj.getNarrowSearchURLArgs(sortType,sortTypeHtmlId));if(ajaxUrl.indexOf("catalogtype=Class")!==-1){$("#narrow-search-results-holder").setGridParam({jsonReader:{id:"jqgrid-rowid"}});}else{$("#narrow-search-results-holder").setGridParam({jsonReader:{id:"id"}});}$("#narrow-search-results-holder").setGridParam({url:ajaxUrl});$("#narrow-search-results-holder").trigger("reloadGrid",[{page:1}]);curObj.updateCheckboxFiltersDisplay();$(".narrow-search-sortbar-sortlinks li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");
});if(sortTypeHtmlId.length>0){$("#"+sortTypeHtmlId).addClass("sortype-high-lighter");curObj.lastSortType=sortType;curObj.lastSortTypeHtmlId=sortTypeHtmlId;}vtip();},updateCheckboxFiltersDisplay:function(){$(".narrow-search-filtersets-holder").find("input[type=checkbox]").each(function(){if($(this).is(":checked")){$(this).parent().next("label").removeClass("narrow-search-filterset-item-label-unselected");$(this).parent().next("label").addClass("narrow-search-filterset-item-label-selected");$(this).parent().removeClass("narrow-search-filterset-checkbox-unselected");$(this).parent().addClass("narrow-search-filterset-checkbox-selected");}else{$(this).parent().next("label").removeClass("narrow-search-filterset-item-label-selected");$(this).parent().next("label").addClass("narrow-search-filterset-item-label-unselected");$(this).parent().removeClass("narrow-search-filterset-checkbox-selected");$(this).parent().addClass("narrow-search-filterset-checkbox-unselected");}});$(".narrow-search-filtersets-holder").find("input[type=radio]").each(function(){if($(this).is(":checked")){$(this).parent().next("label").removeClass("narrow-search-filterset-item-label-unselected");
$(this).parent().next("label").addClass("narrow-search-filterset-item-label-selected");$(this).parent().removeClass("narrow-search-filterset-radio-unselected");$(this).parent().addClass("narrow-search-filterset-radio-selected");if($(".classlangtype-scroll-list-container").jScrollPane({}).data("jsp")!=undefined){$(".classlangtype-scroll-list-container").jScrollPane({}).data("jsp").destroy();}$(".classlangtype-scroll-list-container").jScrollPane();if($(".classcurrency-scroll-list-container").jScrollPane({}).data("jsp")!=undefined){$(".classcurrency-scroll-list-container").jScrollPane({}).data("jsp").destroy();}$(".classcurrency-scroll-list-container").jScrollPane();}else{$(this).parent().next("label").removeClass("narrow-search-filterset-item-label-selected");$(this).parent().next("label").addClass("narrow-search-filterset-item-label-unselected");$(this).parent().removeClass("narrow-search-filterset-radio-selected");$(this).parent().addClass("narrow-search-filterset-radio-unselected");}});
vtip();},initGrid:function(widgetSelector,widgetName){$("#first_narrow-search-results-pager").click(function(e){if(!$("#first_narrow-search-results-pager").hasClass("ui-state-disabled")){$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");}});$("#prev_narrow-search-results-pager").click(function(e){if(!$("#prev_narrow-search-results-pager").hasClass("ui-state-disabled")){$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");}});$("#next_narrow-search-results-pager").click(function(e){if(!$("#next_narrow-search-results-pager").hasClass("ui-state-disabled")){$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");
}});$("#last_narrow-search-results-pager").click(function(e){if(!$("#last_narrow-search-results-pager").hasClass("ui-state-disabled")){$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");}});$(".ui-pg-selbox").bind("change",function(){$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");$(widgetSelector).data(widgetName).hidePageControls(false);this.blur();});$(".ui-pg-input").keyup(function(event){if(event.keyCode==13){$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");}});if(this.currTheme=="expertusoneV2"){$("#narrow-search-results-pager .page-show-prev").bind("click",function(){if(parseInt($("#narrow-search-results-pager .page_count_view").attr("id"))<0){$("#narrow-search-results-pager .page_count_view").attr("id","0");
}else{$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");$(widgetSelector).data(widgetName).hidePageControls(false);}});$("#narrow-search-results-pager .page-show-next").bind("click",function(){if(parseInt($("#narrow-search-results-pager .page_count_view").attr("id"))>=parseInt($("#narrow-search-results-pager .page-total-view").attr("id"))){$("#narrow-search-results-pager .page_count_view").attr("id",($("#narrow-search-results-pager .page_count_view").attr("id")-1));}else{$("#narrow-search-results-holder").hide();$("#gview_narrow-search-results-holder").css("min-height","100px");$(widgetSelector).data(widgetName).createLoader("paint-narrow-search-results");$(widgetSelector).data(widgetName).hidePageControls(false);}});}vtip();},initTextFilter:function(textFilterACPath){if($("#narrow-search-text-filter")){var obj=this;$("#narrow-search-text-filter").removeData();
$("#narrow-search-text-filter").keyup(function(event){if(event.keyCode==13){obj.narrowSearchByText();$(".ac_results").css("display","none");}});$("#narrow-search-text-filter-go").click(function(){obj.narrowSearchByText();});if(textFilterACPath!=undefined&&textFilterACPath!="undefined"&&textFilterACPath!=null&&textFilterACPath!=""){textFilterACPath="/?q="+textFilterACPath;$("#narrow-search-text-filter").autocomplete(textFilterACPath,{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading"});}}this.initTextDateFilterBlurStyle("#narrow-search-text-filter",obj.topTextFilterLabel,"1");$("#narrow-search-text-filter").focus(function(){try{var inputElem=$(this);inputElem.val()==""||addClearIcon(inputElem);}catch(e){}}).blur(function(e){try{var inputElem=$(this);removeClearIcon(inputElem);}catch(e){}}).keyup(function(){var inputElem=$(this);if(inputElem.siblings(".eol-search-clearance").length<1){inputElem.val()==""||addClearIcon(inputElem);
}else{inputElem.val()==""&&removeClearIcon(inputElem);}});vtip();},initFilters:function(){for(var i=0;i<this.filterSets.length;i++){var filterSet=this.filterSets[i];switch(filterSet.type){case"addltext":this.initAddlTextFilter(filterSet);break;case"daterange":this.initDateRangeFilter(filterSet);break;case"slider":this.initSlider(filterSet);break;case"checkbox":if(filterSet.code=="group"){if($("#"+filterSet.code+"_filterset").is(":visible")){($("#"+filterSet.code+"_filterset").removeClass("display-more"));var groupHeight=$("#"+filterSet.code+"_filterset").height();if(groupHeight>10){$("#"+filterSet.code+"_filterset").css({width:"160px"});}}}}}var filterCount=$(".narrow-search-filterset").filter(":visible").length-1;$(".narrow-search-filterset:eq("+filterCount+")").css({"border-bottom":"none","padding-bottom":"0px"});},initTextDateFilterBlurStyle:function(selector,defaultText,fromTopFilterTextSearch){var data=selector+"&"+defaultText+"&"+fromTopFilterTextSearch;var curObj=this;$(selector).blur(data,function(event){var data=event.data;
var tokens=data.split("&");var selector=tokens[0];var fieldValue=$(selector).val();var defaultText=tokens[1];var fromTopFilterTextSearch=tokens[2];if(fromTopFilterTextSearch=="1"){defaultText=curObj.topTextFilterLabel;}if(fieldValue==""||fieldValue==defaultText){$(selector).removeClass("narrow-search-filterset-daterange-nonempty");$(selector).addClass("narrow-search-filterset-daterange-empty");$(selector).val(defaultText);}else{if(fieldValue!=defaultText){$(selector).removeClass("narrow-search-filterset-daterange-empty");$(selector).addClass("narrow-search-filterset-daterange-nonempty");}}});$(selector).focus(data,function(event){var data=event.data;var tokens=data.split("&");var selector=tokens[0];var fieldValue=$(selector).val();var defaultText=tokens[1];if(fieldValue==defaultText){$(selector).val("");}$(selector).removeClass("narrow-search-filterset-daterange-empty");$(selector).addClass("narrow-search-filterset-daterange-nonempty");});$(selector).change(data,function(event){var data=event.data;
var tokens=data.split("&");var selector=tokens[0];var fieldValue=$(selector).val();var defaultText=tokens[1];var fromTopFilterTextSearch=tokens[2];if(fromTopFilterTextSearch=="1"){defaultText=curObj.topTextFilterLabel;}if(fieldValue==""||fieldValue==defaultText){$(selector).removeClass("narrow-search-filterset-daterange-nonempty");$(selector).addClass("narrow-search-filterset-daterange-empty");$(selector).val(defaultText);}else{$(selector).removeClass("narrow-search-filterset-daterange-empty");$(selector).addClass("narrow-search-filterset-daterange-nonempty");}});var fieldValue=$(selector).val();if(fieldValue==defaultText){$(selector).addClass("header-search-text-filter");$(selector).removeClass("narrow-search-filterset-daterange-nonempty");$(selector).addClass("narrow-search-filterset-daterange-empty");$(selector).val(defaultText);}vtip();},initAddlTextFilter:function(filterSet){if($("#"+filterSet.code+"-addltext-filter")){var obj=this;$("#"+filterSet.code+"-addltext-filter").keyup(filterSet.code,function(event){if(event.keyCode==13){obj.narrowSearchByAddlText(event.data);
$("#"+filterSet.code+"-addltext-clr").css("display","block");$(".ac_results").css("display","none");}});$("#"+filterSet.code+"-addltext-filter-go").click(filterSet.code,function(event){if($("#"+filterSet.code+"-addltext-filter").val()!=filterSet.defaultText){obj.narrowSearchByAddlText(event.data);}});if(filterSet.acpath!=undefined&&filterSet.acpath!="undefined"&&filterSet.acpath!=null&&filterSet.acpath!=""){var addlTextFilterACPath="/?q="+filterSet.acpath;var multipleval="";if(filterSet.code=="grporg"||filterSet.code=="grpjobrole"||filterSet.code=="grploc"||filterSet.code=="grpempl"||filterSet.code=="grpdep"||filterSet.code=="grpusrtyp"||filterSet.code=="grpcontry"||filterSet.code=="grplang"){multipleval=true;}else{multipleval=false;}$("#"+filterSet.code+"-addltext-filter").autocomplete(addlTextFilterACPath,{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading",multiple:multipleval});}}var selector="#"+filterSet.code+"-addltext-filter";
var defaultText=filterSet.defaultText;this.initTextDateFilterBlurStyle(selector,defaultText);},initDateRangeFilter:function(filterSet){if($("#"+filterSet.code+"-daterange-from-date")){filterSet.__init="FROM";this.initDateRangeDateField(filterSet);}if($("#"+filterSet.code+"-daterange-to-date")){filterSet.__init="TO";this.initDateRangeDateField(filterSet);}},initDateRangeDateField:function(filterSet){var selectorSuffix=(filterSet.__init=="FROM")?"-daterange-from-date":"-daterange-to-date";var selector="#"+filterSet.code+selectorSuffix;var buttonText=(filterSet.__init=="FROM")?filterSet.from_tooltip:filterSet.to_tooltip;var calendarIcon=resource.base_url+"/"+themepath+"/expertusone-internals/images/calendar_icon.JPG";$(selector).datepicker({duration:"",showTime:false,constrainInput:false,stepMinutes:5,stepHours:1,time24h:true,dateFormat:"mm-dd-yy",buttonImage:calendarIcon,buttonImageOnly:true,firstDay:0,showOn:"both",buttonText:buttonText,showButtonPanel:true,changeMonth:true,changeYear:true,daterangeDiffDays:20000,beforeShow:function(input){var data=$("#"+input.id).metadata();
var dateFieldCode=data.dateFieldCode;var dateShowOption=data.dateRangeShowOption;if(dateShowOption==""||dateShowOption==null||dateShowOption=="undefined"){dateShowOption="all";}if(dateFieldCode==""||dateFieldCode==null||dateFieldCode=="undefined"){var tokens=data.split("-");var dateFieldCode=tokens[0];}var dateMin=null;var dateMax=null;var fromSelectorCode=dateFieldCode+"-daterange-from-date";var toSelectorCode=dateFieldCode+"-daterange-to-date";var fromSelector="#"+fromSelectorCode;var toSelector="#"+toSelectorCode;if(input.id==fromSelectorCode&&$(fromSelector).datepicker("getDate")!=null){var daterangeDiffDays=$(fromSelector).datepicker("option","daterangeDiffDays");if(dateShowOption=="future"){dateMin=new Date();dateMax=$(toSelector).datepicker("getDate");dateMax.setDate(dateMin.getDate()+daterangeDiffDays);}else{if(dateShowOption=="past"){var toDateFull=$(toSelector).datepicker("getDate");var fromDateFull=$(fromSelector).datepicker("getDate");var fromDate=fromDateFull.getFullYear()+","+fromDateFull.getMonth()+","+fromDateFull.getDate();
var toDate=toDateFull.getFullYear()+","+toDateFull.getMonth()+","+toDateFull.getDate();var dateFromObj=new Date(fromDate);var dateToObj=new Date(toDate);var diffDates=dateToObj-dateFromObj;dateMax=new Date();if(diffDates==0){dateMin=$(fromSelector).datepicker("getDate");dateMin.setDate(dateMin.getDate()-daterangeDiffDays);dateMax=new Date();}else{dateMax=$(toSelector).datepicker("getDate");dateMin=$(toSelector).datepicker("getDate");dateMin.setDate(dateMax.getDate()-daterangeDiffDays);dateMax.setDate(dateMax.getDate()-0);}}}}else{if(input.id==toSelectorCode){var daterangeDiffDays=$(toSelector).datepicker("option","daterangeDiffDays");if(dateShowOption=="future"){dateMax=new Date();if($(fromSelector).datepicker("getDate")!=null){dateMin=$(fromSelector).datepicker("getDate");dateMax=$(fromSelector).datepicker("getDate");dateMax.setDate(dateMax.getDate()+daterangeDiffDays);}}else{if(dateShowOption=="past"){dateMax=new Date();if($(fromSelector).datepicker("getDate")!=null){dateMin=$(fromSelector).datepicker("getDate");
var minDate=dateMin.getFullYear()+","+dateMin.getMonth()+","+dateMin.getDate();var maxDate=dateMax.getFullYear()+","+dateMax.getMonth()+","+dateMax.getDate();var dateFromObj=new Date(minDate);var dateToObj=new Date(maxDate);var diffDates=dateToObj-dateFromObj;if(diffDates<=0){dateMin.setDate(dateMin.getDate()-daterangeDiffDays);}else{dateMin.setDate(dateMin.getDate()-0);}}}}}}return{minDate:dateMin,maxDate:dateMax};}});var defaultText=(filterSet.__init=="FROM")?filterSet.from_default_text:filterSet.to_default_text;this.initTextDateFilterBlurStyle(selector,defaultText);},initSlider:function(filterSet){obj=this;var valueMin=$("#"+filterSet.code+"_filterset").data("startval");var valueMax=$("#"+filterSet.code+"_filterset").data("endval");var prefix=$("#"+filterSet.code+"_filterset").data("prefix");var suffix=$("#"+filterSet.code+"_filterset").data("suffix");if(valueMax>valueMin){$("#value-slider-range-"+filterSet.code+"").slider({range:true,min:valueMin,max:valueMax,values:[valueMin,valueMax],slide:function(event,ui){$("#value-slide-left-"+filterSet.code+"").val(prefix+ui.values[0]+suffix);
$("#value-slide-right-"+filterSet.code+"").val(prefix+ui.values[1]+suffix);},change:function(e,ui){obj.narrowSearchBySlider();}});$("#value-slide-left-"+filterSet.code+"").val(prefix+$("#value-slider-range-"+filterSet.code+"").slider("values",0)+suffix);$("#value-slide-right-"+filterSet.code+"").val(prefix+$("#value-slider-range-"+filterSet.code+"").slider("values",1)+suffix);}},IsValidDate:function(Day,Mn,Yr){var DateVal=Mn+"/"+Day+"/"+Yr;var dt=new Date(DateVal);if(dt.getDate()!=Day){return(false);}else{if(dt.getMonth()!=Mn-1){return(false);}else{if(dt.getFullYear()!=Yr){return(false);}}}return(true);},validateDateRangeDates:function(code,ID){var fromDefaultText=$("#"+ID).data("default-fromtext");var toDefaultText=$("#"+ID).data("default-totext");var fromDateSelector="#"+code+"-daterange-from-date";var toDateSelector="#"+code+"-daterange-to-date";var dateFrom=($(fromDateSelector).val()==fromDefaultText)?"":$(fromDateSelector).val();var dateTo=($(toDateSelector).val()==toDefaultText)?"":$(toDateSelector).val();
if(dateFrom==""&&dateTo==""){this.narrowSearchByDateRange(code);return;}var msg="";var validFromDate=false;var validToDate=false;if(dateFrom!=""){var dateFromSplit=dateFrom.split("-");var fromDay=dateFromSplit[1];var fromMonth=dateFromSplit[0];var fromYear=dateFromSplit[2];validFromDate=this.IsValidDate(fromDay,fromMonth,fromYear);if(!validFromDate){msg+=Drupal.t("LBL1154");}}if(dateTo!=""){var dateToSplit=dateTo.split("-");var toDay=dateToSplit[1];var toMonth=dateToSplit[0];var toYear=dateToSplit[2];validToDate=this.IsValidDate(toDay,toMonth,toYear);if(!validToDate){if(msg!=""){msg+="<br/>";}}}if(validFromDate==true&&validFromDate==true){var dateFromObjStr=fromYear+"/"+fromMonth+"/"+fromDay;var dateToObjStr=toYear+"/"+toMonth+"/"+toDay;var dateFromObj=new Date(dateFromObjStr);var dateToObj=new Date(dateToObjStr);var diffDates=dateToObj-dateFromObj;if(diffDates<0){if(msg!=""){msg+="<br/>";}msg+=Drupal.t("LBL1155");}}errMsgDivSelector="#"+code+"-daterange-errmsg";if(msg!=""){$(errMsgDivSelector).html(Drupal.t(msg));
$(errMsgDivSelector).css("display","inline-block");$(errMsgDivSelector).show();}else{$(errMsgDivSelector).hide();this.narrowSearchByDateRange(code);}},clearDateRangeFields:function(code,ID){var fromDefaultText=$("#"+ID).data("default-fromtext");var toDefaultText=$("#"+ID).data("default-totext");var fromDateSelector="#"+code+"-daterange-from-date";var toDateSelector="#"+code+"-daterange-to-date";var clearDateRangeSelector="#"+code+"-daterange-clr";var errMsgDivSelector="#"+code+"-daterange-errmsg";$(fromDateSelector).removeClass("narrow-search-filterset-daterange-nonempty");$(fromDateSelector).addClass("narrow-search-filterset-daterange-empty");$(fromDateSelector).val(fromDefaultText);$(toDateSelector).removeClass("narrow-search-filterset-daterange-nonempty");$(toDateSelector).addClass("narrow-search-filterset-daterange-empty");$(toDateSelector).val(toDefaultText);$(clearDateRangeSelector).css("display","none");$(errMsgDivSelector).hide();$(fromDateSelector).datepicker("refresh");$(toDateSelector).datepicker("refresh");
this.narrowSearchByDateRange(code);},validatetextField:function(code,ID){var defaultText=$("#"+ID).data("default-text");var defaultTextSelector="#"+code+"-addltext-filter";var showClearLink="#"+code+"-addltext-clr";if($("#"+code+"-addltext-filter").val()!=defaultText){$(showClearLink).css("display","block");}},clearTextBoxFields:function(code,ID){var defaultText=$("#"+ID).data("default-text");var defaultTextSelector="#"+code+"-addltext-filter";var clearTextFieldSelector="#"+code+"-addltext-clr";$(defaultTextSelector).removeClass("narrow-search-filterset-daterange-nonempty");$(defaultTextSelector).addClass("narrow-search-filterset-daterange-empty");$(defaultTextSelector).val(defaultText);$(clearTextFieldSelector).css("display","none");this.narrowSearchByAddlText(code);},clearTagsCloudNarrowFilter:function(code){$("#"+code+"-addltext-filter").val("");$(".tagscloud-tag").css("text-decoration","");$("#"+code+"-tagscloud-clr").css("display","none");$("#root-admin").data("narrowsearch").refreshGrid();
},moreListDisplay:function(recLen,dispId,html_id){if(html_id==""){for(i=0;i<=recLen;i++){$("#"+dispId+"_"+i).css("display","block");}$("#"+dispId+"_more").css("display","none");$("#"+dispId+"_short").css("display","block");}else{for(i=0;i<=recLen;i++){$("#"+html_id+" #"+dispId+"_"+i).css("display","block");}$("#"+html_id+" #"+dispId+"_more").css("display","none");$("#"+html_id+" #"+dispId+"_short").css("display","block");}vtip();},shortListDisplay:function(recLen,dispId,html_id){if(html_id==""){for(i=0;i<=recLen;i++){if(i<=4){$("#"+dispId+"_"+i).css("display","block");}else{$("#"+dispId+"_"+i).css("display","none");}}$("#"+dispId+"_short").css("display","none");$("#"+dispId+"_more").css("display","block");}else{for(i=0;i<=recLen;i++){if(i<=4){$("#"+html_id+" #"+dispId+"_"+i).css("display","block");}else{$("#"+html_id+" #"+dispId+"_"+i).css("display","none");}}$("#"+html_id+" #"+dispId+"_short").css("display","none");$("#"+html_id+" #"+dispId+"_more").css("display","block");}vtip();},callDeleteProcess:function(objectId,objectType){$("#delete-msg-wizard").remove();
var obj=this;url=obj.constructUrl("ajax/admincore/deleteprocessobject/"+objectId+"/"+objectType);$.ajax({type:"POST",url:url,data:"",success:function(result){Drupal.CTools.Modal.dismiss();if(window.location.href.indexOf("admincalendar")>0){getCalendarData();}$("#root-admin").data("narrowsearch").refreshGrid();}});},displayDeleteWizard:function(title,objectId,objectType,wSize){var uniqueClassPopup="";if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){if(objectType=="Class"&&document.getElementById("catalog-course-basic-addedit-form")){uniqueClassPopup="unique-delete-class";}}var wSize=(wSize)?wSize:300;var closeButAction="";var esignForType="";var settingsList=["cre_usr_dpt","cre_usr_etp","cre_usr_jrl","cre_usr_jtl","cre_usr_ptp"];if(settingsList.indexOf(objectType)!=-1){closeButAction=function(){$("#deleteAddedList-"+objectId).click();};esignForType="DeleteAdminObjectSettingsList";}else{if(objectId=="cre_ste_mod_aut"||objectId=="cre_ste_mod_cattr"){closeButAction=function(){$("#root-admin").data("narrowsearch").publishAndUnpublishModule(objectType,"");
};}else{closeButAction=function(){$("#root-admin").data("narrowsearch").callDeleteProcess(objectId,objectType);};}esignForType="DeleteAdminObject";}$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(this.currTheme=="expertusoneV2"){if(objectType=="Content"){html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+title+"</td></tr>";}else{html+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+title+"?</td></tr>";}}else{if(objectType=="Content"){html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: left;">'+title+"</td></tr>";}else{html+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+title+"?</td></tr>";}}html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");
$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""&&objectId!="cre_ste_mod_aut"&&objectId!="cre_ste_mod_cattr"){var esignObj={popupDiv:"delete-object-dialog",esignFor:esignForType,objectId:objectId,objectType:objectType};closeButt[Drupal.t("Yes")]=function(){$.fn.getNewEsignPopup(esignObj);};}else{closeButt[Drupal.t("Yes")]=closeButAction;}if(objectType=="UnlockUser"){var drupalTitle=Drupal.t("LBL930");}else{if(objectType=="exp_sp_administration_contentauthor"){var drupalTitle=Drupal.t("LBL749");}else{if(objectType=="exp_sp_administration_customattribute"){var drupalTitle=Drupal.t("LBL2015");}else{var drupalTitle=Drupal.t("LBL286");}}}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:wSize,resizable:false,modal:true,title:Drupal.t(drupalTitle),buttons:closeButt,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+uniqueClassPopup+"'></div>");
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}if($("div.qtip-defaults").length>0){var prevZindex=$(".qtip-defaults").css("z-index");$("#delete-object-dialog .ui-widget-content").css("z-index",prevZindex+2);$(".ui-widget-overlay").css("z-index",prevZindex+1);}},displayH5PPreview:function(h5pplayer,objectId,objectType,wSize,hSize){var uniqueClassPopup="";if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){if(objectType=="Class"&&document.getElementById("catalog-course-basic-addedit-form")){uniqueClassPopup="unique-delete-class";
}}var wSize=(wSize)?wSize:300;var hSize=(hSize)?hSize:800;var closeButAction="";var esignForType="";$("#delete-msg-wizard").remove();var html="";html+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';html+="</div>";$("body").append(html);var closeButt={};var drupalTitle=Drupal.t("LBL694");$("#delete-msg-wizard").dialog({position:"center",bgiframe:true,width:wSize,height:hSize,resizable:false,modal:true,title:Drupal.t(drupalTitle),buttons:closeButt,closeOnEscape:true,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+uniqueClassPopup+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');
$("#delete-msg-wizard").show();if(objectType!="customattr"){window.setTimeout(function(){createLoaderNew("delete-msg-wizard");},500);}$("#delete-msg-wizard").html(h5pplayer);$("#delete-msg-wizard").css("overflow","hidden");$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}if($("div.qtip-defaults").length>0){var prevZindex=$(".qtip-defaults").css("z-index");$("#delete-object-dialog .ui-widget-content").css("z-index",prevZindex+2);$(".ui-widget-overlay").css("z-index",prevZindex+1);}},clearBubblePopupSet:function(){},fillCompletionDate:function(uniqueId,uniqueId2){var overallDate=$("#overall_completion_date_"+uniqueId2).val();$('input[name="hidden_completion_date_'+uniqueId+'"]').val(overallDate);},completionDateQTip:function(uniqueId,entityId,sessionStartdate){$(".qtip-popup-exempted").html("").hide();$(".catalog-pub-add-list").hide();$("#completion_date_container_"+uniqueId).show();$("#overall_completion_date"+uniqueId).datepicker("destroy");
if(entityId!=""&&entityId!=undefined){if(sessionStartdate!==undefined){if(this.currTheme=="expertusoneV2"){if($.trim(sessionStartdate)){$("#overall_completion_date_"+uniqueId).datepicker({minDate:new Date(sessionStartdate),dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_completion_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}}else{if($.trim(sessionStartdate)){$("#overall_completion_date_"+uniqueId).datepicker({minDate:new Date(sessionStartdate),dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_completion_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});
}}}else{url=this.constructUrl("ajax/administration/getClassStartDate/"+entityId);$.ajax({type:"POST",url:url,data:"",success:function(result){var sesStartDate=result.replace(/\,/g,"/");this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){if($.trim(sesStartDate)){$("#overall_completion_date_"+uniqueId).datepicker({minDate:new Date(sesStartDate),dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_completion_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}}else{if($.trim(sesStartDate)){$("#overall_completion_date_"+uniqueId).datepicker({minDate:new Date(sesStartDate),dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_completion_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});
}}}});}}else{this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){$("#overall_completion_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_completion_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}}},fillRegistrationDate:function(uniqueId,uniqueId2){var overallDate=$("#overall_registration_date_"+uniqueId2).val();$('input[name="hidden_registration_date_'+uniqueId+'"]').val(overallDate);$("#registration_date_container_"+uniqueId).hide();},registrationDateQTip:function(uniqueId,entityId,isPastClass,sessionStartdate){$(".catalog-pub-add-list").hide();if(entityId!=""&&entityId!=undefined){if(isPastClass){$("#registration_date_container_"+uniqueId).show();$("#overall_registration_date"+uniqueId).datepicker("destroy");
this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){if($.trim(sessionStartdate)){$("#overall_registration_date_"+uniqueId).datepicker({maxDate:new Date(sessionStartdate),dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_registration_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}}else{if($.trim(sessionStartdate)){$("#overall_registration_date_"+uniqueId).datepicker({maxDate:new Date(sessionStartdate),dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_registration_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});
}}}}else{this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){$("#overall_registration_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"both",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}else{$("#overall_registration_date_"+uniqueId).datepicker({dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"sites/all/themes/core/expertusone/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true});}}},getBubblePopup:function(qtipObj){try{closeQtip("");var popupId=qtipObj.popupDispId;var qtipLen=this.qtipLenth;var inArrQtip=$.inArray(popupId,this.qtipLoadSet);this.qtipLoadSet[qtipLen]=popupId;this.qtipLenth=this.qtipLenth+1;var entityType=qtipObj.entityType;var courseId=qtipObj.courseId!=undefined?qtipObj.courseId:"";var url=resource.base_host+"?q="+qtipObj.url;var wBubble=qtipObj.wBubble;var hBubble=qtipObj.hBubble;var setwBubble=wBubble-20;var setBtmLeft=(setwBubble-104)/2;var topElements='<span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';
var bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b"><table cellspacing="0" width="100%" cellpadding="0"><tbody><tr><td class="bubble-blt" style="width:'+setBtmLeft+'px"></td><td class="bubble-blm"></td><td class="bubble-blr" style="width:'+setBtmLeft+'px"></td></tr></tbody></table></td><td class="bubble-br"></td></tr></tbody></table>';var tipPos=qtipObj.tipPosition;var catalogVisibleId=qtipObj.catalogVisibleId;var mLeft=0;var tipPosition;var messageStyle="";var bwidth="";var crTheme=Drupal.settings.ajaxPageState.theme;switch(qtipObj.tipPosition){case"bottomRight":wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;setBtmLeft=(setwBubble-104)/2;mLeft=(qtipObj.catalogVisibleId.indexOf("editclass")>0)?45:(qtipObj.catalogVisibleId.indexOf("AttachCrsIdqtip")>0)?58:(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0)?49:62;bwidth=(qtipObj.catalogVisibleId.indexOf("addusers")>0)?wBubble:Math.round((wBubble/2)/5);
setBtmLeft=(qtipObj.catalogVisibleId.indexOf("addusers")>0)?"214":(bwidth*6)+12;setBtmLeft=(qtipObj.catalogVisibleId.indexOf("editclass")>0)?"373":(qtipObj.catalogVisibleId.indexOf("addclass")>0)?"373":(qtipObj.catalogVisibleId.indexOf("AttachCrsIdqtip")>0)?"168":(bwidth*6)+12;if(crTheme=="expertusoneV2"){setBtmLeft=(qtipObj.catalogVisibleId.indexOf("addusers")>0)?"172":(bwidth*6)+12;setBtmLeft=(qtipObj.catalogVisibleId.indexOf("editclass")>0)?"373":(qtipObj.catalogVisibleId.indexOf("addclass")>0)?"373":(qtipObj.catalogVisibleId.indexOf("AttachCrsIdqtip")>0)?"168":(bwidth*6)+12;}tipPosition=(qtipObj.tipPosition)?qtipObj.tipPosition:"bottomMiddle";topElements='<span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b"><table cellspacing="0" width="100%" cellpadding="0"><tbody><tr><td class="bubble-blt" style="width:'+setBtmLeft+'px"></td><td class="bubble-blr" style="width:'+setBtmLeft+'px"></td><td class="bubble-blm"></td></tr></tbody></table></td><td class="bubble-br"></td></tr></tbody></table>';
$("#"+popupId).parent().parent().parent().parent().removeClass("qtip-access-control");break;case"bottomCorner":wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;if(crTheme!="expertusoneV2"){if(navigator.userAgent.indexOf("Chrome")>0){setBtmLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?(wBubble==780?374:344):(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?7:(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?191:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?451:451;setBtmRight=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?281:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?650:651):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?16:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?175:175;mLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?325:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?712:712):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?59:218;
}else{setBtmLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?(wBubble==780?374:344):(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?6:(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?191:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?458:451;setBtmRight=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?283:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?535:619):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?16:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?178:175;mLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?325:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?712:712):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?59:218;
}}else{if(navigator.userAgent.indexOf("Chrome")>0){setBtmLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?(wBubble==780?374:344):(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?7:(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?191:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?472:451;setBtmRight=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?281:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?650:651):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?16:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?185:175;mLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?325:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?712:712):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?59:218;
}else{setBtmLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?(wBubble==780?374:344):(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?6:(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?191:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?472:451;setBtmRight=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?283:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?651:619):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?16:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)?185:175;mLeft=(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls")?325:(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not"))?((entityType=="cre_sys_obt_not")?712:712):(qtipObj.catalogVisibleId.indexOf("listvaledit")>0)?59:218;
}}tipPosition="bottomRight";topElements='<span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b"><table cellspacing="0" width="100%" cellpadding="0"><tbody><tr><td class="bubble-blt" style="width:'+setBtmLeft+'px"></td><td class="bubble-blm"></td><td class="bubble-blr" style="width:'+setBtmRight+'px"></td></tr></tbody></table></td><td class="bubble-br"></td></tr></tbody></table>';break;case"rightBottom":wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;tipPosition="rightBottom";topElements='<span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';
bottomElements='</td><td class="bubble-cr-empty"><table cellspacing="0" width="100%" height="260" cellpadding="0"><tbody><tr><td class="bubble-brt" style="height: 169px"></td></tr><tr><td class="bubble-brm"></td></tr><tr><td class="bubble-brb" style="height:30px"></td></tr></tbody></table></td></tr><tr><td class="bubble-bl"></td><td class="bubble-bm"></td><td class="bubble-br"></td></tr></tbody></table>';break;case"bottomLeft":wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;bwidth=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?wBubble:Math.round((wBubble/2)/5);if(crTheme!="expertusoneV2"){setBtmLeft=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"17":bwidth+2;setBtmRight=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"191":(bwidth*6)+12;setBtmMiddle=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"64":bwidth+2;if(navigator.userAgent.indexOf("Chrome")>0){setBtmRight=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"203":(bwidth*6)+12;}}else{setBtmLeft=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"14":bwidth+2;
setBtmRight=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"155":(bwidth*6)+12;setBtmMiddle=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"52":bwidth+2;if(navigator.userAgent.indexOf("Chrome")>0){setBtmRight=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"194":(bwidth*6)+12;}}mLeft=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?-63:-110;messageStyle=(qtipObj.catalogVisibleId.indexOf("listvalues")>0)?"margin-left: -120px;":"";tipPosition="bottomLeft";topElements='<span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b"><table cellspacing="0" width="100%" cellpadding="0"><tbody><tr><td class="bubble-blt" style="width:'+setBtmLeft+'px"></td><td class="bubble-blm" style="width:'+setBtmMiddle+'px"></td><td class="bubble-blr" style="width:'+setBtmRight+'px"></td></tr></tbody></table></td><td class="bubble-br"></td></tr></tbody></table>';
$("#"+popupId).parent().parent().parent().parent().removeClass("qtip-access-control");break;default:wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;setBtmLeft=(setwBubble-104)/2;tipPosition=(qtipObj.tipPosition)?qtipObj.tipPosition:"bottomMiddle";topElements='<span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b"><table cellspacing="0" width="100%" cellpadding="0"><tbody><tr><td class="bubble-blt" style="width:'+setBtmLeft+'px"></td><td class="bubble-blm"></td><td class="bubble-blr" style="width:'+setBtmLeft+'px"></td></tr></tbody></table></td><td class="bubble-br"></td></tr></tbody></table>';$("#"+popupId).parent().parent().parent().parent().removeClass("qtip-access-control");
}if(popupId=="qtip_addlistvalues_visible_disp_0_cre_usr_jtl"||popupId=="qtip_addlistvalues_visible_disp_0_cre_usr_dpt"||popupId=="qtip_addlistvalues_visible_disp_0_cre_usr_etp"||popupId=="qtip_addlistvalues_visible_disp_0_cre_usr_jrl"||popupId=="qtip_addlistvalues_visible_disp_0_cre_usr_ptp"){$(".page-administration-people-setup #add_lst_pg_next,.page-administration-people-setup #add_lst_pg_previous,.page-administration-people-setup #add_lst_pg_last,.page-administration-people-setup #add_lst_pg_first,.page-administration-people-setup #add_lst_pg_txtfld,.page-administration-people-setup #listvalues-autocomplete,.page-administration-people-setup #search_listvalues").attr("style","pointer-events: none");}try{$("#"+popupId).qtip("destroy");}catch(e){}$("#"+qtipObj.catalogVisibleId).closest(".qtip").remove();var qtipClass=(qtipObj.qtipClass)?qtipObj.qtipClass:"qtip-child";if(qtipSubClass!=null){var qtipSubClass=(qtipObj.qtipSubClass)?qtipObj.qtipSubClass:"";qtipClass=(qtipSubClass!=null)?qtipClass+" "+qtipSubClass:qtipClass;
}if(!document.getElementById(qtipObj.catalogVisibleId)){if((!document.getElementById("popup_container_"+popupId))){$("#"+popupId).qtip({overwrite:false,content:{text:"<div style='min-height:75px;' id='"+qtipObj.catalogVisibleId+"'><div id='"+qtipObj.catalogVisibleId+"_disp' style='margin-left:"+mLeft+"px;min-height:75px;'>&nbsp;</div></div>",title:{text:" ",button:'<div id="'+qtipObj.catalogVisibleId+'_close" class="admin-bubble-close" onclick="closeQtyp(\''+qtipObj.catalogVisibleId+"','"+courseId+"')\"> </div>"}},api:{beforeShow:function(){var qtupActive=$("#"+qtipObj.catalogVisibleId).closest(".qtip-active");$("#"+qtipObj.catalogVisibleId+"_close").css("visibility","hidden");$(qtupActive).find(".qtip-tip").css("visibility","hidden");},onShow:function(){var qtupActive=$("#"+qtipObj.catalogVisibleId).closest(".qtip-active");$("#"+qtipObj.catalogVisibleId+"_close").css("visibility","hidden");$(qtupActive).find(".qtip-tip").css("visibility","hidden");$(".qtip").each(function(){var tmp=this;
if($(tmp).find("#"+qtipObj.catalogVisibleId).each(function(){if($(tmp).attr("class").indexOf("qtip-active")<0){try{$("#"+popupId).qtip("destroy");$(this).remove();}catch(e){}}})){}});if(tipPos!="bottomCorner"){$("#"+catalogVisibleId).parent().parent().parent().parent().removeClass("qtip-access-control");}if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_addtemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachNotification_addtemplate")>0){var popTop=($("#"+popupId).offset());var xtop=($.browser.msie)?110:100;popTop=Math.round(popTop.top)-xtop;$("#"+qtipObj.catalogVisibleId).parents(".qtip-active").css("top",popTop+"px");}if(qtipObj.catalogVisibleId.indexOf("MoveUsersqtip")>0&&navigator.userAgent.indexOf("Chrome")>=0){var popTop=($("#"+popupId).offset());var xtop=150;popTop=Math.round(popTop.top)-xtop;$("#"+qtipObj.catalogVisibleId).parents(".qtip-active").css("top",popTop+"px");
}$("#"+qtipObj.catalogVisibleId).parents(".qtip-active").addClass(qtipClass);$("#"+qtipObj.catalogVisibleId).parents(".qtip-active").addClass("modal-qtips-close");$("#"+qtipObj.catalogVisibleId).parents(".qtip-active").siblings(".qtip-child").hide();if(qtipClass=="qtip-parent"||qtipClass=="qtip-parent add-key-word-edit-list"){$("#"+qtipObj.catalogVisibleId).parents(".qtip-active").siblings(".qtip-parent").hide();}if(1==1){EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.createLoader(qtipObj.catalogVisibleId+"_disp");var loadPos=0;if(tipPosition=="rightBottom"){$(qtupActive).find(".qtip").addClass("qtip-access-control");$(qtupActive).find(".qtip-tip").attr("style","height: 64px");$(qtupActive).find(".qtip-tip").css("background",'url("/sites/all/themes/core/expertusone/expertusone-internals/images/bubble_arrow_point_right.png") no-repeat -1px 3px');$(qtupActive).find(".qtip-tip").css("bottom","79px");$(qtupActive).find(".qtip-tip").css("left","638px");$(qtupActive).find(".qtip-tip").css("position","absolute");
$("#"+qtipObj.catalogVisibleId+"_close").css("top","");}if(tipPosition=="bottomRight"&&mLeft!=0){var leftPos=0;var rightPos="0px";var bottomPos="0px";var zIndex;var crTheme=Drupal.settings.ajaxPageState.theme;var bnrAccleftPos=(crTheme=="expertusoneV2")?672:663;this.currTheme=Drupal.settings.ajaxPageState.theme;if(qtipObj.tipPosition=="bottomCorner"){if(qtipObj.catalogVisibleId.indexOf("Accessqtip")>0&&entityType=="cre_sys_obt_cls"){loadPos=520;leftPos=308;rightPos="-12px";}else{if((qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)&&(entityType=="cre_sys_obt_anm"||entityType=="cre_sys_obt_not")){loadPos=715;leftPos=(crTheme=="expertusoneV2")?((entityType=="cre_sys_obt_not")?693:692):692;rightPos=(entityType=="cre_sys_obt_not")?"-31px":"-30px";}else{if((qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)&&entityType!="cre_sys_obt_crs"&&crTheme=="expertusoneV2"){loadPos=430;leftPos=205;rightPos="-6px";}else{loadPos=430;leftPos=201;rightPos="-12px";}}}}else{if(qtipObj.catalogVisibleId.indexOf("editclass")>0){loadPos=380;
leftPos=28;rightPos="-14px";}else{if(qtipObj.catalogVisibleId.indexOf("AttachCrsIdqtip")>0){loadPos=380;leftPos=40;rightPos="-27px";}else{if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0){loadPos=380;leftPos=30;rightPos="-18px";zIndex="100";bottomPos=(this.currTheme=="expertusoneV2")?"0px":"-64px";}else{if(qtipObj.catalogVisibleId.indexOf("AttachNotification_addtemplate")>0){loadPos=380;leftPos=44;rightPos="-31px";zIndex="100";bottomPos=(this.currTheme=="expertusoneV2")?"0px":"-64px";}else{if(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0){loadPos=380;leftPos=30;rightPos="-18px";zIndex="100";}else{if(qtipObj.catalogVisibleId.indexOf("AttachIdqtip_addusers")>0){loadPos=380;leftPos=65;zIndex="100";rightPos="-41px";}else{if(qtipObj.catalogVisibleId.indexOf("listvalues")>0){zIndex="100";}else{if(qtipObj.catalogVisibleId.indexOf("listvalpeoedit")>0){zIndex="100";}else{loadPos=380;leftPos=44;rightPos="-31px";}}}}}}}}}$(qtupActive).find(".qtip").addClass("qtip-access-control");
$(qtupActive).find(".qtip-tip").css("right",rightPos);$("#"+qtipObj.catalogVisibleId+"_close").css("left",leftPos);if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachNotification_addtemplate")>0){$(qtupActive).find(".qtip-tip").css("bottom",bottomPos);$(qtupActive).find(".qtip-tip").css("z-index",zIndex);var isAtLeastIE11=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))?true:false;if(this.currTheme=="expertusoneV2"&&$.browser.msie&&parseInt($.browser.version,10)=="10"||this.currTheme=="expertusoneV2"&&isAtLeastIE11==1){$(".qtip-button .admin-bubble-close").css({top:"-2px"});$(qtupActive).find(".qtip-tip").css("bottom","-8px");}if(navigator.userAgent.indexOf("Safari")!=-1){$(qtupActive).find(".qtip-tip").css("bottom","-8px");}}if(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_addtemplate")>0){$(qtupActive).find(".qtip-tip").css("z-index",zIndex);
if(this.currTheme=="expertusoneV2"&&$.browser.msie&&parseInt($.browser.version,10)=="10"){$(".qtip-button .admin-bubble-close").css({top:"-2px"});}if(navigator.userAgent.indexOf("Safari")!=-1){$(qtupActive).find(".qtip-tip").css("bottom","-8px");}}if(qtipObj.catalogVisibleId.indexOf("AttachIdqtip_addusers")>0){$(qtupActive).find(".qtip-tip").css("z-index",zIndex);}if(qtipObj.catalogVisibleId.indexOf("listvalues")>0){$(qtupActive).find(".qtip-tip").css("z-index",zIndex);if(this.currTheme=="expertusoneV2"){if($.browser.msie&&parseInt($.browser.version,10)=="10"){$(qtupActive).find(".qtip-tip").css("bottom","1px");$(".qtip-button .admin-bubble-close").css({left:"43px",top:"-4px"});}else{if($.browser.msie&&parseInt($.browser.version,10)=="9"){$(qtupActive).find(".qtip-tip").css("bottom","0");$(".qtip-button .admin-bubble-close").css({left:"43px",top:"-4px"});}else{if($.browser.msie&&parseInt($.browser.version,10)=="8"){$(qtupActive).find(".qtip-tip").css({bottom:"41px",right:"20px"});$(".qtip-button .admin-bubble-close").css({left:"43px",top:"-3px"});
}else{$(qtupActive).find(".qtip-tip").css("right","-31px");$(".qtip-button .admin-bubble-close").css({left:"44px"});}}}}else{if($.browser.msie&&parseInt($.browser.version,10)=="10"||$.browser.msie&&parseInt($.browser.version,10)=="9"){$(qtupActive).find(".qtip-tip").css({bottom:"0",right:"-31px"});$(".qtip-button .admin-bubble-close").css({left:"43px",top:"-4px"});}else{if($.browser.msie&&parseInt($.browser.version,10)=="8"){$(qtupActive).find(".qtip-tip").css({bottom:"40px",right:"19px"});$(".qtip-button .admin-bubble-close").css({left:"43px",top:"-3px"});}else{$(qtupActive).find(".qtip-tip").css("right","-31px");$(".qtip-button .admin-bubble-close").css({left:"44px"});}}}}}else{if(tipPosition=="bottomLeft"&&mLeft!=0){var leftPos=0;var rightPos="0px";if(qtipObj.catalogVisibleId.indexOf("MoveUsersqtip")>0){loadPos=380;leftPos=407;rightPos="-14px";if(this.currTheme!="expertusoneV2"&&$.browser.msie&&parseInt($.browser.version,10)=="9"){$(qtupActive).find(".qtip-tip").css("bottom","0");}if(this.currTheme!="expertusoneV2"&&$.browser.msie&&parseInt($.browser.version,10)=="8"){$(qtupActive).find(".qtip-tip").css("bottom","40px");
$(qtupActive).find(".qtip-tip").css("margin-bottom","38px");}if(this.currTheme="expertusoneV2"&&$.browser.msie&&parseInt($.browser.version,10)=="10"){$(qtupActive).find(".qtip-tip").css("bottom","0");}$(qtupActive).find(".qtip-tip").css("right",rightPos).css("left","13px");}else{if(qtipObj.catalogVisibleId.indexOf("listvalues")>0){leftPos="-80px";$(qtupActive).find(".qtip-tip").css("left","16px");if(navigator.userAgent.indexOf("Chrome")>0){$(qtupActive).find(".qtip-tip").css("left","13px");}if($.browser.msie&&parseInt($.browser.version,10)=="8"){$(qtupActive).find(".qtip-tip").css("margin-bottom","38px");}if($.browser.msie&&parseInt($.browser.version,10)=="9"||$.browser.msie&&parseInt($.browser.version,10)=="10"){$(qtupActive).find(".qtip-tip").css("bottom","0");}}}$(qtupActive).find(".qtip-tip").css("right",rightPos);$("#"+qtipObj.catalogVisibleId+"_close").css("left",leftPos);}}if(qtipObj.catalogVisibleId.indexOf("Access")>=0||qtipObj.catalogVisibleId.indexOf("addclass")>=0||qtipObj.catalogVisibleId.indexOf("editclass")>=0){$("#loaderdiv"+qtipObj.catalogVisibleId+"_disp").css("padding-left",loadPos);
}if(qtipObj.catalogVisibleId.indexOf("addclass")>=0){if($.browser.msie&&parseInt($.browser.version,10)=="9"||$.browser.msie&&parseInt($.browser.version,10)=="10"){$(qtupActive).find(".qtip-tip").css("bottom","0");$(".qtip-button .admin-bubble-close").css({left:"44px",top:"-1px"});}else{if($.browser.msie&&parseInt($.browser.version,10)=="8"){$(qtupActive).find(".qtip-tip").css("bottom","40px");$(qtupActive).find(".qtip-tip").css("right","19px");$(qtupActive).find(".qtip-tip").css("margin-bottom","38px");}}}if(qtipObj.catalogVisibleId.indexOf("editclass")>0){if($.browser.msie&&parseInt($.browser.version,10)=="8"){$(qtupActive).find(".qtip-tip").css("margin-bottom","76px");$(qtupActive).find(".qtip-tip").css("margin-right","50px");}if($.browser.msie&&parseInt($.browser.version,10)=="9"||$.browser.msie&&parseInt($.browser.version,10)=="10"){$(qtupActive).find(".qtip-tip").css("bottom","0");}}if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0){if($.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(qtupActive).find(".qtip-tip").css("right","26px");
}}if(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0){if($.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(qtupActive).find(".qtip-tip").css("right","26px");}if($.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme!="expertusoneV2"){$(qtupActive).find(".qtip-tip").css("right","32px");$(qtupActive).find(".qtip-tip").css("bottom","32px");}if($.browser.msie&&parseInt($.browser.version,10)=="10"&&this.currTheme!="expertusoneV2"){$(".qtip-button .admin-bubble-close").css("top","-3px");}}if(qtipObj.catalogVisibleId.indexOf("listvaledit")>0){$(qtupActive).find(".qtip-tip").css("right","-12px");$("#"+qtipObj.catalogVisibleId+"_close").css("left","40px");}var bubbleTop=$("#"+qtipObj.catalogVisibleId).closest(".qtip-active").css("top");bubbleTop=parseInt(bubbleTop.substring(0,bubbleTop.length-2));var bubblehb=$("#"+qtipObj.catalogVisibleId).css("height");bubblehb=parseInt(bubblehb.substring(0,bubblehb.length-2));if(document.getElementById("qtip_position")!=null){$("#qtip_position").val(qtipObj.catalogVisibleId+"#"+bubbleTop+"#"+bubblehb);
}$.ajax({type:"GET",url:url,data:"",success:function(data){var paintHtml=topElements+"<div id='paintContent"+popupId+"'><div id='show_expertus_message' style='"+messageStyle+"'></div>"+data.render_content_main+"</div>"+bottomElements;$.extend(true,Drupal.settings,data.drupal_settings);$("#"+qtipObj.catalogVisibleId+"_disp").html(paintHtml);EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader(qtipObj.catalogVisibleId+"_disp");var bubbleha=$("#"+qtipObj.catalogVisibleId).css("height");bubbleha=parseInt(bubbleha.substring(0,bubbleha.length-2));bubbleTop=bubbleTop-(bubbleha-bubblehb);$("#"+qtipObj.catalogVisibleId).closest(".qtip-active").css("top",bubbleTop);bubblehb=$("#"+qtipObj.catalogVisibleId).css("height");bubblehb=parseInt(bubblehb.substring(0,bubblehb.length-2));if(document.getElementById("qtip_position")!=null){$("#qtip_position").val(qtipObj.catalogVisibleId+"#"+bubbleTop+"#"+bubblehb);}$("#"+qtipObj.catalogVisibleId+"_close").css("visibility","visible");$(qtupActive).find(".qtip-tip").css("visibility","visible");
this.currTheme=Drupal.settings.ajaxPageState.theme;if($.browser.msie){if($.browser.version==9){if(qtipObj.catalogVisibleId.indexOf("qtipAttachIdqtip")<0&&qtipObj.catalogVisibleId.indexOf("renderTagsId")<0&&qtipObj.catalogVisibleId.indexOf("renderPrintCerId")<0&&qtipObj.catalogVisibleId.indexOf("qtipBusinessqtip")<0){$("#"+qtipObj.catalogVisibleId+"_close").css("top","0px");}$(qtupActive).find(".qtip-tip").addClass("qtip-tip-ie9");}if($.browser.version==10){if(qtipObj.catalogVisibleId.indexOf("addclass")>=0||qtipObj.catalogVisibleId.indexOf("editclass")>=0){$("#"+qtipObj.catalogVisibleId+"_close").css("top","-2px");}}if($.browser.version==8&&(qtipObj.catalogVisibleId.indexOf("qtip_addusers_visible_disp")>0||((qtipObj.catalogVisibleId.indexOf("Accessqtip")>0)&&crTheme=="expertusoneV2"))){$("#"+qtipObj.catalogVisibleId+"_close").css("top","0px");}if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachNotification_addtemplate")>0){if($.browser.version==8){bottomPos=(this.currTheme=="expertusoneV2")?-5:-31;
rightPos="25px";$(qtupActive).find(".qtip-tip").css("bottom",bottomPos+"px");$(qtupActive).find(".qtip-tip").css("right",rightPos);}else{if($.browser.version==9||$.browser.version==10){bottomPos=(this.currTheme=="expertusoneV2")?-8:-68;$(qtupActive).find(".qtip-tip").css("bottom",bottomPos+"px");}else{if($.browser.version==10&&this.currTheme!="expertusoneV2"){bottomPos=-68;$(qtupActive).find(".qtip-tip").css("bottom",bottomPos+"px");$(".qtip-button .admin-bubble-close").css("top","-3px");}}}}if(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_addtemplate")>0){var bot=($.browser.version==8)?-5:-8;$(qtupActive).find(".qtip-tip").css("bottom",bot+"px");if($.browser.version==8){$(".qtip-tip").css("margin-right","6px");$(".qtip-tip").css("margin-bottom","37px");}}}if(navigator.userAgent.indexOf("Chrome")>0){if(qtipObj.catalogVisibleId.indexOf("renderTagsId")>=0||qtipObj.catalogVisibleId.indexOf("AttachIdqtip_visible")>0||qtipObj.catalogVisibleId.indexOf("Businessqtip_visible")>0||qtipObj.catalogVisibleId.indexOf("renderPrintCerId")>=0){$("#"+qtipObj.catalogVisibleId+"_close").css("top","-10px");
}if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachNotification_addtemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_addtemplate")>0){bottomPos=(this.currTheme=="expertusoneV2")?"-8px":"-68px";$(qtupActive).find(".qtip-tip").css("bottom",bottomPos);}if(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0){$(qtupActive).find(".qtip-tip").css("bottom","-8px");}}if(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachNotification_addtemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_addtemplate")>0){$(".bubble-blr").attr("style","width: 124px");}if(qtipObj.catalogVisibleId.indexOf("BannerAccessqtip")>0&&(Drupal.settings.ajaxPageState.theme=="expertusoneV2")){$("#"+qtipObj.catalogVisibleId+"_close").css("left","669px");$(qtupActive).find(".qtip-tip").css("right","-17px");if(navigator.userAgent.indexOf("Chrome")>0||($.browser.msie&&$.browser.version==9)){$(".bubble-blt").attr("style","width: 19px");
$(".bubble-blr").attr("style","width: 627px");}}if(qtipObj.catalogVisibleId.indexOf("MoveUsersqtip")>0&&$.browser.msie&&$.browser.version!=7){$("#"+qtipObj.catalogVisibleId+"_close").css("top","0px");if($.browser.version==8){$(".bubble-blt").css("width","58px");}else{if($.browser.version==10||$.browser.version==9){$(".bubble-blt").css("width","58px");$(".bubble-blm").css("width","58px");$(".bubble-blr").css("width","350px");}else{$(".bubble-blt").css("width","48px");$(".bubble-blr").css("width","290px");}}}if(qtipObj.catalogVisibleId.indexOf("MoveUsersqtip")>0){if(navigator.userAgent.indexOf("Chrome")>0||navigator.userAgent.indexOf("Safari")!=-1){$(".bubble-blt").css("width","61px");$(".bubble-blr").css("width","375px");}}if(qtipObj.catalogVisibleId.indexOf("AttachIdqtip_listvalues")>0){if(navigator.userAgent.indexOf("Chrome")>0){$(".bubble-blt").attr("style","width: 14px");$(".bubble-blr").attr("style","width: 194px");}else{if(navigator.userAgent.indexOf("Safari")!=-1){$(".bubble-blt").attr("style","width: 17px");
$(".bubble-blr").attr("style","width: 191px");}}}if(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate")>0||qtipObj.catalogVisibleId.indexOf("AttachCertification_addtemplate")>0){if(navigator.userAgent.indexOf("Chrome")>0){$(".bubble-blt").attr("style","width: 131px");}else{$(".bubble-blt").attr("style","width: 164px");$(".bubble-blr").attr("style","width: 362px");}var isAtLeastIE11=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))?true:false;if(this.currTheme=="expertusoneV2"&&isAtLeastIE11==1){$(".qtip-button .admin-bubble-close").css({top:"-2px"});$(qtupActive).find(".qtip-tip").css("bottom","-8px");}}if(qtipObj.catalogVisibleId.indexOf("MoveUsersqtip_visible")>0&&navigator.userAgent.indexOf("Chrome")>0){$(".bubble-blt").attr("style","width: 61px");$(".bubble-blr").attr("style","width: 375px");}if(tipPosition=="bottomRight"&&mLeft!=0){if(qtipObj.catalogVisibleId.indexOf("listvalpeoedit")>0){leftPos="44px";topPos="-2px";$(qtupActive).find(".qtip-tip").css({"z-index":zIndex,right:"-31px"});
$("#"+qtipObj.catalogVisibleId+"_close").css({left:leftPos,top:topPos});$(".bubble-blt").css("width","184px");$(".bubble-blr").css("width","0");$(".bubble-blm").css("width","58px");if(navigator.userAgent.indexOf("Chrome")>0){$(".bubble-blt").css("width","206px");}else{if($.browser.version==10||$.browser.version==9){$(qtupActive).find(".qtip-tip").css("bottom","0");$(".bubble-blt").css("width","185px");}}}}if(qtipObj.catalogVisibleId.indexOf("addclass")>=0||qtipObj.catalogVisibleId.indexOf("editclass")>=0||(qtipObj.catalogVisibleId.indexOf("AttachNotification_edittemplate"))||(qtipObj.catalogVisibleId.indexOf("AttachCertification_edittemplate"))){var tipTop=$("#"+qtipObj.catalogVisibleId).offset().top;var dScrollTop=$("#modal-content").scrollTop();if(tipTop<=0){var toScroll=dScrollTop-Math.abs(tipTop);$("#modal-content").scrollTop(toScroll);bubbleTop=bubbleTop-tipTop;bubbleha=$("#"+qtipObj.catalogVisibleId).css("height");bubbleha=parseInt(bubbleha.substring(0,bubbleha.length-2));bubbleTop=bubbleTop-(bubbleha-bubblehb);
$("#"+qtipObj.catalogVisibleId).closest(".qtip-active").css("top",bubbleTop);}}Drupal.attachBehaviors();bubbleha=$("#"+qtipObj.catalogVisibleId).css("height");bubbleha=parseInt(bubbleha.substring(0,bubbleha.length-2));bubbleTop=bubbleTop-(bubbleha-bubblehb);$("#"+qtipObj.catalogVisibleId).closest(".qtip-active").css("top",bubbleTop);vtip();if(data.status_message!=""&&data.cloned!=0){$("#bubble-face-table #show_expertus_message").html(data.status_message);}}});$(".qtip-contentWrapper,.qtip-title").each(function(){$(this).removeAttr("style");$(".qtip-wrapper,.qtip-content").css("overflow","visible");if($.browser.version==8){$(".qtip-content").css("padding-bottom","43px");if(qtipObj.catalogVisibleId.indexOf("AttachIdqtip_listvalues")>0){$(".qtip-tip").css("margin-bottom","76px");}}$(".qtip").css("padding-bottom","24px");$(qtupActive).find(".qtip-tip").css("margin-left","-33px");});}}},show:{when:{event:"click",target:$("#"+popupId)},ready:true},hide:{when:{event:"",target:""}},position:{corner:{target:"topMiddle",tooltip:tipPosition}},style:{width:wBubble,height:hBubble,background:"none",color:"#333333",tip:{corner:tipPosition}}});
}}}catch(sp){}},getQtipDiv:function(qtipObj,isVCSession,event){var xCoordinate="";var yCoordinate="";var popupId=qtipObj.popupDispId;var qtipLen=this.qtipLenth;var inArrQtip=$.inArray(popupId,this.qtipLoadSet);this.qtipLoadSet[qtipLen]=popupId;this.qtipLenth=this.qtipLenth+1;var entityType=qtipObj.entityType;var entityId=qtipObj.entityId;var courseId=qtipObj.courseId!=undefined?qtipObj.courseId:"";var url=resource.base_host+"?q="+qtipObj.url;var wBubble=qtipObj.wBubble;var hBubble=qtipObj.hBubble;var setwBubble=wBubble-20;var setBtmLeft=(setwBubble-104)/2;var qtipLeftPos=(wBubble>700)?400:(setBtmLeft+20);var tipPos=qtipObj.tipPosition;var catalogVisibleId=qtipObj.catalogVisibleId;var mLeft=0;var tipPosition;var qtipTopBottomDisplay;var topElements,bottomElements;var assignHtml=qtipObj.assignHtml;var mtobj=this;var rowVal=qtipObj.rowVal;var qtip_tbl_clsName=qtipObj.qtip_tbl_clsName!=undefined?qtipObj.qtip_tbl_clsName:"";var loaderId=(qtipObj.sessionPopupId==null||qtipObj.sessionPopupId=="")?popupId:qtipObj.sessionPopupId;
$("body").live("click",function(e){xCoordinate=e.pageX;yCoordinate=e.pageY;});EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.createLoader(loaderId);if(isVCSession>=0){var i=isVCSession;var timeZone=$("#time_zone_"+i).val();var session_meetingid=$("#session_meetingid_"+i).val();var session_attendeepass=$("#session_attendeepass_"+i).val();var session_presenterpass=$("#session_presenterpass_"+i).val();var session_attendeeurl=$("#session_attendeeurl_"+i).val();var session_presenterurl=$("#session_presenterurl_"+i).val();var hid_session_details_id=$("#hid_session_details_id_"+i).val();var formDetail='{"timezone":"'+timeZone+'","session_meetingid":"'+session_meetingid+'","session_attendeepass":"'+session_attendeepass+'","session_presenterpass":"'+session_presenterpass+'","session_attendeeurl":"'+escape(encodeURIComponent(session_attendeeurl))+'","session_presenterurl":"'+escape(encodeURIComponent(session_presenterurl))+'","instructor_id":"'+hid_session_details_id+'"}';url=url+"/"+formDetail;}if(catalogVisibleId.indexOf("addpermissions")>=0){$("#loaderdiv"+popupId).css("top","-80px");
}if(popupId.indexOf("qtip_visible_disp_addsession_iprange")>=0){$("#loaderdiv"+popupId).css("left","180px").css("top","-60px");}if(popupId.indexOf("exp_meeting_qtip_visible_disp_addpresenter_0_presenter")>=0){$("#loaderdiv"+popupId).css("left","250px").css("top","-78px");}$.ajax({type:"GET",url:url,data:"",success:function(data){if(qtipObj.qtipClass!="admin-qtip-access-parent lrn_cls_vct_web"&&qtipObj.qtipClass!="admin-qtip-presenter-access-parent"){$(".active-qtip-div").remove();}var span_width1=$(".admin-addanother-session-details-info").width();var span_width2=$(".chosen-meeting-type").width();var paintHtml=topElements+"<div id='paintContent"+popupId+"'><div id='show_expertus_message'></div>"+data.render_content_main+"</div>"+bottomElements;var contentDiv=qtipObj.catalogVisibleId+"_disp";if(qtipObj.qtipClass=="admin-qtip-access-parent lrn_cls_vct_exp"||qtipObj.qtipClass=="admin-qtip-access-parent lrn_cls_vct_web"||qtipObj.qtipClass=="admin-qtip-access-parent lrn_cls_vct_oth"||qtipObj.qtipClass=="admin-qtip-presenter-access-parent"){var repstr=qtipObj.qtipClass;
var replacedstr=repstr.replace(" ","-");$("#"+popupId).append("<div id="+replacedstr+" class='bottom-qtip-tip active-qtip-div set-wbubble-left' ></div>");}else{$("#"+popupId).append("<div class='bottom-qtip-tip active-qtip-div set-wbubble-left'></div>");}if(qtipObj.qtipClass=="display-message-positioning"||qtipObj.qtipClass=="pwdstrength-admin-popup"||qtipObj.qtipClass=="admin-qtip-presenter-access-parent"||qtipObj.qtipClass=="admin-qtip-access-parent lrn_cls_vct_exp"||qtipObj.qtipClass=="admin-qtip-access-parent lrn_cls_vct_web"||qtipObj.qtipClass=="admin-qtip-access-parent lrn_cls_vct_oth"){$("#"+popupId).append("<div id='"+contentDiv+"' class='active-qtip-div "+qtipObj.qtipClass+"'></div>");}else{$("#"+popupId).append("<div id='"+contentDiv+"' class='active-qtip-div'></div>");}$("#"+contentDiv).html(paintHtml);if(catalogVisibleId.indexOf("addroletousers")>=0){$("#paintContent"+popupId).css("min-height","225px");}$(".bottom-qtip-tip").css("bottom","0px").css("position","absolute").css("z-index","101");
if(qtipObj.qtipClass=="add-key-word-popup"){$("#"+contentDiv).css("position","absolute").css("left","-"+parseInt(qtipLeftPos-98)+"px").css("bottom","40px").css("z-index","100");}else{if(qtipObj.qtipClass=="pwdstrength-admin-popup"){$("#"+contentDiv).css("position","absolute").css("left","-"+parseInt(qtipLeftPos-48)+"px").css("bottom","40px").css("z-index","100");}else{if(catalogVisibleId.indexOf("1_qtip_visible_disp_addsession_iprange")==0){$("#"+contentDiv).css("position","absolute").css("left",parseInt(qtipLeftPos)-133+"px").css("bottom","48px").css("z-index","100");}else{if(catalogVisibleId.indexOf("2_qtip_visible_disp_addsession_iprange")==0){$("#"+contentDiv).css("position","absolute").css("left","-6px").css("bottom","30px").css("z-index","100");}else{if(catalogVisibleId.indexOf("qtip_visible_disp_iprange_1_iprange_disp")==0){$("#"+contentDiv).css("position","absolute").css("left",parseInt(qtipLeftPos-75)+"px").css("bottom","40px").css("z-index","100");}else{if(catalogVisibleId.indexOf("EditSessionIdqtip")<0){$("#"+contentDiv).css("position","absolute").css("left","-"+qtipLeftPos+"px").css("bottom","40px").css("z-index","100");
}}}}}}var p=$("#"+popupId);var position=p.position();var divHeight=$("#"+contentDiv).height();var parentTopPos=position.top+130;if($("#"+popupId+" .tab-title").width()>0){var labelWidth=($("#"+popupId+" .tab-title").width())/2;var bubbleWidth=32;var setbubblePosition=labelWidth-bubbleWidth;$(".set-wbubble-left").css("left",setbubblePosition+"px");}if(catalogVisibleId.indexOf("MoreEditSession")>0||catalogVisibleId.indexOf("EditSessionIdqtip")>0){$(".session-add-list").hide();}var dispop=$(".add_session_popup").css("display");var SRecrowCount=$("#admin-data-grid").find(".admin-datagrid-session-with-addanother .ui-jqgrid-bdiv tr").length;var sessionScrId=$("#admin-data-grid").parent("div").attr("class");if(parentTopPos<divHeight&&position.top!=0||catalogVisibleId.indexOf("AddMoreSessionIdqtip")>0){if(sessionScrId=="catalog-class-session-basic-addedit-form-container"&&SRecrowCount>5){qtipTopBottomDisplay="tipfaceUp";if(catalogVisibleId.indexOf("EditSessionIdqtip")<0){}$("#"+contentDiv).css("position","absolute").css("left","-"+qtipLeftPos+"px").css("top","42px").css("bottom","0px").css("z-index","100");
}else{if($.browser.msie&&$.browser.version==7){qtipTopBottomDisplay="tipfaceUp";$(".narrow-search-multi-action-container div").css("position"," ");$(".active-qtip-div").remove();$("body").append("<div class='bottom-qtip-tip-up active-qtip-div set-wbubble-left'></div>");$("body").append("<div id='"+contentDiv+"' class='active-qtip-div'></div>");$("#"+contentDiv).prev().css("top",+yCoordinate+"px").css("position","absolute").css("left",+(xCoordinate-30)+"px").css("z-index","101");$(".bottom-qtip-tip").remove();if(catalogVisibleId.indexOf("EditSessionIdqtip")<0){$("#"+contentDiv).css("top",+(yCoordinate+29)+"px").css("position","absolute").css("left",+(xCoordinate-setBtmLeft)+"px").css("z-index","100");}}else{qtipTopBottomDisplay="tipfaceUp";$("#"+popupId).append("<div class='bottom-qtip-tip-up active-qtip-div set-wbubble-left'></div>");if(dispop=="block"){$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("position","absolute");$("#"+popupId).last("div").prev(".bottom-qtip-tip-up").remove();
}else{$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("position","absolute").css("left","-10px");}$(".bottom-qtip-tip").remove();if(catalogVisibleId.indexOf("EditSessionIdqtip")<0){}$("#"+contentDiv).css("position","absolute").css("left","-"+qtipLeftPos+"px").css("top","42px").css("bottom","0px").css("z-index","100");}}}if(qtipObj.tipPosition=="tipTopLeft"){qtipTopBottomDisplay="tipfaceUp";if(sessionScrId=="catalog-class-session-basic-addedit-form-container"&&SRecrowCount>5){$(".bottom-qtip-tip").remove();$("#"+popupId).append("<div class='bottom-qtip-tip active-qtip-div set-wbubble-left'></div>");$("#"+popupId+" .bottom-qtip-tip").css("bottom","2px").css("left","55").css("z-index","101").css("position","absolute");$("#"+popupId+" .active-qtip-div").css("left","55px");$("#"+contentDiv).css("position","absolute").css("left","-19px").css("top","").css("bottom","40px").css("z-index","100");}else{$("#"+popupId).append("<div class='bottom-qtip-tip-up active-qtip-div set-wbubble-left'></div>");
if(qtipObj.qtipClass=="admin-qtip-access-parent another-lrn_cls_vct_web"||qtipObj.qtipClass=="admin-qtip-access-parent another-lrn_cls_vct_oth"||qtipObj.qtipClass=="admin-qtip-access-parent another-lrn_cls_vct_exp"){var repstr=qtipObj.qtipClass;var replacedstr=repstr.split(" ");$("#"+popupId+" .active-qtip-div").addClass(replacedstr[1]);if((navigator.userAgent.toLowerCase().indexOf("chrome")>-1)||($.browser.msie&&$.browser.version<8)){$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("position","absolute").css("left",parseInt((span_width1+span_width2)-13)+"px");}else{$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("position","absolute").css("left",parseInt((span_width1+span_width2)-9)+"px");}}else{$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("position","absolute");}$(".bottom-qtip-tip").remove();$("#"+contentDiv).css("position","absolute").css("left","-"+19+"px").css("top","42px").css("bottom","0px").css("z-index","100");}}else{if(qtipObj.tipPosition=="tipTopRight"){$("#"+popupId+" .bottom-qtip-tip-up").css("left","-20px");
if(catalogVisibleId.indexOf("EditSessionIdqtip")>0){if(catalogVisibleId.indexOf("qtip_EditSessionIdqtipvisible_disp_iprange")==0){$("#"+contentDiv).css("position","absolute").css("left","").css("right","-"+34+"px").css("top","").css("bottom","-"+12+"px").css("z-index","100");$("#"+popupId+" .bottom-qtip-tip").css("bottom","").css("left","-26px").css("z-index","101").css("position","absolute");}else{if(rowVal>4){$("#"+popupId+" .bottom-qtip-tip").css("bottom","2px").css("left","-26px").css("z-index","101").css("position","absolute");$("#"+contentDiv).css("position","absolute").css("left","").css("right","-"+34+"px").css("top","").css("bottom","40px").css("z-index","100");}else{$(".bottom-qtip-tip").remove();$("#"+popupId).append("<div class='bottom-qtip-tip-up active-qtip-div set-wbubble-left'></div>");$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("left","-26px").css("position","absolute");$("#"+contentDiv).css("position","absolute").css("left","").css("right","-"+34+"px").css("top","42px").css("bottom","0px").css("z-index","100");
}}}else{$("#"+contentDiv).css("position","absolute").css("left","-"+375+"px").css("top","42px").css("bottom","0px").css("z-index","100");}}else{if(qtipObj.tipPosition=="tipfaceMiddleRight"&&catalogVisibleId.indexOf("AddNewSessionIdqtip")>0){var getSessTop=$("#"+catalogVisibleId+"_disp").offset();if(parseInt(getSessTop.top)<"30"){qtipTopBottomDisplay="tipfaceUp";$(".bottom-qtip-tip").remove();$("#"+popupId).append("<div class='bottom-qtip-tip-up active-qtip-div set-wbubble-left'></div>");$("#"+popupId+" .bottom-qtip-tip-up").css("top","13px").css("left","300px").css("position","absolute");$("#"+contentDiv).css("position","absolute").css("left","0").css("right","").css("top","42px").css("bottom","0px").css("z-index","100");}else{qtipTopBottomDisplay="tipfaceUp";$("#"+popupId+" .active-qtip-div").css("bottom","32px");if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$("#"+popupId+" .active-qtip-div").css("left","319px");$("#"+contentDiv).css("position","absolute").css("left","0").css("bottom","70px").css("z-index","auto");
}else{$("#"+popupId+" .active-qtip-div").css("left","210px");$("#"+contentDiv).css("position","absolute").css("left","0").css("bottom","70px").css("z-index","unset");}}}}}switch(qtipTopBottomDisplay){case"tipfaceUp":wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;setBtmLeft=(setwBubble-104)/2;mLeft=(qtipObj.catalogVisibleId.indexOf("editclass")>0)?45:(qtipObj.catalogVisibleId.indexOf("AttachCrsIdqtip")>0)?58:82;tipPosition=(qtipObj.tipPosition)?qtipObj.tipPosition:"bottomMiddle";topElements="<a class=\"qtip-close-button\" onclick=\"$('#root-admin').data('narrowsearch').removeActiveQtip('"+catalogVisibleId+'\');"></a><span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table" class="'+qtip_tbl_clsName+'"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-blt"></td><td class="bubble-br"></td></tr></tbody></table></span>';
$("#"+popupId).parent().parent().parent().parent().removeClass("qtip-access-control");break;default:wBubble=qtipObj.wBubble;hBubble=qtipObj.hBubble;setwBubble=wBubble-20;setBtmLeft=(setwBubble-104)/2;tipPosition=(qtipObj.tipPosition)?qtipObj.tipPosition:"bottomMiddle";topElements="<a class=\"qtip-close-button\" onclick=\"$('#root-admin').data('narrowsearch').removeActiveQtip('"+catalogVisibleId+'\');"></a><span id="popup_container_'+popupId+'"><table cellspacing="0" cellpadding="0" width="'+setwBubble+'px" height="'+hBubble+'px" id="bubble-face-table" class="'+qtip_tbl_clsName+'"><tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';bottomElements='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-blt"></td><td class="bubble-br"></td></tr></tbody></table></span>';$("#"+popupId).parent().parent().parent().parent().removeClass("qtip-access-control");
}var paintHtml=topElements+"<div id='paintContent"+popupId+"'><div id='show_expertus_message'></div>"+data.render_content_main+"</div>"+bottomElements;var contentDiv=qtipObj.catalogVisibleId+"_disp";if(data.drupal_settings){$.extend(true,Drupal.settings,data.drupal_settings);}EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader(loaderId);$("#"+contentDiv).html(paintHtml);if(assignHtml=="meeting-container"){mtobj.getMeetingType();}Drupal.attachBehaviors();if(catalogVisibleId.indexOf("addpermissions")>=0||catalogVisibleId.indexOf("addlistpermissions")>=0){$("#admin-add-scroll").jScrollPane({});}else{if(catalogVisibleId.indexOf("qtipAttachIdqtip_visible_disp")>=0){var heigt=$("#scrolldiv").height();if(heigt>80){$("#catalog-attachment-disp-container #scrolldiv").css("height","100px");$("#catalog-attachment-disp-container #scrolldiv").jScrollPane({});}}}if(catalogVisibleId.indexOf("qtipAddSessionIdqtip_visible_disp")>=0){$(".bottom-qtip-tip").css("bottom","2px").css("left","0").css("position","absolute").css("z-index","101");
}else{if(catalogVisibleId.indexOf("1_qtip_visible_disp_addsession_iprange")==0){$(".bottom-qtip-tip").css("bottom","20px").css("left","195px").css("position","absolute").css("z-index","101");}else{if(catalogVisibleId.indexOf("2_qtip_visible_disp_addsession_iprange")==0){$(".bottom-qtip-tip").css("bottom","2px").css("left","0").css("position","absolute").css("z-index","101");}}}}});vtip();},visiblePopup:function(qtipObj){try{var url=resource.base_host+"?q="+qtipObj.url;var popupId=qtipObj.popupDispId;var entId=qtipObj.entityId;var qtipScrollId=qtipObj.scrollid;$.ajax({type:"GET",url:url,data:"",success:function(data){$("#"+popupId+" #visible-popup-"+entId+" #bubble-face-table .bubble-c #paintContent"+popupId).html(data.render_content_main);$.extend(true,Drupal.settings,data.drupal_settings);EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("paintContent"+popupId);if(qtipScrollId!=""&&qtipScrollId!=undefined&&qtipScrollId!=null){var qtipScrollType=(qtipObj.scrolltype=="class")?".":"#";
$("#"+popupId+" "+qtipScrollType+qtipScrollId).jScrollPane("destroy");$("#"+popupId+" "+qtipScrollType+qtipScrollId).jScrollPane({});}Drupal.attachBehaviors();vtip();if("[qtipObj.linkid^=visible-sharelink]"){if(navigator.appVersion.indexOf("Safari")!=-1&&($(window).height()<742)){$("#program-tp-basic-addedit-form-container .survey-attach-grid-wrapper .ui-jqgrid .jqgrow #bubble-face-table td.bubble-c").css("height","33px");}if(Drupal.settings.user.language!==undefined&&$.inArray(Drupal.settings.user.language,["pt-pt","de","fr"])!=-1){$("#catalog-class-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-30px");if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-4px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-15px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="ru"){$("#catalog-class-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-33px");
if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-4px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-15px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="ja"){$("#catalog-class-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-30px");if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-4px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-15px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="ko"){$("#catalog-class-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-26px");
if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-3px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-14px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="zh-hans"){$("#catalog-class-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-54px");if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-32px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-42px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="it"){if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-3px");
}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-14px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="es"){if(navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-4px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-14px");}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="en-us"){if((navigator.userAgent.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("10")!=-1)||(navigator.appVersion.indexOf("Trident/7.0")!=-1)){$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-3px");}else{$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-14px");
}}else{$("#catalog-class-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-28px");$("#program-tp-basic-addedit-form-container #survey-sharelink-button #edit-sharelink-button").css("margin-right","-14px");}}}}}}}}}}});}catch(e){alert(e);}},timepickerLoad:function(){try{$("input.exp-timepicker").click(function(){var attributeId=$(this).attr("id");var expDropDownId="exp-dropdown-"+attributeId;var c=$(this).attr("class");var x=c.indexOf("callback")>=0?c.substring(c.indexOf("callback")):"";var y=x.substring(x.indexOf("-")+1,(x.indexOf(" ")>0?x.indexOf(" "):x.length));var hours,minutes;$(".exp-timepicker-selection").css("display","none");if($(this).val()==Drupal.t("hh:mm")){$(this).val("");}if($("#"+expDropDownId).length>0){if($("#"+expDropDownId).is(":visible")==true){$("#"+expDropDownId).css("display","none");}else{$("#"+expDropDownId).css("display","block");}}else{$(this).after('<div id="'+expDropDownId+'" data="'+attributeId+'" class="exp-timepicker-selection"><ul></ul></div>');
for(var i=0;i<=1425;i+=15){hours=Math.floor(i/60);minutes=i%60;if(hours<10){hours="0"+hours;}if(minutes<10){minutes="0"+minutes;}$("#"+expDropDownId+" ul").append("<li>"+hours+":"+minutes+"</li>");}$("div.exp-timepicker-selection li").click(function(){var attributeId=$(this).closest(".exp-timepicker-selection").attr("data");var selectedTime=$(this).html();$("#"+attributeId).val(selectedTime);$(this).closest(".exp-timepicker-selection").css("display","none");if(y!=null&&y!=undefined&&y!="undefined"&&$.trim(y)!=""){eval(y+"("+attributeId+")");}});}});$("body,#admin-data-grid td").bind("click",function(event){if($(event.target).hasClass("exp-timepicker")!=true){$(".exp-timepicker-selection").css("display","none");}if($("#exp-dropdown-start_hours").is(":visible")){var Index=$("#exp-dropdown-start_hours").parents(".active-qtip-div").siblings(".bottom-qtip-tip").zIndex();$("#exp-dropdown-start_hours").parents(".active-qtip-div").siblings(".bottom-qtip-tip").zIndex(100);}else{var Index=$("#exp-dropdown-start_hours").parents(".active-qtip-div").siblings(".bottom-qtip-tip").zIndex();
$("#exp-dropdown-start_hours").parents(".active-qtip-div").siblings(".bottom-qtip-tip").zIndex(101);}});}catch(e){alert(e);}},reverseSessionType:function(){if($(".session-list-ul li").length==1){$(".session-list-ul li").addClass("single_meeting");}$(".session_type_list").click(function(){var liId=$(this).attr("id");$(".session-list-ul li:eq(0)").removeClass("admin-save-button-middle-bg");$(".session-list-ul li:eq(0)").text($(".session-list-ul li:eq(0)").text().replace(Drupal.t("LBL287"),""));$(".session-list-ul span.session-list").append($(".session-list-ul li:eq(0)"));$("#"+liId).text(Drupal.t("LBL287")+" "+$("#"+liId).text());$("#"+liId).addClass("admin-save-button-middle-bg");$(".session-list-ul span.admin-save-button-left-bg").after($(this));$(".session-list-ul span.session-list").hide();if(document.getElementById("lrn_cls_vct_oth")&&liId!="lrn_cls_vct_oth"){$(".session-list-ul span.session-list").append($("#lrn_cls_vct_oth"));}if(liId=="lrn_cls_vct_web"){$(".admin-empty-text-msg").text(Drupal.t("MSG756"));
$(".expertus-meeting-button-container div.add_session_button_div div.dropdownadd-dd-list-arrow").css("left","95px");}else{if(liId=="lrn_cls_vct_oth"){$(".admin-empty-text-msg").text(Drupal.t("MSG757"));$(".expertus-meeting-button-container div.add_session_button_div div.dropdownadd-dd-list-arrow").css("left","95px");}else{$(".admin-empty-text-msg").text(Drupal.t("MSG800"));$(".expertus-meeting-button-container div.add_session_button_div div.dropdownadd-dd-list-arrow").css("left","130px");}}vtip();});},removeActiveQtip:function(id){var cancelPolicyQtip=$(".active-qtip-div").parents(".cancel-policy-popup-wrapper");if(cancelPolicyQtip){if(id=="qtip_visible_disp_addpresenter_0_presenter"){$("#exp_meeting_qtip_visible_disp_addpresenter_0_presenter").empty();}else{$(".active-qtip-div").remove();}if(cancelPolicyQtip.hasClass("add-another-cancel-policy-popup")){var defaultLabel=$("#add-another-cancel-policy-label").data("default-label");$("#add-another-cancel-policy-label").text(defaultLabel);}return;
}$(".active-qtip-div").remove();$(".narrow-search-multi-action-container div").css("position","relative");if(id!=null){if(id.indexOf("AddMoreSessionId")>=0){$("#meeting-title").html("");}else{if(id.indexOf("addroletousers")>=0){$("#narrow-search-results-holder").trigger("reloadGrid",[{page:1}]);}}}},getInlineEdit:function(inlineData){if(inlineData){this.actualInlineData=inlineData;var inlineEditData=eval(inlineData);this.inlineEditData=inlineEditData;var html="";var callBlur='$("#root-admin").data("narrowsearch")';var widthAnchor=$("#tag-name-div-"+this.inlineEditData.tagEntityId+" a").width();var heightAnchor=$("#tag-name-div-"+this.inlineEditData.tagEntityId+" a").height();html+='<input type ="text" maxlength="150" class="tag-edit-txtbox" id="tag-list-name-id-'+this.inlineEditData.tagEntityId+'" style = "width:'+widthAnchor+"px;height:"+heightAnchor+"px;\" value =\"\" onblur=\"$('#root-admin').data('narrowsearch').updateTagList(this);\" onkeydown=\"$('#root-admin').data('narrowsearch').updateTagsOnKeyDown(event,this);\" />";
$("#tag-name-div-"+this.inlineEditData.tagEntityId).html(html);$("#tag-list-name-id-"+this.inlineEditData.tagEntityId).focus();$("#tag-list-name-id-"+this.inlineEditData.tagEntityId).val(decodeURIComponent(this.inlineEditData.tagName));}},updateTagsOnKeyDown:function(evt,updateTag){evt=evt||window.event;var charCode=evt.keyCode||evt.which;if(charCode==13){updateTag.blur();evt.preventDefault();evt.stopPropagation();return false;}},updateTagList:function(updatedTag){var obj=this;this.actualInlineData=this.actualInlineData.replace(/"/g,"&quot;");var inlineData=this.inlineEditData;var updatedTagName=$(updatedTag).attr("value");var exist_tag_name=decodeURIComponent(inlineData.tagName);if(updatedTagName!=""&&$.trim(updatedTagName)!=""&&updatedTagName!=exist_tag_name){newupdatedTagName=updatedTagName.replace(/\//g,Drupal.settings.custom.EXP_AC_SEPARATOR);url=obj.constructUrl("administration/update-tags/"+inlineData.entityId+"/"+inlineData.emptyId+"/"+inlineData.entityType+"/"+encodeURIComponent(newupdatedTagName)+"/"+inlineData.tagEntityId);
$.ajax({type:"POST",url:url,data:"",success:function(result){if(result=="error"){var error_msg='<div><div id="message-container" style="visibility: visible;"><div class="messages error"><ul><li><span>'+Drupal.t("LBL191")+" "+Drupal.t("LBL271")+"</span></li></ul><div onclick=\"$('body').data('learningcore').closeErrorMessage();\" class=\"msg-close-btn\"></div></div></div></div>";$("#paintContentVisiblePopup #show_expertus_message").append(error_msg);return false;}else{obj.inlineEditData.tagName=encodeURIComponent(updatedTagName);var html="";obj.actualInlineData=obj.actualInlineData.replace(/&quot;/g,'"');obj.actualInlineData=eval(obj.actualInlineData);obj.actualInlineData.tagName=escape(updatedTagName);obj.actualInlineData="data= "+EXPERTUS_SMARTPORTAL_AbstractManager.convertJsonToString(obj.actualInlineData);obj.actualInlineData=obj.actualInlineData.replace(/"/g,"&quot;");html+='<a href="javascript:void(0);" id="tag-list-name-id-'+inlineData.tagEntityId+'" name="tag-list-name-id-'+inlineData.tagEntityId+"\" class = \"tag-list-name\"  ondblclick =\"$('#root-admin').data('narrowsearch').getInlineEdit('"+obj.actualInlineData+"');\">"+updatedTagName+"</a>";
$("#tag-name-div-"+inlineData.tagEntityId).html(html);}}});}else{var html="";obj.actualInlineData=addslashes(obj.actualInlineData);obj.actualInlineData.tagName=updatedTagName;obj.actualInlineData=obj.actualInlineData.replace(/"/g,"&quot;");html+='<a href="javascript:void(0);" id="tag-list-name-id-'+inlineData.tagEntityId+'" name="tag-list-name-id-'+inlineData.tagEntityId+"\" class = \"tag-list-name\"  ondblclick =\"$('#root-admin').data('narrowsearch').getInlineEdit('"+obj.actualInlineData+"');\">"+exist_tag_name+"</a>";$("#tag-name-div-"+inlineData.tagEntityId).html(html);}},getInlineEditAttachedCourse:function(inlineData,e){if(inlineData){var inlineEditData=eval(inlineData);this.inlineEditData=inlineEditData;}var fullGroupNameData=this.inlineEditData.fullGroupName;fullGroupNameData=fullGroupNameData.replace(/"/g,"&quot;");tpTabDoubleClickData={selector:"#attachedcourse-name-div-"+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag,data:$("#attachedcourse-name-div-"+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag).html(),oldName:$("#attachedcourse-name-div-"+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag+" a span").text()};
var html="";var callBlur='$("#root-admin").data("narrowsearch")';var inline_txt=$("#attachedcourse-name-div-"+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag+" #expires_duration").html();html+='<input maxlength="250" type ="text" class="attachedcourse-edit-txtbox" id="attachedcourse-list-name-id-'+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag+'" value ="'+fullGroupNameData+"\" onkeydown=\"$('#root-admin').data('narrowsearch').updateAttachedCourseGroupKeyDown(event, this);\" onblur=\"$('#root-admin').data('narrowsearch').updateAttachedCourseGroup(this);\">";html+='<span id ="expires_duration">'+inline_txt+"</span>";$("#attachedcourse-name-div-"+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag).html(html);$("#attachedcourse-list-name-id-"+this.inlineEditData.courseId+"-"+this.inlineEditData.recertifyFlag).focus();},updateAttachedCourseGroupKeyDown:function(evt,updatedGroup){evt=evt||window.event;var charCode=evt.keyCode||evt.which;
if(charCode==13){$("#root-admin").data("narrowsearch").updateAttachedCourseGroup(updatedGroup);evt.preventDefault();return false;}},updateAttachedCourseGroup:function(updatedGroup){var inlineData=this.inlineEditData;var updatedGroupName=$.trim($(updatedGroup).attr("value"));var oldGroupName=this.inlineEditData.groupName;this.inlineEditData.groupName=updatedGroupName;var obj=this;var fieldname=Drupal.t("LBL1003")+" "+Drupal.t("LBL3060");var characterlist="a-z A-Z 0-9 @ * ' . _ -";var grpNameExists=0;if(Drupal.settings.user.language=="en-us"){var allowedChars=/^[a-z A-Z0-9@*\'\"._-]+$/;if(updatedGroupName==""||!allowedChars.test(updatedGroupName)){var error_msg='<div><div id="message-container" style="visibility: visible;"><div class="messages error"><ul><li style="width: 200px;"><span>'+Drupal.t("MSG811",{"@fieldname":fieldname,"@character list":characterlist})+"</span></li></ul><div onclick=\"$('body').data('learningcore').closeErrorMessage();\" class=\"msg-close-btn\"></div></div></div></div>";
$("#show_expertus_message").html(error_msg);return false;}}else{var allowedChars=/^[a-z A-Z0-9@*\'\"._-]+$/;if(updatedGroupName==""||!allowedChars.test(updatedGroupName)){var error_msg='<div><div id="message-container" style="visibility: visible;"><div class="messages error"><ul><li style="width: 200px;"><span>'+Drupal.t("MSG811",{"@fieldname":fieldname,"@character list":characterlist})+"</span></li></ul><div onclick=\"$('body').data('learningcore').closeErrorMessage();\" class=\"msg-close-btn\"></div></div></div></div>";$("#show_expertus_message").html(error_msg);return false;}}if(updatedGroupName.length>49){var current_length=updatedGroupName.length;var error_msg='<div><div id="message-container" style="visibility: visible;"><div class="messages error"><ul><li style="width: 200px;"><span>'+Drupal.t("!name cannot be longer than %max characters but is currently %length characters long.",{"!name":fieldname,"%max":50,"%length":current_length})+"</span></li></ul><div onclick=\"$('body').data('learningcore').closeErrorMessage();\" class=\"msg-close-btn\"></div></div></div></div>";
$("#show_expertus_message").html(error_msg);return false;}$("#program_attach_tabs ul li a").each(function(i){var validationmsg=Drupal.t("LBL1003")+" "+Drupal.t("LBL107")+Drupal.t("LBL271");if(this.text==updatedGroupName){grpNameExists=1;}});if(grpNameExists==1){var validationmsg=Drupal.t("LBL1003")+" "+Drupal.t("LBL107")+Drupal.t("LBL271");var error_msg='<div><div id="message-container" style="visibility: visible;"><div class="messages error"><ul><li style="width: 200px;"><span>'+validationmsg+"</span></li></ul><div onclick=\"$('body').data('learningcore').closeErrorMessage();\" class=\"msg-close-btn\"></div></div></div></div>";$("#show_expertus_message").html(error_msg);return false;}var groupName=decodeURIComponent(updatedGroupName);if(updatedGroupName=="No Group Name"||updatedGroupName==""){updatedGroupName=oldGroupName;this.inlineEditData.groupName=updatedGroupName;full_grp_name=addslashes(inlineData.fullGroupName);group_name=addslashes(inlineData.groupName);var html="";var datanew='data={"entityId":"'+inlineData.entityId+'","entityType":"'+inlineData.entityType+'","groupName":"'+group_name+'","fullGroupName":"'+full_grp_name+'","courseId":"'+inlineData.courseId+'","recertifyFlag":"'+inlineData.recertifyFlag+'"}';
datanew=unescape(datanew).replace(/"/g,"&quot;");html+='<a href="javascript:void(0);" id="attachedcourse-list-name-id-'+inlineData.courseId+"-"+inlineData.recertifyFlag+'" name="attachedcourse-list-name-id-'+inlineData.courseId+"-"+inlineData.recertifyFlag+"\" class = \"attachedcourse-list-name\"  ondblclick =\"$('#root-admin').data('narrowsearch').getInlineEditAttachedCourse('"+datanew+"',this);\">"+updatedGroupName+"</a>";$("#attachedcourse-name-div-"+inlineData.courseId+"-"+inlineData.recertifyFlag).html(html);}else{obj.createLoader("attach_course_dt");url=obj.constructUrl("administration/update-attachedcourse-group/"+inlineData.entityId+"/"+inlineData.entityType+"/"+updatedGroupName+"/"+inlineData.courseId+"/"+inlineData.recertifyFlag);$.ajax({type:"POST",url:url,data:"",success:function(result){tpTabDoubleClick=false;if(tpTabDoubleClickData!=null){var oldData=tpTabDoubleClickData.data;oldGroupName=tpTabDoubleClickData.oldName;formatOldGroupName=oldGroupName;formatOldGroupName=formatOldGroupName.replace(/"/g,"&quot;");
oldData=oldData.replace(/\\/g,"");formatUpdatedGroupName=updatedGroupName;formatUpdatedGroupName=formatUpdatedGroupName.replace(/"/g,"\\&quot;");oldData=oldData.replace(new RegExp(formatOldGroupName,"gi"),formatUpdatedGroupName);var clk=$(oldData+" a").attr("onclick");var dblclk=$(oldData+" a").attr("ondblclick");$(tpTabDoubleClickData.selector).html(oldData);$(tpTabDoubleClickData.selector+" span:first").text(updatedGroupName);$("#attachedcourse-name-div-"+inlineData.courseId+"-"+inlineData.recertifyFlag).attr("title",updatedGroupName);$("#page-container-tabs-prg").tabs("destroy");$("#page-container-tabs-prg").tabs({});tpTabDoubleClickData=null;}obj.destroyLoader("attach_course_dt");}});}},moreSurAssSearchHideShow:function(){$("#select-list-surass-dropdown-list").slideToggle();$("#select-list-surass-dropdown-list li:last").css("border-bottom","0px none");},moreSurAssSearchHideShowTag:function(){$("#select-list-surass-dropdown-list-tag").slideToggle();$("#select-list-surass-dropdown-list-tag li:last").css("border-bottom","0px none");
},moreSurAssSearchTypeText:function(dCode,dText){$("#select-list-surass-dropdown-list").hide();$("#select-list-surass-dropdown").text(dCode);$("#search_all_surass_type-hidden").val(dText);var displayText;if(dText=="surassqus"){displayText=Drupal.t("LBL324");}else{displayText=Drupal.t("LBL036")+" "+dCode;}$("#surassattchedquestions-autocomplete").val(displayText);$("#surassattchedquestions-autocomplete_hidden").val(displayText);$("#surassattchedquestions-autocomplete").addClass("input-field-grey");},moreSurAssSearchTypeTextTag:function(dCode,dText){$("#select-list-surass-dropdown-list-tag").hide();$("#select-list-surass-dropdown-tag").text(dCode);$(".admin_add_multi_search_container #tagsearch_all_surass_type-hidden").val(dText);var displayText;if(dText=="surassqus"){displayText=Drupal.t("LBL324");}else{displayText=Drupal.t("LBL193");}$("#surassattachquestion-autocomplete-tag").val(displayText);$("#surassattachquestion-autocomplete-tag_hidden").val(displayText);$("#surassattchedquestions-autocomplete-tag").addClass("input-field-grey");
},moreCourseSearchTypeText:function(dCode,dText){$("#select-list-course-dropdown").text(dCode);$("#search_all_course_type-hidden").val(dText);var displayText;if(dText=="crstit"){displayText=Drupal.t("LBL088")+" "+Drupal.t("LBL083");}else{displayText=Drupal.t("LBL036")+" "+dCode;}$("#tpattchedcoursename-autocomplete").val(displayText);$("#tpattchedcoursename-autocomplete_hidden").val(displayText);$("#tpattchedcoursename-autocomplete").addClass("input-field-grey");},moreAdduserSearchTypeText:function(dCode,dText){$("#search-list-class-title-keyword #select-list-class-dropdown-list").hide();$("#select-list-class-dropdown").text(dCode);$("#search_all_user_type-hidden").val(dText);var displayText;if(dText=="usrtit"){displayText=Drupal.t("LBL181");}else{if(dText=="fultit"){displayText=Drupal.t("LBL036")+" "+Drupal.t("LBL691");}else{displayText=Drupal.t("LBL036")+" "+dCode;}}$("#username-search-autocomplete").val(displayText);$("#username-search-autocomplete_hidden").val(displayText);$("#username-search-autocomplete").addClass("input-field-grey");
},moreUserSearchTypeText:function(dCode,dText){$("#search-list-class-title-keyword #select-list-class-dropdown-list").hide();$("#select-list-class-dropdown-adduser").text(dCode);$("#search_all_user_type-hidden").val(dText);var displayText;if(dText=="usrtitle"){displayText=Drupal.t("LBL181");}else{if(dText=="fultitle"){displayText=Drupal.t("LBL036")+" "+Drupal.t("LBL691");}else{if(dText=="grptitle"){displayText=Drupal.t("LBL1270");}else{displayText=Drupal.t("LBL036")+" "+dCode;}}}$("#addusername-search-autocomplete").val(displayText);$("#addusername-search-autocomplete_hidden").val(displayText);$("#addusername-search-autocomplete").addClass("input-field-grey");},getInlineEditAttachedQuestion:function(inlineData){if(inlineData){var inlineEditData=eval(inlineData);this.inlineEditData=inlineEditData;}var html="";var callBlur='$("#root-admin").data("narrowsearch")';html+='<input size="16" type ="text" class="attachedquestion-edit-txtbox" id="attachedquestion-list-name-id-'+this.inlineEditData.questionId+'" value ="'+this.inlineEditData.fullGroupName+"\" onkeydown=\"return $('#root-admin').data('narrowsearch').updateAttachedQuestionGroupKeyDown(event, this);\" onblur=\"return $('#root-admin').data('narrowsearch').updateAttachedQuestionGroup(this);\">";
$("#attachedquestion-name-div-"+this.inlineEditData.questionId).html(html);$("#attachedquestion-list-name-id-"+this.inlineEditData.questionId).focus();},updateAttachedQuestionGroupKeyDown:function(evt,updatedGroup){evt=evt||window.event;var charCode=evt.keyCode||evt.which;if(charCode==13){$("#root-admin").data("narrowsearch").updateAttachedQuestionGroup(updatedGroup);evt.preventDefault();return false;}},searchClassNameFilter:function(courseId,classId){var obj=this;var className=encodeURIComponent($("#classname-autocomplete").val());var searchType=$("#search_all_classs_type-hidden").val();var pagerId="#admin-course-class-list-"+courseId+"-pagination_toppager";var objStr='$("#root_admin").data("narrowsearch")';obj.createLoader("paint-class-search-results-datagrid");$("#admin-course-class-list-"+courseId+"-pagination").setGridParam({url:this.constructUrl("administration/class-pagination/"+courseId+"/"+classId+"/0&class_name="+className+"&search_Type="+searchType)});$("#admin-course-class-list-"+courseId+"-pagination").trigger("reloadGrid",[{page:1}]);
},moreClassSearchHideShow:function(){$("#select-list-class-dropdown-list").slideToggle();$("#select-list-class-dropdown-list li:last").css("border-bottom","0px none");},moreClassSearchTypeText:function(dCode,dText){$("#select-list-class-dropdown-list").hide();$("#select-list-class-dropdown").text(dCode);$("#search_all_classs_type-hidden").val(dText);$("#search_all_user_type-hidden").val(dText);var displayText;if(dText=="clstit"){displayText=Drupal.t("LBL766");}else{if(dText=="clsstatus"){displayText=Drupal.t("LBL036")+" "+Drupal.t("Class")+" "+dCode;}else{if(dText=="usrtit"||dText=="fultit"){$("#username-search-autocomplete").val(displayText);$("#username-search-autocomplete_hidden").val(displayText);$("#username-search-autocomplete").addClass("input-field-grey");$("#username-search-autocomplete").focus();}else{displayText=Drupal.t("LBL036")+" "+dCode;}}}$("#classname-autocomplete").val(displayText);$("#classname-autocomplete_hidden").val(displayText);$("#classname-autocomplete").addClass("input-field-grey");
},templateDisplayPagination:function(notificationId,templateId,argType){var obj=this;var pagerId="#admin-notification-template-list-"+notificationId+"-pagination_toppager";var objStr='$("#root_admin").data("narrowsearch")';if(argType=="notification_template"){urlType="administration/manage/notification_template/temp-pagination/"+notificationId+"/"+templateId;}else{urlType="administration/manage/certificate/temp-pagination/"+notificationId+"/"+templateId;}obj.createLoader("paint-template-search-results-datagrid");$("#admin-notification-template-list-"+notificationId+"-pagination").jqGrid({url:this.constructUrl(urlType),datatype:"json",mtype:"GET",colModel:[{name:"Detail",index:"detail",title:false,width:620,widgetObj:objStr,sortable:false,formatter:obj.displayClassListValues}],rowNum:5,rowList:[5,10,15],pager:pagerId,viewrecords:true,multiselect:false,emptyrecords:"",toppager:false,height:"auto",width:620,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:obj.callbackTemplateListDataGrid}).navGrid("#pager-datagrid-"+notificationId,{add:false,edit:false,del:false,search:false,refreshtitle:true});
$("#admin-notification-template-list-"+notificationId+"-pagination_toppager").hide();},callbackTemplateListDataGrid:function(response,postdata,formid){var listRows=5;var curObjStr=$("#root-admin").data("narrowsearch");$("#admin-notification-template-list-"+response.notificationId+"-pagination").show();var element=document.getElementById("modal-content");if(element.clientHeight==element.scrollHeight){$("#gbox_admin-notification-template-list-"+response.notificationId+"-pagination").css("width","620px");$("#gbox_admin-notification-template-list-"+response.notificationId+"-pagination").css("overflow","hidden");}var recordCount=$("#admin-notification-template-list-"+response.notificationId+"-pagination").jqGrid("getGridParam","records");if(recordCount==0){$("#admin-notification-template-list-"+response.notificationId+"-pagination").css("display","block");var html=Drupal.t("MSG381")+".";$("#admin-notification-template-list-"+response.notificationId+"-pagination").html('<tr><td class="border-style-none" width="620px"><div id="add-edit-class-norecords" class="no-records-msg">'+html+"</div></td></tr>");
$("#admin-notification-template-list-"+response.notificationId+"-pagination").css("text-align","center");$(".border-style-none").css("border","0");}else{if(recordCount>listRows){$("#admin-notification-template-list-"+response.notificationId+"-pagination_toppager").show();if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$("#admin-notification-template-list-"+response.notificationId+"-pagination_toppager_center").css("width","229px");}else{$("#admin-notification-template-list-"+response.notificationId+"-pagination_toppager_center").css("width","250px");}$("#add-edit-class-norecords").css("display","none");}else{$("#add-edit-class-norecords").css("display","none");}}curObjStr.initGridTemplatePagination(response.notificationId);curObjStr.destroyLoader("paint-template-search-results-datagrid");$("#admin-notification-template-list-pagination-"+response.notificationId+" tr").click(function(event){event.stopPropagation();});$(".edit-class-list-container").last().css("border","0px none");
var backdrop_height=$(document).height();$("#modalBackdrop").css("height",backdrop_height+"px");$(".pub-unpub-only-save-btn").attr("disabled",false);$(".save-pub-unpub-sub-menu input").removeClass("save-and-enable-disabled");$("#admin-notification-template-list-"+response.notificationId+"-pagination tr td").find("div.edit-class-list").last().css("border-bottom","0px none");vtip();},initGridTemplatePagination:function(notificationId){var curObjStr=$("#root-admin").data("narrowsearch");$("#first_admin-notification-template-list-"+notificationId+"-pagination_toppager").click(function(e){if(!$("#first_admin-notification-template-list-"+notificationId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-notification-template-list-"+notificationId+"-pagination").hide();$("#gview_admin-notification-template-list-"+notificationId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-template-search-results-datagrid");}});$("#prev_admin-notification-template-list-"+notificationId+"-pagination_toppager").click(function(e){if(!$("#prev_admin-notification-template-list-"+notificationId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-notification-template-list-"+notificationId+"-pagination").hide();
$("#gview_admin-notification-template-list-"+notificationId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-template-search-results-datagrid");}});$("#next_admin-notification-template-list-"+notificationId+"-pagination_toppager").click(function(e){if(!$("#next_admin-notification-template-list-"+notificationId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-notification-template-list-"+notificationId+"-pagination").hide();$("#gview_admin-notification-template-list-"+notificationId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-template-search-results-datagrid");}});$("#last_admin-notification-template-list-"+notificationId+"-pagination_toppager").click(function(e){if(!$("#last_admin-notification-template-list-"+notificationId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-notification-template-list-"+notificationId+"-pagination").hide();$("#gview_admin-notification-template-list-"+notificationId+"-pagination").css("min-height","50px");
curObjStr.createLoader("paint-template-search-results-datagrid");}});$(".ui-pg-input").keyup(function(event){if(event.keyCode==13){$("#admin-notification-template-list-"+notificationId+"-pagination").hide();$("#gview_admin-notification-template-list-"+notificationId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-template-search-results-datagrid");}});},userDisplayPagination:function(roleId,userId){var obj=this;var pagerId="#admin-course-class-list-"+roleId+"-pagination_toppager";var objStr='$("#root_admin").data("narrowsearch")';obj.createLoader("paint-user-search-results-datagrid");$("#admin-course-class-list-"+roleId+"-pagination").jqGrid({url:this.constructUrl("administration/people/group/user-pagination/"+roleId+"/"+userId),datatype:"json",mtype:"GET",colNames:[Drupal.t("LBL054"),Drupal.t("LBL691"),Drupal.t("LBL102"),multiselectCheckbox],colModel:[{name:"User Name",index:"UserName",title:false,width:120,widgetObj:objStr,formatter:obj.userDisplayGridValues},{name:"Full Name",index:"FullName",title:false,width:200,widgetObj:objStr,formatter:obj.userDisplayGridValues},{name:"Status",index:"Status",title:false,width:80,widgetObj:objStr,formatter:obj.userDisplayGridValues,hidden:hideStatusOption},{name:"MultiselectCheck",index:"MultiselectCheck",title:false,width:19,widgetObj:objStr,formatter:obj.userDisplayGridValues,sortable:false}],rowNum:5,rowList:[5,10,15],pager:pagerId,viewrecords:true,multiselect:false,emptyrecords:"",toppager:false,height:"auto",width:570,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:obj.callbackUserListDataGrid}).navGrid("#pager-datagrid-"+roleId,{add:false,edit:false,del:false,search:false,refreshtitle:true});
$("#admin-course-class-list-"+roleId+"-pagination_toppager").hide();setQtipPosition();},callbackUserListDataGrid:function(response,postdata,formid){var listRows=5;var curObjStr=$("#root-admin").data("narrowsearch");$("#admin-course-class-list-"+response.roleId+"-pagination").show();var element=document.getElementById("modal-content");if(element.clientHeight==element.scrollHeight){$("#gbox_admin-course-class-list-"+response.roleId+"-pagination").css("width","570px");$("#gbox_admin-course-class-list-"+response.roleId+"-pagination").css("overflow","hidden");}var recordCount=$("#admin-course-class-list-"+response.roleId+"-pagination").jqGrid("getGridParam","records");if(recordCount==0){$("#admin-course-class-list-"+response.roleId+"-pagination").css("display","block");var html=Drupal.t("MSG381")+".";$("#admin-course-class-list-"+response.roleId+"-pagination").html('<tr><td class="border-style-none" width="570px"><div id="add-edit-class-norecords" class="no-records-msg">'+html+"</div></td></tr>");
$("#admin-course-class-list-"+response.roleId+"-pagination").css("text-align","center");$(".border-style-none").css("border","0");}else{if(recordCount>listRows){$("#admin-course-class-list-"+response.roleId+"-pagination_toppager").show();$("#add-edit-class-norecords").css("display","none");}else{$("#add-edit-class-norecords").css("display","none");}}curObjStr.initGridUserPagination(response.roleId);curObjStr.destroyLoader("paint-user-search-results-datagrid");$("#admin-course-class-list-pagination-"+response.roleId+" tr").click(function(event){event.stopPropagation();});$(".edit-class-list-container").last().css("border","0px none");var backdrop_height=$(document).height();$("#modalBackdrop").css("height",backdrop_height+"px");vtip();},initGridUserPagination:function(roleId){var curObjStr=$("#root-admin").data("narrowsearch");$("#prev_admin-course-class-list-"+roleId+"-pagination_toppager").click(function(e){if(!$("#prev_admin-course-class-list-"+roleId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-course-class-list-"+roleId+"-pagination").hide();
$("#gview_admin-course-class-list-"+roleId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});$("#next_admin-course-class-list-"+roleId+"-pagination_toppager").click(function(e){if(!$("#next_admin-course-class-list-"+roleId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-course-class-list-"+roleId+"-pagination").hide();$("#gview_admin-course-class-list-"+roleId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});$(".ui-pg-input").keyup(function(event){if(event.keyCode==13){$("#admin-course-class-list-"+roleId+"-pagination").hide();$("#gview_admin-course-class-list-"+roleId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});},classDisplayPagination:function(courseId,classId,oldClassId){var obj=this;var pagerId="#admin-course-class-list-"+courseId+"-pagination_toppager";var objStr='$("#root_admin").data("narrowsearch")';
obj.createLoader("paint-class-search-results-datagrid");if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){var Wgrid="835";}else{var Wgrid="827";}$("#admin-course-class-list-"+courseId+"-pagination").jqGrid({url:this.constructUrl("administration/class-pagination/"+courseId+"/"+classId+"/"+oldClassId),datatype:"json",mtype:"GET",colNames:["Detail"],colModel:[{name:"Detail",index:"detail",title:false,width:860,widgetObj:objStr,sortable:false,formatter:obj.displayClassListValues}],rowNum:5,rowList:[5,10,15],pager:pagerId,viewrecords:true,multiselect:false,emptyrecords:"",toppager:false,height:"auto",width:Wgrid,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:obj.callbackClassListDataGrid}).navGrid("#pager-datagrid-"+courseId,{add:false,edit:false,del:false,search:false,refreshtitle:true});$("#admin-course-class-list-"+courseId+"-pagination_toppager").hide();setQtipPosition();},callbackClassListDataGrid:function(response,postdata,formid){Drupal.ajax.prototype.commands.CtoolsModalAdjust(null,null,null);
if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){var Wgrid="835";}else{var Wgrid="827";}var listRows=5;var curObjStr=$("#root-admin").data("narrowsearch");$("#admin-course-class-list-"+response.courseId+"-pagination").show();var element=document.getElementById("modal-content");if(element.clientHeight==element.scrollHeight){$("#gbox_admin-course-class-list-"+response.courseId+"-pagination").css("width",Wgrid+"px");$("#gbox_admin-course-class-list-"+response.courseId+"-pagination").css("overflow","hidden");}var recordCount=$("#admin-course-class-list-"+response.courseId+"-pagination").jqGrid("getGridParam","records");if(recordCount==0){$("#admin-course-class-list-"+response.courseId+"-pagination").css("display","block");var html=Drupal.t("MSG381")+".";$("#admin-course-class-list-"+response.courseId+"-pagination").html('<tr><td class="border-style-none" width="'+Wgrid+'px"><div id="add-edit-class-norecords" class="no-records-msg">'+html+"</div></td></tr>");$("#admin-course-class-list-"+response.courseId+"-pagination").css("text-align","center");
$(".border-style-none").css("border","0");$("#admin-course-class-list-"+response.courseId+"-pagination_toppager").hide();}else{if(recordCount>listRows){$("#admin-course-class-list-"+response.courseId+"-pagination_toppager").show();if($.browser.msie&&parseInt($.browser.version,10)=="9"){$("#admin-course-class-list-"+response.courseId+"-pagination_toppager").find(".ui-pg-table").css("width","auto");}$("#add-edit-class-norecords").css("display","none");}else{$("#add-edit-class-norecords").css("display","none");$("#admin-course-class-list-"+response.courseId+"-pagination_toppager").hide();}}curObjStr.initGridClassPagination(response.courseId);curObjStr.destroyLoader("paint-class-search-results-datagrid");$("#admin-course-class-list-pagination-"+response.courseId+" tr").click(function(event){event.stopPropagation();});$(".edit-class-list-container").last().css("border","0px none");var backdrop_height=$(document).height();$("#modalBackdrop").css("height",backdrop_height+"px");vtip();$("#admin-course-class-list-"+response.courseId+"-pagination > tbody > tr:last > td > .edit-class-list").css("border","0px none");
},initGridClassPagination:function(courseId){var curObjStr=$("#root-admin").data("narrowsearch");$("#first_admin-course-class-list-"+courseId+"-pagination_toppager").click(function(e){if(!$("#first_admin-course-class-list-"+courseId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-course-class-list-"+courseId+"-pagination").hide();$("#gview_admin-course-class-list-"+courseId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});$("#prev_admin-course-class-list-"+courseId+"-pagination_toppager").click(function(e){if(!$("#prev_admin-course-class-list-"+courseId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-course-class-list-"+courseId+"-pagination").hide();$("#gview_admin-course-class-list-"+courseId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});$("#next_admin-course-class-list-"+courseId+"-pagination_toppager").click(function(e){if(!$("#next_admin-course-class-list-"+courseId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-course-class-list-"+courseId+"-pagination").hide();
$("#gview_admin-course-class-list-"+courseId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});$("#last_admin-course-class-list-"+courseId+"-pagination_toppager").click(function(e){if(!$("#last_admin-course-class-list-"+courseId+"-pagination_toppager").hasClass("ui-state-disabled")){$("#admin-course-class-list-"+courseId+"-pagination").hide();$("#gview_admin-course-class-list-"+courseId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});$(".ui-pg-input").keyup(function(event){if(event.keyCode==13){$("#admin-course-class-list-"+courseId+"-pagination").hide();$("#gview_admin-course-class-list-"+courseId+"-pagination").css("min-height","50px");curObjStr.createLoader("paint-class-search-results-datagrid");}});},displayClassListValues:function(cellvalue,options,rowObject){return rowObject.detail;},userDisplayGridValues:function(cellvalue,options,rowObject){var type=$("body").data("mulitselectdatagrid").type;
var mode=$("body").data("mulitselectdatagrid").mode;var uniqueId=$("body").data("mulitselectdatagrid").uniqueId;var entityId=$("body").data("mulitselectdatagrid").entityId;var entityType=$("body").data("mulitselectdatagrid").entityType;var groupname="";var index=options.colModel.index;var rowEditOptionId=rowObject.id+"-"+type+"-"+entityId+"-"+entityType+"-"+index;if(index=="MultiselectCheck"){var inputType="checkbox";var id=rowObject.MultiselectCheck;return'<input type="'+inputType+'" id="multiselect-singlecheck-'+uniqueId+"_"+id+'" value="'+id+'" class="multiselect-singlecheck" />';}else{if(index=="UserName"){var titleAllowed=type=="RoleAddusers"?13:20;var userNameRestricted=$("body").data("mulitselectdatagrid").titleRestricted(rowObject[index],titleAllowed);return'<span class="vtip" title="'+htmlEntities(rowObject[index])+'">'+userNameRestricted+"</span>";}else{if(index=="FullName"){var titleAllowed=type=="RoleAddusers"?15:35;var fullNameRestricted=$("body").data("mulitselectdatagrid").titleRestricted(rowObject[index],titleAllowed);
return'<span class="vtip" title="'+htmlEntities(rowObject[index])+'">'+fullNameRestricted+"</span>";}}}},updateAttachedQuestionGroup:function(updatedGroup){var inlineData=this.inlineEditData;var updatedGroupName=escape($(updatedGroup).attr("value"));var oldGroupName=this.inlineEditData.groupName;this.inlineEditData.groupName=updatedGroupName;var obj=this;var regGroupName=/^[A-Za-z0-9.,@_\s]{0,100}$/;var grpString=decodeURIComponent(updatedGroupName);if(!regGroupName.test(grpString)){var error_msg='<div><div id="message-container" style="visibility: visible;"><div class="messages error"><ul><li style="width: 200px;"><span>'+Drupal.t("MSG644")+" "+Drupal.t("MSG639")+"</span></li></ul><div onclick=\"$('body').data('learningcore').closeErrorMessage();\" class=\"msg-close-btn\"></div></div></div></div>";$("#show_expertus_message").append(error_msg);return false;}if(updatedGroupName=="No Group Name"||updatedGroupName==""){updatedGroupName=oldGroupName;this.inlineEditData.groupName=updatedGroupName;
var html="";html+='<a href="javascript:void(0);" id="attachedquestion-list-name-id-'+inlineData.questionId+'" name="attachedquestion-list-name-id-'+inlineData.questionId+'" class = "attachedcourse-list-name"  ondblclick ="$(\'#root-admin\').data(\'narrowsearch\').getInlineEditAttachedQuestion();">'+updatedGroupName+"</a>";$("#attachedquestion-name-div-"+inlineData.questionId).html(html);}else{obj.createLoader("survey_attach_questions_dt");url=obj.constructUrl("administration/update-attachedquestion-group/"+inlineData.entityId+"/"+updatedGroupName+"/"+inlineData.questionId);$.ajax({type:"POST",url:url,data:"",success:function(result){obj.destroyLoader("survey_attach_questions_dt");var result=result.split("|");var shortGroupName=result[0];var longGroupName=result[1];var html="";var dataQuesGroup='data={"entityId":"'+inlineData.entityId+'","entityType":"'+inlineData.entityType+'","groupName":"'+$.trim(shortGroupName)+'","fullGroupName":"'+$.trim(longGroupName)+'","questionId":"'+inlineData.questionId+'"}';
dataQuesGroup=unescape(dataQuesGroup).replace(/"/g,"&quot;");html+='<a href="javascript:void(0);" id="attachedquestion-list-name-id-'+inlineData.questionId+'" name="attachedquestion-list-name-id-'+inlineData.questionId+"\" class = \"attachedquestion-list-name\"  ondblclick =\"$('#root-admin').data('narrowsearch').getInlineEditAttachedQuestion('"+dataQuesGroup+"');\">"+titleRestrictionFadeoutImage(shortGroupName,"survey-grp-name")+"</a>";$("#attachedquestion-name-div-"+inlineData.questionId).html(html);$("#attachedquestion-name-div-"+inlineData.questionId).attr("title",longGroupName);}});}},updatePreviewContent:function(){var url="";var post_data="";if(scoobj._type=="AICC"||scoobj._type=="AICC Course Structure"){var sid=$("#root-admin").data("narrowsearch").launchAICCId;url=resource.base_url+"/sites/all/commonlib/AICC_Handler.php";post_data={session_id:sid,command:"UPDATEAICCPREVIEW"};var obj=this;$.ajax({type:"POST",url:url,data:post_data,success:function(result){}});}},showExpAdminDropdownMenu:function(dropdownListId){var dropdownListSelector="#"+dropdownListId;
if($(dropdownListSelector).is(":visible")){}else{$(dropdownListSelector).slideDown();$(dropdownListSelector+" li:last").css("border-bottom","0px none");$("html").bind("mousedown."+dropdownListId,{dropdownListId:dropdownListId},$("#root-admin").data("narrowsearch").hideOnClickExpAdminDropDownMenu);}},hideOnClickExpAdminDropDownMenu:function(e){var dropdownListId=e.data.dropdownListId;var dropdownListSelector="#"+dropdownListId;var el=e.target;var dropdown=$("#"+dropdownListId+":visible")[0];if(typeof dropdown=="undefined"){$("html").unbind("mousedown."+dropdownListId,$("#root-admin").data("narrowsearch").hideOnClickExpAdminDropDownMenu);return true;}$(dropdownListSelector).slideUp();$("html").unbind("mousedown."+dropdownListId,$("#root-admin").data("narrowsearch").hideOnClickExpAdminDropDownMenu);return false;},meetingUrlCreate:function(meetingName,classId){if(meetingName=="lrn_cls_vct_oth"){$("#session_presenter_password").val("");$("#session_attende_password").val("");$("#session_meeting_id").val("");
$("#attendee_url").css("display","block");$("#presenter_url").css("display","block");$("#attendee_password").css("display","none");$("#presenter_password").css("display","none");$("#meeting_id_dt").css("display","none");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class");$(".admin-addedit-session-details-meeting tr:visible").addClass("session-meeting-vc-class-others");}else{if(meetingName=="lrn_cls_vct_exp"){$("#session_presenter_password").val("");$("#session_attende_password").val("");$("#session_meeting_id").val("");$("#session_presenter_password").attr("disabled",true).addClass("admin-grey-out-fields");$("#session_attende_password").attr("disabled",true).addClass("admin-grey-out-fields");$("#session_meeting_id").attr("disabled",true).addClass("admin-grey-out-fields");$(".session-pass-mandatory").css("display","none");$("#attendee_url").css("display","none");$("#presenter_url").css("display","none");$("#attendee_password").css("display","none");
$("#presenter_password").css("display","none");$("#meeting_id_dt").css("display","none");$(".admin-addedit-session-details-meeting tr:visible").addClass("session-meeting-vc-class");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class-others");}else{$("#session_presenter_password").attr("disabled",false).removeClass("admin-grey-out-fields");$("#session_attende_password").attr("disabled",false).removeClass("admin-grey-out-fields");$("#session_meeting_id").attr("disabled",false).removeClass("admin-grey-out-fields");$(".session-pass-mandatory").css("display","inline-block");$("#attendee_url").css("display","none");$("#presenter_url").css("display","none");$("#attendee_password").css("display","block");$("#presenter_password").css("display","block");$("#meeting_id_dt").css("display","none");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class-others");
}}},getMeetingType:function(){var meetingtypeid=$("#set-meeting-type").val();var class_id=$("#class_id").val();if(meetingtypeid=="lrn_cls_vct_oth"){$("#session_presenter_password").val("");$("#session_attende_password").val("");$("#session_meeting_id").val("");$("#attendee_url").css("display","block");$("#presenter_url").css("display","block");$("#attendee_password").css("display","none");$("#presenter_password").css("display","none");$("#meeting_id_dt").css("display","none");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class");$(".admin-addedit-session-details-meeting tr:visible").addClass("session-meeting-vc-class-others");}else{if(meetingtypeid=="lrn_cls_vct_exp"){$("#session_presenter_password").val("");$("#session_attende_password").val("");$("#session_meeting_id").val("");$("#session_presenter_password").attr("disabled",true).addClass("admin-grey-out-fields");$("#session_attende_password").attr("disabled",true).addClass("admin-grey-out-fields");
$("#session_meeting_id").attr("disabled",true).addClass("admin-grey-out-fields");$(".session-pass-mandatory").css("display","none");$("#attendee_url").css("display","none");$("#presenter_url").css("display","none");$("#attendee_password").css("display","none");$("#presenter_password").css("display","none");$("#meeting_id_dt").css("display","none");$(".admin-addedit-session-details-meeting tr:visible").addClass("session-meeting-vc-class");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class-others");}else{var getDisAttr=$("#session_meeting_id");if(!getDisAttr.attr("disabled")){$("#session_presenter_password").attr("disabled",false);$("#session_attende_password").attr("disabled",false);$("#session_meeting_id").attr("disabled",false);}$(".session-pass-mandatory").css("display","inline-block");$("#session_presenter_password").removeClass("admin-grey-out-fields");$("#session_attende_password").removeClass("admin-grey-out-fields");$("#session_meeting_id").removeClass("admin-grey-out-fields");
$("#attendee_url").css("display","none");$("#presenter_url").css("display","none");$("#attendee_password").css("display","block");$("#presenter_password").css("display","block");$("#meeting_id_dt").css("display","");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class");$(".admin-addedit-session-details-meeting tr:visible").removeClass("session-meeting-vc-class-others");}}},getPreviewContent:function(contentId,VersionId,lessonlist){var closeButt={};$("#lesson-wizard").remove();html="";html+='<div id="lesson-wizard" class="lesson-wizard-content" style="display:none; padding: 0px;">';html+=this.getContentVersionLessons(contentId,VersionId,lessonlist);html+="</div>";$("body").append(html);Drupal.attachBehaviors();$("#lesson-wizard").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:450,zIndex:10000,resizable:false,modal:true,title:Drupal.t("LBL889"),buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});
$("#lesson-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#lesson-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}this.scrollBarContentDialog();},getContentVersionLessons:function(contentId,VersionId,data){var lesCnt=0;var ostr="";ostr+='<td colspan="2"><div class="enroll-accordian-div">';ostr+='<table class="launch-lesson-view" cellpadding="0" cellspacing="0" width="100%" border="0">';$(data).each(function(){$(this).each(function(){lesCnt++;var params="";var lessontitle=$(this).attr("title");var launchurl=$(this).attr("launchurl");var contentType=$(this).attr("contentype");var contentTypeCode=$(this).attr("contentypecode");var contenthostedtype=$(this).attr("contenthostedtype");var aicc_sid=$(this).attr("AICC_SID");var callLaunchUrlFn;var lessonId=$(this).attr("lessonid");if(contentTypeCode!="lrn_cnt_typ_vod"){params="{'Id':'"+lessonId+"','url1':'"+launchurl+"','ErrMsg':'error','contentType':'"+contentType+"','AICC_SID':'"+aicc_sid+"'}";
callLaunchUrlFn="onclick=\"$('#root-admin').data('narrowsearch').launchLesson("+params+')"';}else{lessontitle=encodeURIComponent(lessontitle.replace(/\//g,"()|()"));callLaunchUrlFn='href="/?q=learning/nojs/play_video/';callLaunchUrlFn+=lessontitle+"/";callLaunchUrlFn+=escape(contenthostedtype)+"/";callLaunchUrlFn+=escape(launchurl.replace(/\//g,"()|()"))+"/";callLaunchUrlFn+="ME/";callLaunchUrlFn+="/";callLaunchUrlFn+="/";callLaunchUrlFn+=lessonId+"/";callLaunchUrlFn+="/";callLaunchUrlFn+="/";callLaunchUrlFn+='"';}var pipe='<span class="enroll-pipeline">|</span>';ostr+='<tr class="enroll-lesson-section"><td class="enroll-launch-column1">';ostr+='<div class="enroll-course-title-lesson">';ostr+='<span id="titleAccEn_'+lessonId+'" class="item-title" ><span class="enroll-course-title vtip" title="'+Drupal.t("LBL854")+" "+lesCnt+" : "+unescape(lessontitle).replace(/"/g,"&quot;")+'" href="javascript:void(0);">';ostr+="Lesson "+lesCnt+": "+titleRestricted(decodeURIComponent(lessontitle),35);ostr+="</span></span>";
ostr+="</div>";ostr+='<div class="enroll-class-title-info">';ostr+='<div class="item-title-code">';ostr+=" </div>";ostr+="</div>";ostr+="</td>";ostr+='<td class="enroll-launch-column2">';ostr+='<div class="enroll-main-list">';ostr+='<label id="'+lessonId+'_launch_button_lbl" class="enroll-launch-full launch_button_lbl">';if(contentTypeCode!="lrn_cnt_typ_vod"){ostr+='<input type="button" id="'+lessonId+'_launch_button" class="actionLink enroll-launch" value="'+Drupal.t("LBL199")+'" '+callLaunchUrlFn+">";}else{ostr+="<a class='actionLink enroll-launch use-ajax ctools-modal-ctools-video-style' title='"+Drupal.t("LBL199")+"' id='launch"+lessonId+"' "+callLaunchUrlFn+" >"+Drupal.t("LBL199")+"</a>";}ostr+="</label>";ostr+="</div>";ostr+="</td></tr>";});});ostr+='</table></div"></td>';return ostr;},launchLesson:function(data){var pmType=data.contentType;var contentVersion;var contentType;var stdid=this.getLearnerId();var stdname=this.getUserName();$("#root-admin").data("narrowsearch").launchUserId=stdid;
$("#root-admin").data("narrowsearch").launchLessonId=data.Id;$("#root-admin").data("narrowsearch").launchAICCId=data.AICC_SID;if(stdid=="0"||stdid==""){self.location="?q=learning/enrollment-search";return;}if(pmType.toLowerCase()=="scorm 1.2"||pmType.toLowerCase()=="scorm 2004"){pmType=pmType;var pmTypeVer=pmType.split(" ");contentType=pmTypeVer[0];contentVersion=pmTypeVer[1];}else{contentVersion="";contentType=pmType;}var x={version:contentVersion,type:contentType};scoobj=new SCORM_API_WRAPPER(x);var cdnstatus=data.cdnmodulestatus;if(cdnstatus==1){$.ajax({url:"?q=ajax/getcdnurl/"+data.Id,data:"",success:function(result){var output=result.split("~~");var url1=output[0];var data1={url:url1,callback:$("#root-admin").data("narrowsearch").updatePreviewContent,learnerId:stdid,learnerName:stdname,completionStatus:"not attempted",scoreMax:"0",scoreMin:"0",score:"0",location:"",courseid:"0",classid:"0",lessonid:data.Id,versionid:"0",enrollid:"0",launch_data:"",suspend_data:"",exit:"",aicc_sid:data.AICC_SID};
scoobj.Initialize(data1);}});}else{var data1={url:decodeURIComponent(data.url1),callback:$("#root-admin").data("narrowsearch").updatePreviewContent,learnerId:stdid,learnerName:stdname,completionStatus:"not attempted",scoreMax:"0",scoreMin:"0",score:"0",location:"",courseid:"0",classid:"0",lessonid:data.Id,versionid:"0",enrollid:"0",launch_data:"",suspend_data:"",exit:"",aicc_sid:data.AICC_SID};scoobj.Initialize(data1);}},scrollBarContentDialog:function(){var contentDialogHeight=$("#lesson-content-container").height();if(contentDialogHeight>550){$(".lesson-wizard-content").css("height",550);}else{if(contentDialogHeight<=550){$(".lesson-wizard-content").css("height","auto").css("min-height","70px");}}},underlineTagAndTriggerSearch:function(tagName,filterCode,currElem){try{$(".tagscloud-tag").css("text-decoration","");$(currElem).css("text-decoration","underline");$("#"+filterCode+"-addltext-filter").val(tagName);$("#"+filterCode+"-tagscloud-clr").css("display","block");$("#root-admin").data("narrowsearch").refreshGrid();
}catch(e){}},underlineTagCloudAndTriggerSearch:function(tagName,filterCode,currElem,tagWeight){try{$(".tagscloud-tag").css("text-decoration","");$(currElem).css("text-decoration","underline");$("#"+filterCode+"-addltext-filter").val(tagName);$("#"+filterCode+"-tagscloud-clr").css("display","block");$("#root-admin").data("narrowsearch").refreshGrid();$tagText=$(currElem).html();if($("#tagentityType").val()=="tagtip"){var tagpos=$.inArray($tagText,existtagArrAdmin,0);if(tagpos==-1){existtagArrAdmin.unshift($tagText);existtagArrAdmin.pop();$("#"+filterCode+"_tagscloud #tagcloudcontainerid").find("span:last-child").remove();$(currElem).html(descController("FADE OUT",$tagText,weightArrAdmin[tagWeight-1]));var selectedTag=$(currElem).parent().html();$("#"+filterCode+"_tagscloud #tagcloudcontainerid").prepend('<span class="tagscloud-term">'+selectedTag+"</span>");$(currElem).html($tagText);}else{if(tagpos>=0){$("#"+filterCode+"_tagscloud #tagcloudcontainerid").find("span:nth-child("+(tagpos+1)+")").remove();
if(tagpos>-1){existtagArrAdmin.splice(tagpos,1);}existtagArrAdmin.unshift($tagText);$(currElem).html(descController("FADE OUT",$tagText,weightArrAdmin[tagWeight-1]));var selectedTag=$(currElem).parent().html();$("#"+filterCode+"_tagscloud #tagcloudcontainerid").prepend('<span class="tagscloud-term">'+selectedTag+"</span>");$(currElem).html($tagText);}}}else{var tagpos=$.inArray($tagText,existtagClsArrAdmin,0);if(tagpos==-1){existtagClsArrAdmin.unshift($tagText);existtagClsArrAdmin.pop();$("#"+filterCode+"_tagscloud #tagcloudcontainerid").find("span:last-child").remove();$(currElem).html(descController("FADE OUT",$tagText,weightArrAdmin[tagWeight-1]));var selectedTag=$(currElem).parent().html();$("#"+filterCode+"_tagscloud #tagcloudcontainerid").prepend('<span class="tagscloud-term">'+selectedTag+"</span>");$(currElem).html($tagText);}else{if(tagpos>=0){$("#"+filterCode+"_tagscloud #tagcloudcontainerid").find("span:nth-child("+(tagpos+1)+")").remove();existtagClsArrAdmin.unshift($tagText);
if(tagpos>-1){existtagClsArrAdmin.splice(tagpos,1);}$(currElem).html(descController("FADE OUT",$tagText,weightArrAdmin[tagWeight-1]));var selectedTag=$(currElem).parent().html();$("#"+filterCode+"_tagscloud #tagcloudcontainerid").prepend('<span class="tagscloud-term">'+selectedTag+"</span>");$(currElem).html($tagText);}}}}catch(e){}},showConfirmPopup:function(submitHandlerId,action,usersList,Type,isPricedClass){try{var learners=$("input[name="+usersList+"]").val().split(",");var getStatus=new Array();for(var i=0;i<learners.length;i++){getStatus[i]=$("input[name=enrolled_status_"+learners[i]+"]").val();}var unique=getStatus.filter(function(itm,i,getStatus){return i==getStatus.indexOf(itm);});var getdefaultStatus=new Array();for(var i=0;i<learners.length;i++){getdefaultStatus[i]=$("input[name=enrolled_default_status_"+learners[i]+"]").val();}var defltstat=getdefaultStatus.filter(function(itm,i,getdefaultStatus){return i==getdefaultStatus.indexOf(itm);});if(defltstat==Drupal.t("Completed")&&submitHandlerId=="commonsave_save-button"){$("#"+submitHandlerId).click();
return;}var enrollmentStatus;var getStsLength=unique.length;if((isPricedClass==1)&&unique==Drupal.t("Canceled")){$("#show_expertus_message").html(expertus_error_message([Drupal.t("LBL1246")]));return;}if(getStsLength==1&&(unique==Drupal.t("Waived")||(unique==Drupal.t("Enrolled")&&submitHandlerId=="commonsave_save-button")||(unique==Drupal.t("In progress")&&submitHandlerId=="commonsave_save-button"))){$("#"+submitHandlerId).click();return;}if($("input[name="+usersList+"]").val()==""){$("#show_expertus_message").html(expertus_error_message([Drupal.t("ERR106")]));return;}else{if(learners.length==1){learners=$("#enroll_user_"+$("input[name="+usersList+"]").val()).val();}else{learners=learners.length+" "+Drupal.t("LBL3080");}}if(Type=="Class"){var cancelTitleLT=Drupal.t("Class");}else{var cancelTitleLT=Drupal.t("Training Plan");}switch(action){case"completedandsave":enrollmentStatus=Drupal.t("Completed");break;case"incompletedandsave":enrollmentStatus=Drupal.t("Incomplete");break;case"noshowandsave":enrollmentStatus=Drupal.t("No Show");
break;case"cancelledandsave":enrollmentStatus=Drupal.t("Canceled");break;default:enrollmentStatus="Common";break;}this.currTheme=Drupal.settings.ajaxPageState.theme;$("#complete-confirmation-wizard").remove();var html="";html+='<div id="complete-confirmation-wizard" style="display:none; padding: 13px;">';html+='<table width="99%" class="complete-confirmation-table" cellpadding="0" cellspacing="0" border="0" valign="center">';html+='<tr><td height="30"></td></tr>';html+="<tr>";if(action=="commonsave"){if(getStsLength==1&&learners.length>=1){if(unique=="Completed"){html+='<td align="center" id="complete-confirmation-content"><span>'+Drupal.t("MSG822",{"@learner_name":learners,"@status":Drupal.t("Completed"),"@objtype":cancelTitleLT})+"</span></td>";}else{if(unique=="Incomplete"){html+='<td align="center" id="complete-confirmation-content"><span>'+Drupal.t("MSG822",{"@learner_name":learners,"@status":Drupal.t("Incomplete"),"@objtype":cancelTitleLT})+"</span></td>";}else{if(unique=="Canceled"){html+='<td align="center" id="complete-confirmation-content"><span>'+Drupal.t("MSG822",{"@learner_name":learners,"@status":Drupal.t("Canceled"),"@objtype":cancelTitleLT})+"</span></td>";
}else{if(unique=="No Show"){html+='<td align="center" id="complete-confirmation-content"><span>'+Drupal.t("MSG822",{"@learner_name":learners,"@status":Drupal.t("No Show"),"@objtype":cancelTitleLT})+"</span></td>";}}}}}else{html+='<td align="center" id="complete-confirmation-content"><span>'+Drupal.t("MSG821",{"@learner_name":learners,"@objtype":cancelTitleLT})+"</span></td>";}}else{html+='<td align="center" id="complete-confirmation-content"><span>'+Drupal.t("MSG822",{"@learner_name":learners,"@status":enrollmentStatus,"@objtype":cancelTitleLT})+"</span></td>";}html+="</tr>";html+="</table>";html+="</div>";$("body").append(html);var confButton={};confButton[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#complete-confirmation-wizard").remove();};confButton[Drupal.t("Yes")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#complete-confirmation-wizard").remove();$("#"+submitHandlerId).click();};var messageLine;if(enrollmentStatus=="Common"){if(getStsLength==1&&learners.length>=1){if(unique=="Completed"){var messageLine=Drupal.t("LBL3081")+" "+Drupal.t("Completed");
}else{if(unique=="Incomplete"){var messageLine=Drupal.t("LBL3081")+" "+Drupal.t("Incomplete");}else{if(unique=="Canceled"){var messageLine=Drupal.t("LBL3081")+" "+Drupal.t("Canceled");}else{if(unique=="No Show"){var messageLine=Drupal.t("LBL3081")+" "+Drupal.t("No Show");}}}}}else{var messageLine=Drupal.t("LBL3082");}}else{var messageLine=Drupal.t("LBL3081")+" "+enrollmentStatus;}$("#complete-confirmation-wizard").dialog({position:[(getWindowWidth()-500)/2,100],autoOpen:false,bgiframe:true,width:500,resizable:false,modal:true,title:messageLine,buttons:confButton,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='complete-confirmation-wizard-dialog'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();changeDialogPopUI();$("#complete-confirmation-wizard").show();$("#complete-confirmation-wizard").dialog("open");}catch(e){}},refreshLastAccessedRow:function(gridRow){try{var rowFound=false;
var grid=$("#narrow-search-results-holder");if(gridRow===undefined){var gridRow=grid.jqGrid("getGridParam","lastAccessedRow");}if(gridRow!==undefined&&gridRow!=null&&typeof gridRow.id!="undefined"){var rowData=((typeof gridRow.id!="undefined"&&gridRow.id)?gridRow.id.split("-"):null);var options={data:{jqgrid_row_id:gridRow.id,page:1,rows:1}};grid.jqGrid("updateRowByRowId",options);rowFound=true;grid.jqGrid("setGridParam",{lastAccessedRow:null});}else{rowFound=false;}}catch(e){}return rowFound;}});$.extend($.ui.narrowsearch.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);window.paginationEnter=false;$("#add_lst_pg_txtfld").live("click onfocus mousedown",function(){$(this).keypress(function(event){if(event.keyCode==13){window.paginationEnter=true;}});});$(".enable-edit-icon").live("click mousedown",function(){window.paginationEnter=false;});$("form").live("keyup keypress",function(e){var charCode=e.charCode||e.keyCode||e.which;if(charCode==13&&e.target.nodeName!="TEXTAREA"){return false;
}});vtip();}catch(e){}})(jQuery);$(function(){try{$("#root-admin").narrowsearch();}catch(a){}});function editClassDetails(d,b){try{if($(".qtip-active").length>0){$(".qtip-active").remove();}$(".course-class-edit-qtip").remove();var a=$("#catalog-class-basic-addedit-form-"+b).is(":visible");$("#catalog-class-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").css("background-color","#FFFFFF");$(".edit-class-list").find(".admin-add-button-container").css("display","block");if(a==true){$("#catalog-class-basic-addedit-form-"+b).hide();}else{$("#catalog-class-basic-addedit-form-"+b).show();if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$("#edit-class-list-"+b).css("background-color","");}else{$("#edit-class-list-"+b).css("background-color","#d7ecf9");}}if($("#edit-catalog-course-basic-cancel")){$("#edit-catalog-course-basic-cancel").click();$(".qtip").find(".qtip-button > div").each(function(){var f=$(this).attr("id");if(f.indexOf("cre_sys_obt_crs")>0||f.indexOf("Course_close")>0||f.indexOf("PrintCerId")>0){$(this).closest(".qtip").remove();
}});}}catch(c){}}function editClassQTipOpen(a,b){try{var f=$("#catalog-course-basic-addedit-form").height();var d=Math.round(f-433+(80*b));$("#modal-content").scrollTop(d);if($("#"+a).hasClass("loaded-edit-class")){$("#"+a).click();}$("#"+a).addClass("loaded-edit-class");}catch(c){}}function editCourseDetailsView(){try{$("#catalog-class-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").find(".admin-add-button-container").css("display","block");if($("#edit-newtheme-cancel-link")){$("#edit-newtheme-cancel-link").click();}}catch(a){}}function editCustomAttributeDetailsView(){try{$("#customattribute-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").find(".admin-add-button-container").css("display","block");if($("#edit-newtheme-cancel-link")){$("#edit-newtheme-cancel-link").click();}}catch(a){}}function editLocationDetailsView(){try{$("#resource-facility-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").find(".admin-add-button-container").css("display","block");
if($("#edit-newtheme-cancel-link")){$("#edit-newtheme-cancel-link").click();}}catch(a){}}function editAttributesDetailsView(){try{$("#catalog-class-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").find(".admin-add-button-container").css("display","block");$(".admin-course-edit-button-container").hide();if($("#edit-newtheme-cancel-link")){$("#edit-newtheme-cancel-link").click();}}catch(a){}}function addClassDetails(c){try{var a=$("#catalog-class-basic-addedit-form-").is(":visible");$(".admin-course-edit-button-container").show();$("#catalog-class-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").css("background-color","#FFFFFF");if(a==true){$("#catalog-class-basic-addedit-form-").hide();$("#add-edit-class-norecords").show();}else{$(".edit-class-list").find(".admin-add-button-container").css("display","block");$("#catalog-class-basic-addedit-form-").show();$("#add-edit-class-norecords").hide();}if($("#edit-catalog-course-basic-cancel")){$("#edit-catalog-course-basic-cancel").click();
}}catch(b){}}function addFacilityDetails(b){try{var a=$("#resource-facility-basic-addedit-form-").is(":visible");$(".admin-course-edit-button-container").show();$("#resource-facility-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").css("background-color","#FFFFFF");if(a==true){$("#resource-facility-basic-addedit-form-").hide();$("#add-edit-facility-norecords").show();}else{$(".edit-class-list").find(".admin-add-button-container").css("display","block");$("#resource-facility-basic-addedit-form-").show();$("#add-edit-facility-norecords").hide();}if($("#edit-resource-location-basic-cancel")){$("#edit-resource-location-basic-cancel").click();}}catch(c){}}function editFacilityDetails(c,a){try{var b=$("#resource-facility-basic-addedit-form-"+a).is(":visible");$("#resource-facility-addedit-form-details .addedit-form-wrapper").hide();$(".edit-class-list").css("background-color","#FFFFFF");$(".edit-class-list").find(".admin-add-button-container").css("display","block");if(b==true){$("#resource-facility-basic-addedit-form-"+a).hide();
}else{$("#resource-facility-basic-addedit-form-"+a).show();if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$("#edit-facility-list-"+a).css("background-color","");}else{$("#edit-facility-list-"+a).css("background-color","#d7ecf9");}$("#edit-facility-list-"+a).find(".admin-add-button-container").css("display","none");}if($("#edit-resource-location-basic-cancel")){$("#edit-resource-location-basic-cancel").click();}}catch(d){}}function displayResourceActionList(){try{$(".resource-add-list").toggle();}catch(a){}}function displayPubActionList(b){try{b=typeof b!=="undefined"?b:"";if(b!=""){$("."+b).toggle();}else{$(".catalog-pub-add-list").toggle();}}catch(a){}}function displayNarrowSearchAction(c,b){try{$(".pub-action-list-"+c).toggle();$(b).closest("tr").prevAll("tr").find("td").find(".narrowsearch-pub-add-list").hide();$(b).closest("tr").nextAll("tr").find("td").find(".narrowsearch-pub-add-list").hide();}catch(a){}}function displayNotificationActionList(a){try{$(".catalog-pub-add-list").toggle();
if(!a){var a=window.event;}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation();}if(a.preventDefault){a.preventDefault();}return false;}catch(a){}}function showHide(c,d){try{var a=$(c).val();var a=$(c).parents("li").attr("id");displayResourceActionList();if(a=="attachment_fieldset"){$("#attachment-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="tag_fieldset"){$("#tag-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="prerequisite_fieldset"){$("#prerequisite-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="equivalence_fieldset"){$("#equivalence-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="survey_fieldset"){$("#survey-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="assessment_fieldset"){$("#assessment-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="session_detail_fieldset"){$("#session-details-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="wbt_detail_fieldset"){$("#wbt-fieldset-wrapper-"+d).removeClass("disable-class");
}else{if(a=="register_fieldset"){$("#register-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="class_register_fieldset"){$("#classregister-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="custom_fieldset"){$("#custom-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="classroom_fieldset"){$("#classroom-fieldset-wrapper-"+d).removeClass("disable-class");}else{if(a=="equipment_fieldset"){$("#equipment-fieldset-wrapper-"+d).removeClass("disable-class");}}}}}}}}}}}}}}catch(b){}}function selecteDropdown(){try{$(document).ready(function(){if(!$.browser.opera){$("select.select").each(function(){var b=$(".select").attr("title");if($("option:selected",this).val()!=""){b=$("option:selected",this).text();}$(this).css({"z-index":10,opacity:0,"-khtml-appearance":"none"}).after('<span class="showselect">'+b+"</span>").change(function(){val=$("option:selected",".select").text();$(".select").next().text(val);});});}});}catch(a){}}function hideMessageInfo(){try{setTimeout(function(){$(".messages").hide();
Drupal.ajax.prototype.commands.CtoolsModalAdjust(null,null,null);},10000);}catch(a){}}function increasePopWidth(){try{}catch(a){}}function textfieldTitleBlur(g,c,b,d){try{if(typeof(b)==="undefined"){b="";}if(typeof(d)==="undefined"){d="";}var a="";if(b!=""){a=$("#"+b).val();}if(g.value==""||g.value==c||g.value==a){if(a!=""){$(g).val(a);}else{$(g).val(c);if(d!=""){$("#hid_instructor_id").val("");}}$(g).addClass("input-field-grey");}else{$(g).removeClass("input-field-grey");}}catch(f){}}function textfieldTitleClick(f,c,b){try{if(typeof(b)==="undefined"){b="";}var a="";if(b!=""){a=$("#"+b).val();}if(f.value==c||(a!=""&&f.value==a)){$(f).val("");$(f).removeClass("input-field-grey");}}catch(d){}}function toEditInline(a,c){try{$("#"+a).addClass("edit-attachment-txtbox");$("#"+a).removeClass("non-editable-txt");$("#catalog-attachment-disp-container").find(".attachment-txt-box").each(function(){var d=$(this).attr("id");if((d==a)&&(c=="click")){$("#"+d).removeClass("edit-attachment-txtbox");$("#"+d).addClass("edit-attachment-txtbox");
$("#"+d).removeClass("non-editable-txt");}else{$("#"+d).removeClass("edit-attachment-txtbox");$("#"+d).removeClass("non-editable-txt");$("#"+d).addClass("non-editable-txt");}});}catch(b){}}function toEditAttachment(f,a){try{var d="blur";if(a=="label"){$("#attachment_list_label_"+f).hide();$("#attachment_list_edit_"+f).show();$("#attachment_list"+f).focus();d="click";}else{$("#attachment_list_edit_"+f).hide();$("#attachment_list_label_"+f).show();}var b="attachment_list"+f;$("#"+b).addClass("edit-attachment-txtbox");$("#"+b).removeClass("non-editable-txt");$("#catalog-attachment-disp-container").find(".attachment-txt-box").each(function(){var g=$(this).attr("id");if((g==b)&&(d=="click")){$("#"+g).removeClass("edit-attachment-txtbox");$("#"+g).addClass("edit-attachment-txtbox");$("#"+g).removeClass("non-editable-txt");}else{$("#"+g).removeClass("edit-attachment-txtbox");$("#"+g).removeClass("non-editable-txt");$("#"+g).addClass("non-editable-txt");}});}catch(c){}}function toEditAttachmentKeyDown(b){try{b=b||window.event;
var a=b.keyCode||b.which;if(a==13){$("#attachment_done_btn").click();b.preventDefault();return false;}}catch(c){}}function disableEnrterKey(b){try{var c=b||window.event;var a=c.keyCode||c.which||c.charCode;if(a==13){c.cancelBubble=true;c.returnValue=false;if(c.stopPropagation){c.stopPropagation();c.preventDefault();}return false;}}catch(d){}}function textfieldTitleChange(c){try{var a=c.options[c.selectedIndex].text;if(a=="Select"){$(c).removeClass("select-normal-text");$(c).addClass("select-greyed-out-text");}else{$(c).removeClass("select-greyed-out-text");$(c).addClass("select-normal-text");}}catch(b){}}function textfieldTitleChangeField(b){try{var a=$("#"+b+" option:selected").text();if(a=="Select"){$("#"+b).removeClass("select-normal-text");$("#"+b).addClass("select-greyed-out-text");}else{$("#"+b).removeClass("select-greyed-out-text");$("#"+b).addClass("select-normal-text");}}catch(c){}}function remove_messages(a){try{if(a=="class"){$("#catalog-class-addedit-form-details .messages").remove();
}else{if(a=="course"){$("#catalog-course-basic-addedit-form .messages").remove();}else{if(a=="location"){$("#resource-location-basic-addedit-form .messages").remove();}else{if(a=="facility"){$("#resource-facility-basic-addedit-form .messages").remove();}else{if(a=="profile"){$("#exp-sp-my-profile-form").remove();}else{if(a=="customattribute"){$("#customattribute-basic-addedit-form .messages").remove();}}}}}}}catch(b){}}function opt_sel_attach(b){try{if($("#edit-attachment-fieldset-attachment-attachment-radioname-"+b+"-url").attr("checked")){$("#attach_url_control"+b).show();$("#attach_browse_control"+b).hide();}else{$("#attach_url_control"+b).hide();$("#attach_browse_control"+b).show();}}catch(a){}}function getStatusReason(a,f){try{var c=$(a).attr("id");var b=$("#"+c+" option:selected").text().toLowerCase();if(b=="inactive"){$("#admin-status-inactive-part-"+f).show();}else{$("#admin-status-inactive-part-"+f).hide();}Drupal.ajax.prototype.commands.CtoolsModalAdjust();}catch(d){}}function changeDelTypeInAddClass(b){try{if(b!="lrn_cls_dty_ilt"){var a=$(".addedit-edit-new_location").attr("id");
$("#"+a).val("");$(".addedit-edit-new_location").attr("id");$("#"+a).val("");var d=$(".addedit-edit-max_seats").attr("id");$("#"+d).val("");}}catch(c){}}function changeDeliveryType(a){try{if(a=="lrn_cls_dty_vod"||a=="lrn_cls_dty_wbt"){$("#admin-class-delivery-data-part").hide();$("#admin-class-delivery-data-part-for-date").hide();$(".addedit-edit-min_seats").attr("readonly","readonly").addClass("admin-grey-out-fields");$(".addedit-edit-max_seats").attr("readonly","readonly").addClass("admin-grey-out-fields");$(".addedit-edit-waitlist_count").attr("readonly","readonly").addClass("admin-grey-out-fields");$("#admin-class-location-container").find("#edit-class-location").attr("readonly","readonly").addClass("admin-grey-out-fields");$(".addedit-edit-class_location").attr("disabled",true);$("#two-col-row-lang_code_status_status_temp .addedit-twocol-secondcol .addedit-mandatory").css("visibility","hidden");$("#two-col-row-regdate_deadlinedate .addedit-twocol-secondcol .addedit-mandatory").css("visibility","hidden");
$("#two-col-row-delivery_type_price .addedit-twocol-secondcol .addedit-mandatory").css("visibility","hidden");}else{$("#admin-class-delivery-data-part").show();$("#admin-class-delivery-data-part-for-date").show();$(".addedit-edit-min_seats").removeAttr("readonly").removeClass("admin-grey-out-fields");$(".addedit-edit-max_seats").removeAttr("readonly").removeClass("admin-grey-out-fields");$(".addedit-edit-waitlist_count").removeAttr("readonly").removeClass("admin-grey-out-fields");$("#two-col-row-regdate_deadlinedate .addedit-twocol-secondcol .addedit-mandatory").css("visibility","visible");$("#two-col-row-delivery_type_price .addedit-twocol-secondcol .addedit-mandatory").css("visibility","visible");if(a=="lrn_cls_dty_vcl"){$("#admin-class-location-container").find("#edit-class-location").attr("readonly","readonly").addClass("admin-grey-out-fields");$(".addedit-edit-class_location").attr("disabled",true);$("#two-col-row-lang_code_status_status_temp .addedit-twocol-secondcol .addedit-mandatory").css("visibility","hidden");
}else{if(a=="lrn_cls_dty_ilt"){$("#admin-class-location-container").find("#edit-class-location").removeAttr("readonly").removeClass("admin-grey-out-fields");$(".addedit-edit-class_location").attr("disabled",false);$("#two-col-row-lang_code_status_status_temp .addedit-twocol-secondcol .addedit-mandatory").css("visibility","visible");}else{$(".addedit-edit-class_location").attr("disabled",false);$("#two-col-row-lang_code_status_status_temp .addedit-twocol-secondcol .addedit-mandatory").css("visibility","hidden");}}}}catch(b){}}function displayLongDescription(c){try{if(c=="short_description"){var d=$(".admin-course-class-short-description").find(".addedit-new-field-value").height();if(d>=50){}}else{if(c=="long_description"){var a=$(".admin-course-class-long-description").find(".addedit-new-field-value").height();if(a>=50){}}}}catch(b){}}function limitTextareaChars(g,b){try{var a=$(".textformat-textarea-editor").val();var d="";var c="";if(a.length>b){d=a.substring(0,b);$(".textformat-textarea-editor").val(d);
}else{c=a.length;$("#char_count_"+g).html(c);}}catch(f){}}function limitCustomAttributeTextareaChars(g,b){try{var a=$("#"+g+"_textarea_full_row .textformat-textarea-editor").val();var d="";var c="";if(a.length>b){d=a.substring(0,b);$("#"+g+"_textarea_full_row .textformat-textarea-editor").val(d);$("#char_count_"+g).html(b);}else{c=a.length;$("#char_count_"+g).html(c);}}catch(f){}}function limitTextFieldChars(g,b){try{var a=$(".addedit-edit-textfield").val();var d="";var c="";if(a.length>b){d=a.substring(0,b);$(".addedit-edit-textfield").val(d);}else{c=a.length;$("#char_count_"+g).html(c);}}catch(f){}}function fillCancelReason(c){try{var a=$("#cancel_reason_"+c).val();$('input[name="hidden_cancel_reason"]').val(a);$("#qtipIdqtip_class_cancel_disp_"+c).closest(".qtip-active").remove();}catch(b){}}(function(a){a.fn.refreshVersionList=function(c){try{a("body").data("mulitselectdatagrid").createLoader("paint-class-search-results-datagrid");a("#admin-version-list-"+c+"-pagination").trigger("reloadGrid",[{page:1}]);
}catch(b){}};a.fn.putCustomLabelForContentAuthor=function(){putCustomLabelForContentAuthorWrapper();};a.fn.initializePresentationObjects=function(){initializePresentationObjectsWrapper();};a.fn.hideUploadVideoControlAndDisplayLabel=function(){hideUploadVideoControlAndDisplayLabelWrapper();};})(jQuery);(function(a){a.fn.refreshMoveUsersQtip=function(d,b){try{a('input[name="hidden_idlist_ContentMoveUsers-'+d+"-"+b+'"]').attr("value",0);a("#datagrid-container-ContentMoveUsers-"+d+"-"+b).trigger("reloadGrid",[{page:1}]);}catch(c){}};a.fn.closeMoveUsersQtip=function(){try{a(".qtip-active").remove();isPopupOpen=0;}catch(b){}};})(jQuery);(function(a){a.fn.attachClose=function(c,b,h){try{if(b=="cre_sys_obt_trp"||b=="cre_sys_obt_cur"||b=="cre_sys_obt_crt"||b=="cre_sys_obt_trn"){var l=c.split("-");c=l[0];a("#qtipAttachCrsIdqtip_visible_disp_"+c+"_"+b).closest(".qtip-active").remove();}else{if(b=="cre_sec"){a("#qtipAttachIdqtip_addusers_visible_disp_"+c+"_"+b).closest(".qtip-active").remove();}else{if(b=="admin-order"){a(".active-qtip-div").remove();
}else{a("#qtip_visible_disp_attach_question_"+c+"_"+b).closest(".qtip-active").remove();}}}if(b=="cre_sys_obt_trp"||b=="cre_sys_obt_cur"||b=="cre_sys_obt_crt"||b=="cre_sys_obt_trn"){var d=l[1];var k="";if(d!=""&&d!=undefined&&d!="undefined"&&(a("#module-list-"+d).index()>=0)){k=a("#module-list-"+d).index();}else{k=a("#page-container-tabs-prg .visible-main-tab:last").index();}if(a(".first-arrow").size()>0){k=k-1;}a("#page-container-tabs-prg").tabs("destroy");a("#page-container-tabs-prg").tabs({selected:k});var g=a("#program_attach_tabs .ui-state-active").attr("id");var j=g.split("-");moduleTabclick(j[2]);}}catch(f){}};})(jQuery);(function(a){a.fn.validateCustomFields=function(d,b){try{if(b==true){a("#"+d).show();}}catch(c){}};})(jQuery);(function(a){try{a.fn.validateCertificate=function(c){a('input:radio[name="attach_certificate"]').filter('[value="'+c+'"]').attr("checked",true);a("#certificate-display-table").jScrollPane({});};}catch(b){}})(jQuery);(function(a){try{a.fn.scrollPerm=function(c){a("#admin-add-scroll").jScrollPane({});
};}catch(b){}})(jQuery);(function(a){try{a.fn.scrollTag=function(c){a("#tag-scroll-id").jScrollPane({});};}catch(b){}})(jQuery);(function(a){try{a.fn.scrollView=function(c){a("#view-scroll-wrapper").jScrollPane({});vtip();if(a("#viewgroup-detail-wrapper").length){a("#modalContent .ctools-modal-content #ctools-face-table .popup-block-footer-right").css("right","45px");}};}catch(b){}})(jQuery);(function(a){try{a.fn.cancelClassDetails=function(d,c){a("#qtipAttachIdqtip_addlocation_visible_disp_"+d).closest(".qtip-active").remove();if(document.getElementById("qtipAttachIdqtip_addclass_visible_disp_"+d)){a("#qtipAttachIdqtip_addclass_visible_disp_"+d).closest(".qtip-active").remove();}if(document.getElementById("qtipAttachIdqtip_addclass_visible_disp_")){a("#qtipAttachIdqtip_addclass_visible_disp_").closest(".qtip-active").remove();}if(document.getElementById("qtip_editclass_visible_dispid_"+d)){a("#qtip_editclass_visible_dispid_"+d).closest(".qtip-active").remove();}if(!c&&c!=null&&c!=undefined){a("#edit-catalog-course-basic-cancel").click();
}a("#catalog-class-addedit-form-details .addedit-form-wrapper").hide();a(".edit-class-list").css("background-color","#FFFFFF");a(".edit-class-list").find(".admin-add-button-container").css("display","block");a("#catalog-class-basic-addedit-form-"+d).hide();};}catch(b){}})(jQuery);(function(a){a.fn.cancelFacilityDetails=function(b){try{a("#resource-facility-addedit-form-details .addedit-form-wrapper").hide();a(".edit-class-list").css("background-color","#FFFFFF");a(".edit-class-list").find(".admin-add-button-container").css("display","block");a("#resource-facility-basic-addedit-form-"+b).hide();}catch(c){}};})(jQuery);function clearMessages(){try{$(".messages").hide();}catch(a){}}function attachmentProvideUrl(){try{var b=$("#provide_url_id").is(":visible");if(b==true){$("#provide_url_id").hide();}else{$("#provide_url_id").show();}}catch(a){}}function bubblePopupClose(a){try{$("#"+a).remove();}catch(b){}}function removebubblePopup(){try{$(".qtip").remove();}catch(a){}}function attachSubmitUrl(){try{$("#attachment_done_btn").click();
}catch(a){}}function validateCustomFieldClass(){try{$("#userbasic-custom-fields").find(".input-field-grey").each(function(){var c=$(this).attr("id");var b=$("#"+c).val();if((b=="Enter a Label")||(b=="Enter a Value")){$("#"+c).removeClass("input-field-grey");$("#"+c).addClass("input-field-grey");}else{$("#"+c).removeClass("input-field-grey");}});}catch(a){}}function sequenceDragAndDrop(a,b){try{if(b=="attach_class_content"){$("#"+a+" tbody").sortable({handle:".dragndrop-selectable-item",cursor:"crosshair"});}else{$("#"+a).sortable({handle:".dragndrop-selectable-item",cursor:"crosshair"});}$("#"+a).droppable({drop:function(d,n){var h="";var j=new Array();var l=0;if(b=="attach_class_content"){var m=$("#"+a+" tr.ui-sortable-helper").attr("id");var o=$("#"+a+" tr.ui-sortable-placeholder").prev().attr("id");}else{var m=$("#"+a+" li.ui-sortable-helper").attr("id");var o=$("#"+a+" li.ui-sortable-placeholder").prev().attr("id");}var k=0;if(o==undefined){j[0]=m;k=1;l=1;}if(b=="attach_class_content"){$("#"+a+" tr.ui-widget-content").each(function(){if($(this).attr("id")!=m){j[l]=$(this).attr("id");
if($(this).attr("id")==o){l++;j[l]=m;}}l++;});}else{$("#"+a+" li.draggable-list").each(function(){if($(this).attr("id")!=m){j[l]=$(this).attr("id");if($(this).attr("id")==o){l++;j[l]=m;}}l++;});}h=j.join(",");var g=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;g.createLoader(a);var f=1;$.ajax({url:g.constructUrl("administration/sequence-drag-drop/"+b+"/"+h),async:false,success:function(s){g.destroyLoader(a);var t=j.filter(function(u){return u!=="";});var p=($("#dragndrop li.draggable-list").length)-1;var q=t.length;if(p==q){var r=0;for(r=0;r<q;r++){$("#dragndrop li[id="+t[r]+"]").removeClass("odd-even-row-highlighter");if(r%2==1){$("#dragndrop li[id="+t[r]+"]").addClass("odd-even-row-highlighter");}}}}});}});}catch(c){}}$("#mandatory-list .man-opt-selection").live("click",function(){try{if($(this).next().css("display")=="block"){$(this).next().css("display","none");}else{$(".sub-menu").hide();$(this).next().css("display","block");}}catch(a){}});$("#mandatory-list .sub-menu li").live("click",function(){try{var f=$(this).html();
$(this).parent().prev("span").prev("span").html(f);$(this).parent().css("display","none");var d=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;var a=$(this).attr("data");var b=1;d.createLoader("attach_course_dt");$.ajax({url:d.constructUrl("administration/update-attachedcourse-mandatory/"+a),async:false,success:function(g){d.destroyLoader("attach_course_dt");$("#root-admin").data("narrowsearch").refreshGrid();}});return false;}catch(c){}});$("#attach-question-mandatory-list .man-opt-selection").live("click",function(){try{if($(this).next().css("display")=="block"){$(this).next().css("display","none");}else{$(this).next().css("display","block");}}catch(a){}});$("#attach-question-mandatory-list .sub-menu li").live("click",function(){try{var f=$(this).html();$(this).parent().prev("span").prev("span").html(f);$(this).parent().css("display","none");var d=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;var a=$(this).attr("data");var b=1;d.createLoader("survey_attach_questions_dt");$.ajax({url:d.constructUrl("administration/update-attachedquestion-mandatory/"+a),async:false,success:function(g){d.destroyLoader("survey_attach_questions_dt");
}});return false;}catch(c){}});(function(a){a(".addedit-customfields-wrapper .custom-field-label").live("dblclick",function(){try{var d=a(this).attr("id");var b=d.replace("custom_label_custom_value_","custom_input_custom_value_");a("#"+d).hide();a("#"+b).show();a("#"+b+" input").focus();}catch(c){}});})(jQuery);function updateCustomLabelKeyDown(b,f,c,h,g){try{b=b||window.event;var a=b.keyCode||b.which;if(a==13){updateCustomLabel(f,c,h,g);b.preventDefault();return false;}}catch(d){}}function updateCustomLabel(b,g,a,j){try{var l=g.split("-");var k=l[0];var f=l[1];var c=l[2];var d=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;d.createLoader(j);$.ajax({type:"POST",async:false,url:d.constructUrl("administration/update-custom-fields/"+b+"/"+k),data:"",success:function(m){$("#custom_label_custom_value_"+a).html(m);$("#custom_input_custom_value_"+a).hide();$("#custom_label_custom_value_"+a).attr("title",b);$("#custom_label_custom_value_"+a).show();d.destroyLoader(j);},failure:function(){d.destroyLoader(wrapper);
}});}catch(h){}}function attachCrsDelete(b){try{if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var a={esignFor:"attachCrsDelete",objectId:b};$.fn.getNewEsignPopup(a);}else{$("#"+b).click();}}catch(c){}}function setQtipPosition(){try{if(document.getElementById("qtip_position")!=null){if($("#qtip_position").val()!=""){try{var c=$("#qtip_position").val().split("#");var d=$("#"+c[0]).css("height");var a=c[1];var b=c[2];d=parseInt(d.substring(0,d.length-2));a=a-(d-b);$("#"+c[0]).closest(".qtip-active").css("top",a);}catch(f){}}}}catch(f){}}function closeQtyp(c,h){try{var f;if(c.indexOf("addclass")>=0){f=0;var l=$("#bubble-face-table #empty_id").val();var d=$("#bubble-face-table #entity_value").val();if(l!=null&&l!=undefined&&l!=""){var b="?q=administration/catalogaccess/delete/"+l+"/"+d;$.ajax({type:"POST",url:b,data:"",success:function(n){k=n;}});}}else{f=c.substring(c.indexOf("dispid_")+7);}if(c.indexOf("addclass")>=0||c.indexOf("editclass")>=0){$("#admin-course-class-list-pagination-wrapper").empty().remove();
$("#paint-class-search-results-datagrid").empty().remove();var k=document.getElementById("enrollment_upload_done_btn_view");var m=document.getElementById("course_class_cancel_button");if(document.getElementById("attachment-addedit-form-html")){$("#attachment-addedit-form-html").attr("enctype","application/x-www-form-urlencoded");if(document.getElementById("attachment_upload_file")!=undefined&&document.getElementById("attachment_upload_file")!=null&&document.getElementById("attachment_upload_file")!=""){$("#attachment_upload_file").remove();}}else{if(k!=null&&k!=undefined&&k!=""){var g=document.getElementsByClassName("addedit-form");if(g.length>0){$(".addedit-form").attr("enctype","application/x-www-form-urlencoded");}if(document.getElementById("enrollment_upload_file_view")!=undefined&&document.getElementById("enrollment_upload_file_view")!=null&&document.getElementById("enrollment_upload_file_view")!=""){$("#enrollment_upload_file_view").remove();}if(document.getElementById("enrollment_upload_file")!=undefined&&document.getElementById("enrollment_upload_file")!=null&&document.getElementById("enrollment_upload_file")!=""){$("#enrollment_upload_file").remove();
}}else{if(m!=null&&m!=undefined&&m!=""){var g=document.getElementsByClassName("addedit-form");if(g.length>0){$(".addedit-form").attr("enctype","application/x-www-form-urlencoded");}if(document.getElementById("enrollment_upload_file_view")!=undefined&&document.getElementById("enrollment_upload_file_view")!=null&&document.getElementById("enrollment_upload_file_view")!=""){$("#enrollment_upload_file_view").remove();}if(document.getElementById("enrollment_upload_file")!=undefined&&document.getElementById("enrollment_upload_file")!=null&&document.getElementById("enrollment_upload_file")!=""){$("#enrollment_upload_file").remove();}if(document.getElementById("course_class_cancel_button")!=undefined&&document.getElementById("course_class_cancel_button")!=null&&document.getElementById("course_class_cancel_button")!=""){$("#course_class_cancel_button").click();}}}}removeQtip(f);if(window.location.href.indexOf("admincalendar")>0){$(".close").click();adminCalCloseHandler("classaddedit");}}if(c.indexOf("addtemplate")>=0||c.indexOf("edittemplate")>=0){$("#notify_template_cancel_button").click();
removeClassQtip();}if(c.indexOf("MoveUsersqtip")>=0){var a=c.split("_");isPopupOpen=0;$.fn.refreshVersionList(a[3]);}$("#"+c+"_disp").html("");$("#"+c+"_disp").closest(".qtip-active").hide();if(c=="qtipAttachIdqtip_listvalues_visible_disp_0_cre_usr_dpt"||c=="qtipAttachIdqtip_listvalues_visible_disp_0_cre_usr_etp"||c=="qtipAttachIdqtip_listvalues_visible_disp_0_cre_usr_jrl"||c=="qtipAttachIdqtip_listvalues_visible_disp_0_cre_usr_jtl"||c=="qtipAttachIdqtip_listvalues_visible_disp_0_cre_usr_ptp"){$(".page-administration-people-setup #add_lst_pg_next,.page-administration-people-setup #add_lst_pg_previous,.page-administration-people-setup #add_lst_pg_last,.page-administration-people-setup #add_lst_pg_first,.page-administration-people-setup #add_lst_pg_txtfld,.page-administration-people-setup #listvalues-autocomplete,.page-administration-people-setup #search_listvalues").removeAttr("style");}}catch(j){}}function setWordCountDiv(b){try{setTimeout(function(){try{var f;var c=CKEDITOR.instances[b];
if(c!=null&&c!=undefined&&c!="undefined"){f=(c.element.$.name).split("[");if(!document.getElementById("cke_wordcount_"+c.name)){$("#char_count_"+f[0]).html('<div id="cke_wordcount_'+c.name+'" style="display: inline-block; float: right; text-align: right; margin-top: 0px; cursor:auto; font:10px helvetica neue,helvetica,arial; height:auto; padding:0; text-align:left; text-decoration:none; vertical-align:baseline; white-space:nowrap; width:auto;color:#666666;">'+$("#char_count_"+f[0]).html()+"</div>");}}}catch(d){}},4000);}catch(a){}}function removeAllQtip(){try{$(".qtip").remove();}catch(a){}}function removeQtip(b){try{if(b==-1){$("#qtipAttachIdqtip_addlocation_visible_disp__close").closest(".qtip").remove();}else{if(b==0){$("#course_class_cancel_button").click();$("#qtipAttachIdqtip_addclass_visible_disp__close").closest(".qtip").remove();$("#qtipAttachIdqtip_addlocation_visible_disp__close").closest(".qtip").remove();}else{$("#course_class_cancel_button").click();$("#qtipAttachIdqtip_addlocation_visible_disp_"+b+"_close").closest(".qtip").remove();
}}removeClassQtip();}catch(a){}}function removeClassQtip(){try{$(".qtip").find(".qtip-button > div").each(function(){var b=$(this).attr("id");if(b.indexOf("cre_sys_obt_cls")>0||b.indexOf("Class_close")>0){$(this).closest(".qtip").remove();}});}catch(a){}}(function(a){a.fn.addCustomGrayConversion=function(b){try{a(".addedit-customfields-wrapper").find(".input-field-grey").each(function(){var f=a(this).attr("id");var d=a("#"+f).val();if((d=="Enter a Label")||(d=="Enter a Value")){a("#"+f).removeClass("input-field-grey");a("#"+f).addClass("input-field-grey");}else{a("#"+f).removeClass("input-field-grey");}});}catch(c){}};a("body").click(function(b){try{if(a(b.target).hasClass("exp-timepicker")!=true){a(".exp-timepicker-selection").css("display","none");}}catch(c){}});})(jQuery);$("body,#admin-add-course-training-plan .ui-widget-content").bind("click",function(a){try{if(a.target.id!="admin-dropdown-arrow"){$("#select-list-course-dropdown-list").hide();$("#select-list-class-dropdown-list").hide();
$("#select-list-surass-dropdown-list").hide();}}catch(b){}});$("body").bind("mousedown",function(b){try{var a=window.location.href.split("/?q=");if((b.target.nodeName=="SELECT")||(b.target.nodeName=="INPUT")||(b.target.nodeName=="TEXTAREA")||(b.target.nodeName=="A"&&a[1]!="administration/order/create")||(b.target.nodeName=="SPAN"&&a[1]!="administration/order/create")||(b.target.nodeName=="LI")){$("#message-container").remove();}}catch(c){}});$("#location-list .top-select").live("click",function(){try{if($(".sub-menu-list").css("display")=="inline-block"){$(".sub-menu-list").css("display","none");$(".add-location-cls").css("display","none");}else{var b=$("ul.sub-menu-list").width();if($.browser.msie&&parseInt($.browser.version,10)===7){var a=b+37;}else{var a=b+10;}$(".sub-menu-list").css("display","inline-block");$(".add-location-cls").css("width",+a+"px");$(".add-location-cls").css("display","block");}}catch(c){}});$("#location-list .sub-menu-list li").live("click",function(){try{var c=$(this).html();
$("#location-input-txt").val(c);$(this).parent().css("display","none");$(".add-location-cls").css("display","none");var a=$(this).attr("data");$('input[name$="class_location"]').val(a);return false;}catch(b){}});(function(a){try{a.fn.classCreateLocation=function(d,f,c){a("#newlocationpaint").append("<li data="+d+" title='"+f+"'>"+f+"</li>");a("#location-list .sub-menu-list li ").click();sortUnorderedList("newlocationpaint");};}catch(b){}})(jQuery);function sortUnorderedList(f,a){try{if(typeof f=="string"){f=document.getElementById(f);}var c=f.getElementsByTagName("LI");var g=[];for(var d=0,b=c.length;d<b;d++){g.push(c[d].innerHTML);}g.sort();if(a){g.reverse();}for(var d=0,b=c.length;d<b;d++){c[d].innerHTML=g[d];}}catch(h){}}if(!document.getElementById("location-list")){try{$("body").click(function(a){if($(a.target).hasClass("add-location-cls")!=true){$(".sub-menu-list").css("display","none");$(".add-location-cls").css("display","none");}});}catch(e){}}function handlePostLoadDropdown(c,a){try{$("#"+c).hide();
$("#"+a).show();}catch(b){}}function searchClassNameFilter(h,d,c){try{var g=this;var b="#admin-course-class-list-"+h+"-pagination_toppager";var a='$("#root_admin").data("narrowsearch")';}catch(f){}}function onlyNumbers(b){try{var a=(b.which)?b.which:b.keyCode;if(a==8||a==9||a==46||(a>=37&&a<=40)||(a>=48&&a<=57)||(a>=96&&a<=105)){return true;}else{return false;}}catch(c){}}function onlyNumbersforPrice(b){try{var a=(b.which)?b.which:b.keyCode;if(a==8||a==9||a==46||a==110||(a>=37&&a<=40)||(a>=48&&a<=57)||(a>=96&&a<=105)){return true;}else{return false;}}catch(c){}}function changeLocationFocus(b){try{if(b=="deltype"){$(".addedit-edit-delivery_type").focusout();}else{$(".addedit-edit-title").focusout();}}catch(a){}}function autoFocusFirstField(){try{$("form").find("select,textarea,input[type=text]").filter(":visible:first").focusout();}catch(a){}}function getMeetingDetails(b){try{$(".active-qtip-div").remove();}catch(a){}}function checkedAll(a,c){try{if($(a).attr("checked")==true){$(".attach-permission-cls").each(function(){$(this).attr("checked",true);
$(this).parent("td").removeClass("checkbox-unselected").addClass("checkbox-selected");});}else{$(".attach-permission-cls").each(function(){$(this).attr("checked",false);$(this).parent("td").removeClass("checkbox-selected").addClass("checkbox-unselected");});}}catch(b){}}function uncheckAllPermission(){try{var b=true;var d="checkbox-unselected";var a="checkbox-selected";$(".attach-permission-cls").each(function(){if($(this).attr("checked")==false){b=false;d="checkbox-selected";a="checkbox-unselected";}});$("#select-all-checkbox").attr("checked",b);$("#select-all-checkbox").parent().removeClass(d);$("#select-all-checkbox").parent().addClass(a);}catch(c){}}function scorllMainTabPrev(){try{var b=$("#sort-bar-V2 .AdminsublinktabNavigation li").size();var a=$("#sort-bar-V2 .visible-main-tab:first").index();if(a==1){return"";}$("#sort-bar-V2 ul li:eq("+(a-1)+")").removeClass("hidden-main-tab");$("#sort-bar-V2 ul li:eq("+(a-1)+")").addClass("visible-main-tab");$("#sort-bar-V2 .visible-main-tab:last").removeClass("visible-main-tab").addClass("hidden-main-tab");
}catch(c){}}function scorllMainTabNext(){try{var b=$("#sort-bar-V2 .AdminsublinktabNavigation li").size();var a=$("#sort-bar-V2 .visible-main-tab:last").index();if(a==(b-2)){return"";}if(b>a){$("#sort-bar-V2 ul li:eq("+(a+1)+")").removeClass("hidden-main-tab");$("#sort-bar-V2 ul li:eq("+(a+1)+")").addClass("visible-main-tab");$("#sort-bar-V2 .visible-main-tab:first").removeClass("visible-main-tab").addClass("hidden-main-tab");}}catch(c){}}function resetMainTab(){try{var b=$("#sort-bar-V2 .selected").index();var d=$("#sort-bar-V2 .visible-main-tab:last").index();if($("#sort-bar-V2 .selected").css("display")=="none"){for(var a=d;a<b;a++){scorllMainTabNext();}}}catch(c){}}function deleteOrderLineItem(c,a){try{$("input[name=lineitem_nid]:hidden").val(c);$("input[name=lineitem_enrid]:hidden").val(a);$("input[name = 'pay_lineitem_canceled']").click();}catch(b){}}function checkboxSelectedUnselectedMultiParent(b){try{if($(b).is(":checked")){$(b).parents().eq(1).removeClass("survey-checkbox-unselected");
$(b).parents().eq(1).addClass("survey-checkbox-selected");}else{$(b).parents().eq(1).removeClass("survey-checkbox-selected");$(b).parents().eq(1).addClass("survey-checkbox-unselected");}}catch(a){}}function checkboxSelectedUnselectedAddInf(b){try{if($(b).is(":checked")){$(b).parents().eq(1).removeClass("checkbox-unselected");$(b).parents().eq(1).addClass("checkbox-selected");}else{$(b).parents().eq(1).removeClass("checkbox-selected");$(b).parents().eq(1).addClass("checkbox-unselected");}}catch(a){}}jQuery(function(b){try{var a=b("html").attr("xml:lang");b.datepicker.regional[a]={prevText:Drupal.t("LBL692"),nextText:Drupal.t("LBL693")};b.datepicker.setDefaults(b.datepicker.regional[a]);}catch(c){}});(function(a){try{a.fn.getScrollDive=function(){var c=a("#scrolldiv").height();if(c>80){a("#catalog-attachment-disp-container #scrolldiv").css("height","100px");a("#catalog-attachment-disp-container #scrolldiv").jScrollPane({});}vtip();};}catch(b){}})(jQuery);(function(a){try{a.fn.cloneScrollPopup=function(d){var c=a("#clonescrolldiv"+d).height();
if(c>80){a("#clonescrolldiv"+d).jScrollPane({});}};}catch(b){}})(jQuery);jQuery("#classdaterange-daterange-from-date,#classdaterange-daterange-to-date").live("click",function(){try{jQuery("#ui-datepicker-div").parent("div").removeClass("datepicker-maincontainer");jQuery("#ui-datepicker-div").parent("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parent("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("datepicker-maincontainer");}catch(a){}});jQuery("#edit-reg-end-date,.addedit-edit-reg_end_date").live("click",function(){try{var b=$(".narrow-search-filterset-radio-selected").find("#radio_Class").val();var a=$(".narrow-search-filterset-radio-selected").find("#radio_Course").val();if(b=="Class"){jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");
jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("edit-datepicker-maincontainer");}else{if(a=="Course"){jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("add-datepicker-maincontainer");}else{jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");
jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");}}}catch(c){}});jQuery("#start_date").live("click",function(){try{var b=$(".narrow-search-filterset-radio-selected").find("#radio_Class").val();var a=$(".narrow-search-filterset-radio-selected").find("#radio_Course").val();if(b=="Class"){jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("add-sessions-date");$("#ui-datepicker-div").css("z-index","10000");
}else{if(a=="Course"){jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("add-sessions-date");$("#ui-datepicker-div").css("z-index","10000");}}}catch(c){}});function datepickerAddEdit(){try{var b=$(".narrow-search-filterset-radio-selected").find("#radio_Class").val();var a=$(".narrow-search-filterset-radio-selected").find("#radio_Course").val();if(b=="Class"){jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");
jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("add-sessions-date");$("#ui-datepicker-div").css("z-index","10000");}else{if(a=="Course"){jQuery("#ui-datepicker-div").parents("div").removeClass("datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("edit-datepicker-maincontainer");jQuery("#ui-datepicker-div").parents("div").removeClass("add-sessions-date");jQuery("#ui-datepicker-div").wrapAll(document.createElement("div"));jQuery("#ui-datepicker-div").parent("div").addClass("add-sessions-date");$("#ui-datepicker-div").css("z-index","10000");}}$("#end_date , #start_date").bind("change",function(){if($("#end_date").val()!=""&&$("#end_date").val()!=undefined&&$("#start_date").val()!=""&&$("#start_date").val()!=undefined&&($("#start_date").val()!="mm-dd-yyyy"||$("#end_date").val()!="mm-dd-yyyy")){if($("#start_date").val()==$("#end_date").val()){$(".weekday-checkbox-input").attr("checked",false);
$(".weekday-checkbox-input").parent().removeClass("checkbox-selected");$(".weekday-checkbox-input").parent().addClass("checkbox-unselected");$(".weekday-checkbox-input").attr("disabled",true);$(".session_det_eachday").addClass("greyoutcheckbox");}else{$(".weekday-checkbox-input").removeAttr("disabled");$(".session_det_eachday").removeClass("greyoutcheckbox");}if($("#start_date").val()!="mm-dd-yyyy"&&$("#end_date").val()!="mm-dd-yyyy"){var h=$("#start_date").val();var d=$("#end_date").val();var g=getCountOf(h,d);for(var f in g){if(g[f]==0){$("#"+f).attr("checked",false);$("."+f).removeClass("checkbox-selected");$("."+f).addClass("checkbox-unselected");$("#"+f).attr("disabled",true);$("#"+f+"-text").addClass("greyoutcheckbox");}}}}});}catch(c){}}function parseDate(a){var b=a.split("-");return new Date(b[2],b[0]-1,b[1]);}function getCountOf(l,k){var c=parseDate(l);var b=parseDate(k);var d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var h=[];
for(var g=0;g<f.length;g++){var a=d.indexOf(f[g]);var j=0;while(c.getTime()<=b.getTime()){if(c.getDay()==a){j++;}c.setDate(c.getDate()+1);}c=parseDate(l);h[f[g]]=j;}return h;}$("body").live("click",function(a){try{$(".add-session-popup-list").css("display","");if(a.target.className!="add-another-arrow-link"){$(".add-session-popup-list").hide();}}catch(b){}});$(".add-more-session-list li").live("click",function(){try{if(navigator.userAgent.indexOf("Chrome")>=0){var a=$(".session-add-another-popup-container").find("span.chosen-meeting-type").css("width");$(this).css("width",a);}}catch(b){}});function updatePaginationCookie(d){try{var c=EXPERTUS_SMARTPORTAL_AbstractManager.getCookie("current_page");if(c!=""){var f=c.split("~");(d==1)?f[0]=f[0].replace("#0","#1"):f[1]=f[1].replace("#0","#1");var a=f[0]+"~"+f[1]+"~"+f[2];document.cookie="current_page="+a+"; path=/";}}catch(b){}}function manageDropdown(){try{showHideDropDown();var b=$(".grey-btn-bg-right");var a=b.position();$("#manage-dd-list").css("left",a.left-110);
}catch(c){}}function createDropdown(){try{showHideDropDowncreate();var b=$(".pink-btn-bg-right");var a=b.position();$("#create-dd-list").css("left",a.left-75);}catch(c){}}function createCustomAttributeDropdown(a){try{var d="create-dd-list-for-"+a;var b=$(".addedit-customattributes-wrapper #create-dd-list."+d).css("visibility");if(b=="hidden"){$(".addedit-customattributes-wrapper #create-dd-list."+d).css("visibility","visible");$(".addedit-customattributes-wrapper #create-dd-list."+d).css("display","block");}else{$(".addedit-customattributes-wrapper #create-dd-list."+d).css("visibility","hidden");$(".addedit-customattributes-wrapper #create-dd-list."+d).css("display","none");}}catch(c){}}function clickCustomAttributeDropdown(a,d){try{if(a!=""){var c="";var b="";if(a=="cattr_type_checkbox"){c=Drupal.t("LBL2006");b="new-customattribute-wrapper-checkbox";}else{if(a=="cattr_type_dropdown"){c=Drupal.t("LBL2007");b="new-customattribute-wrapper-dropdown";}else{if(a=="cattr_type_radio"){c=Drupal.t("LBL2008");
b="new-customattribute-wrapper-radio";}else{if(a=="cattr_type_txtarea"){c=Drupal.t("LBL2010");b="new-customattribute-wrapper-textarea";}else{if(a=="cattr_type_txtbox"){c=Drupal.t("LBL2009");b="new-customattribute-wrapper-textbox";}}}}}if(c!=""){c=Drupal.t("LBL287")+" "+c;$(".new-customattribute-link-for-"+d).html(c);$(".addedit-customattributes-wrapper .addedit-form-cancel-container-actions").attr("id",b);var g="create-dd-list-for-"+d;$(".addedit-customattributes-wrapper #create-dd-list."+g).css("display","none");$(".addedit-customattributes-wrapper #create-dd-list."+g).css("visibility","hidden");}}}catch(f){}}function closeCustomAttributeQtip(a){try{$(".qtip-popup-visible").html("").hide();if(a=="1"){$(".hidden-save-addedit-entityform").click();}}catch(b){}}function orderQtipVisible(g){try{var b=resource.base_host+"?q="+g.url;var c=g.popupDispId;var a=g.entityId;var d=g.scrollid;$.ajax({type:"GET",url:b,data:"",success:function(j){$("#"+c+" #visible-popup-"+a+" #bubble-face-table .bubble-c #paintContent"+c).html(j.render_content_main);
$.extend(true,Drupal.settings,j.drupal_settings);EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("paintContent"+c);if(d!=""&&d!=undefined&&d!=null){var h=(g.scrolltype=="class")?".":"#";$("#"+c+" "+h+d).jScrollPane("destroy");$("#"+c+" "+h+d).jScrollPane({});}Drupal.attachBehaviors();}});}catch(f){alert(f);}}function showHideDropDown(){try{var a=$("#manage-dd-list").css("visibility");if(a=="hidden"){$("#manage-dd-list").css("visibility","visible");$("#download_template").css("visibility","hidden");$("#download_template_enroll").css("visibility","hidden");}else{$("#manage-dd-list").css("visibility","hidden");$("#download_template").css("visibility","hidden");$("#download_template_enroll").css("visibility","hidden");}}catch(b){}}function showHideDropDowncreate(){try{var a=$("#create-dd-list").css("visibility");if(a=="hidden"){$("#create-dd-list").css("visibility","visible");}else{$("#create-dd-list").css("visibility","hidden");}}catch(b){}}$("body").live("click",function(a){try{$("#manage-dd-list").css("display","");
if(a.target.className=="info-user-upload vtip"){$("#manage-dd-list").css("visibility","visible");$("#manage-dd-list").css("display","block");$("#manage-dd-list").show();}else{if(a.target.className=="info-roster-upload vtip"){$("#manage-dd-list").css("visibility","visible");$("#manage-dd-list").css("display","block");$("#manage-dd-list").show();}else{if(a.target.className!="grey-btn-bg-right"){$("#manage-dd-list").css("visibility","hidden");$("#manage-dd-list").hide();}}}$("#create-dd-list").css("display","");if(a.target.className!="pink-btn-bg-right"&&a.target.className!="customattr-btn-bg-right"){$("#create-dd-list").hide();}}catch(b){}});$("body").live("click",function(a){try{classList=a.target.className.split(" ");if(a.target.className!="form-checkbox"&&a.target.className!="tab-title"&&a.target.className!="manage-clone-list"&&a.target.className!="clone-label-list"&&a.target.className!="clone-list-class"&&a.target.className!="select-all-wrapper"&&classList[0]!=("jspDrag")&&a.target.className!="jspTrack"){$(".manage-clone-list").hide();
$(".manage-clone-list").css("visibility","hidden");}}catch(b){}});$(".searchtext, #narrow-search-text-filter, #search_leaderboard-users_txt, #search_users_txt, #classname-autocomplete, .narrow-search-ac-text-overlap, .searchtag, .searchlocation, #tpattchedcoursename-autocomplete, #username-search-autocomplete, #surassattchedquestions-autocomplete, #countrylist-autocomplete, #enrolluser-autocomplete, #enrolltpuser-autocomplete,#prerequisite-autocomplete,#equivalence-autocomplete,#survey-autocomplete,#assessment-autocomplete,#srch_criteria_catkeyword,#report_table_autocomplete").live("click",function(){try{if(Drupal.settings.ajaxPageState.theme=="expertusone"&&($.browser.msie&&$.browser.version>7)){var c=this;var d=$(this).attr("id");var a=$(this).attr("class");var b=a.split(" ");$(c).val("");$(c).parent("div").css("position","relative");$(c).closest("div.report-table-search-container").css("position","relative");$(c).next(".loader-hidder").remove();$(".loader-hidder").remove();$(c).next(".widget-loader-hidder").remove();
$(".widget-loader-hidder").remove();$(c).next(".narrowfilter-loader-hidder").remove();$(".narrowfilter-loader-hidder").remove();$(c).next(".crecls-loader-hidder").remove();$(".crecls-loader-hidder").remove();$(c).next(".countrysett-loader-hidder").remove();$(".countrysett-loader-hidder").remove();$(c).next(".selectCls-loader-hidder").remove();$(".selectCls-loader-hidder").remove();$(c).next(".reportsLTbl-loader-hidder").remove();$(".reportsLTbl-loader-hidder").remove();$(c).after("<div class='loader-hidder'>&nbsp;</div>");c.onkeydown=function(g){g=g||window.event;$(".loader-hidder,.widget-loader-hidder, .crecls-loader-hidder, .narrowfilter-loader-hidder, .selectCls-loader-hidder").css({"background-position":"100% -17px",cursor:"none"});if(d=="countrylist-autocomplete"||d=="enrolluser-autocomplete"||d=="enrolltpuser-autocomplete"||d=="prerequisite-autocomplete"||d=="equivalence-autocomplete"||d=="survey-autocomplete"||d=="assessment-autocomplete"){$(".countrysett-loader-hidder").css({"background-position":"99% -16px",cursor:"none"});
}if(b[1]=="narrow-search-ac-text-overlap"||b[1]=="searchtag"||b[1]=="searchlocation"){$(".narrowfilter-loader-hidder").css({"background-position":"100% -17px",cursor:"none"});}};c.onkeyup=function(g){g=g||window.event;$(".loader-hidder, .widget-loader-hidder, .crecls-loader-hidder, .narrowfilter-loader-hidder, .selectCls-loader-hidder").css("background-position","100% 3px");if(d=="countrylist-autocomplete"||d=="enrolluser-autocomplete"||d=="enrolltpuser-autocomplete"||d=="prerequisite-autocomplete"||d=="equivalence-autocomplete"||d=="survey-autocomplete"||d=="assessment-autocomplete"){$(".countrysett-loader-hidder").css({"background-position":"99% 5px",cursor:"none"});}if(b[1]=="narrow-search-ac-text-overlap"||b[1]=="searchtag"||b[1]=="searchlocation"){$(".narrowfilter-loader-hidder").css({"background-position":"100% 3px",cursor:"none"});}};if(d=="countrylist-autocomplete"||d=="enrolluser-autocomplete"||d=="enrolltpuser-autocomplete"||d=="prerequisite-autocomplete"||d=="equivalence-autocomplete"||d=="survey-autocomplete"||d=="assessment-autocomplete"){$(".loader-hidder").addClass("countrysett-loader-hidder");
$(".countrysett-loader-hidder").removeClass("loader-hidder");if(d=="enrolluser-autocomplete"||d=="enrolltpuser-autocomplete"){$(".countrysett-loader-hidder").css({right:"1px"});}if(d=="prerequisite-autocomplete"||d=="equivalence-autocomplete"||d=="survey-autocomplete"||d=="assessment-autocomplete"){$(".countrysett-loader-hidder").css({right:"1px"});}}if(d=="search_leaderboard-users_txt"||d=="search_users_txt"){$(".loader-hidder").addClass("widget-loader-hidder");$(".widget-loader-hidder").removeClass("loader-hidder");}if(d=="classname-autocomplete"||d=="tpattchedcoursename-autocomplete"||d=="username-search-autocomplete"||d=="surassattchedquestions-autocomplete"){$(".loader-hidder").addClass("crecls-loader-hidder");$(".crecls-loader-hidder").removeClass("loader-hidder");if(d=="tpattchedcoursename-autocomplete"){$(".crecls-loader-hidder").css({right:"1px",top:"-10px"});}if(d=="surassattchedquestions-autocomplete"){$(".crecls-loader-hidder").css({right:"56px",top:"-10px"});}if(d=="classname-autocomplete"){$(".crecls-loader-hidder").css("right","23px");
}}if(d=="srch_criteria_catkeyword"){$(".loader-hidder").addClass("selectCls-loader-hidder");$(".selectCls-loader-hidder").removeClass("loader-hidder");}if(d=="report_table_autocomplete"){$(".loader-hidder").addClass("reportsLTbl-loader-hidder");$(".reportsLTbl-loader-hidder").removeClass("loader-hidder");}if(b[1]=="narrow-search-ac-text-overlap"||b[1]=="searchtag"||b[1]=="searchlocation"){$(".loader-hidder").addClass("narrowfilter-loader-hidder");$(".narrowfilter-loader-hidder").removeClass("loader-hidder");if(b[1]=="searchtag"||b[1]=="searchlocation"){$(".narrowfilter-loader-hidder").css({right:"21px",height:"19px"});}}}}catch(f){}});Drupal.ajax.prototype.commands.saveandclosePopup=function(c,b,a){try{$(".active-qtip-div").remove();$("#popup_container_qtip_buisness_disp_"+b.entities).closest(".qtip-active").remove();$("#qtipAccessqtip_visible_disp_"+b.entities).closest(".qtip-active").remove();}catch(d){}};Drupal.ajax.prototype.commands.displaymessagewizard=function(j,b,c){try{this.currTheme=Drupal.settings.ajaxPageState.theme;
var d=b.grpId;$("#delete-msg-wizard").remove();var f="";f+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';f+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';var h=Drupal.t("MSG711");if(this.currTheme=="expertusoneV2"){f+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+h+"</td></tr>";}else{f+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+h+"</td></tr>";}f+="</table>";f+="</div>";$("body").append(f);var k={};k[Drupal.t("LBL109")]=function(){$('input[id="show_catag"]').attr("value",0);$("input[name = 'saveandshow']").click();$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var a={popupDiv:"catalog-publish-unpublis-dialog",esignFor:"displaymessagewizard",catalogId:d,catalogType:"Class",actionStatus:"lrn_cls_sts_atv",rowObj:this};k[Drupal.t("Yes")]=function(){$.fn.getNewEsignPopup(a);$(this).dialog("destroy");
$(this).dialog("close");$("#delete-msg-wizard").remove();};}else{k[Drupal.t("Yes")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();setTimeout(function(){$("#visible-class-"+d).click();},300);};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL749"),buttons:k,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".removebutton").text(Drupal.t("No"));$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");
}$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}catch(g){}};function orderEdit(){try{setTimeout(function(){var b=$(".payment-billing-details-info .order-review-table tr,.payment-user-details-info .order-review-table tr").length;for(var d=0;d<b;d++){var f=$(".payment-billing-details-info .order-review-table tr:eq("+d+")").height();var g=$(".payment-user-details-info .order-review-table tr:eq("+d+")").height();var c=(f<g)?g:f;$(".payment-billing-details-info .order-review-table tr:eq("+d+"), .payment-user-details-info .order-review-table tr:eq("+d+")").height(c);}},1000);vtip();}catch(a){}}function checkPaginationWidth(){try{if($("#admin-data-grid .ui-pg-table .ui-pg-table").is(":visible")){var a=$("#admin-data-grid .ui-pg-table .ui-pg-table").width();$("#exportcontainer").css("right",a+15);if(document.getElementById("enrollment-upload-container")!==undefined){if(Drupal.settings.ajaxPageState.theme!="expertusoneV2"&&a>0){$(".admin_ac_input_mainform.addedit-edit-enrolluser-autocomplete").width(195);
}$("#enrollment-upload-container").css("right",a+15);}}}catch(b){}}(function(a){a.fn.cloneDestroyloader=function(){try{a("#root-admin").data("narrowsearch").destroyLoader("paint-narrow-search-results");}catch(b){}};})(jQuery);Drupal.ajax.prototype.commands.showClonePopup=function(f,c,b){try{classId=c.class_id;$("#manage-clone-list"+classId).html(c.html);showHideCreateCopyDropDown(classId);var d=$(".grey-btn-bg-right-create-copy");var a=d.position();this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){$("#ul-clone-list-"+classId).css("right","-25px");}else{$("#ul-clone-list-"+classId).css("right","-25px");$("#ul-clone-list-"+classId).css("top","30px");}$(".contentauthorclone").parent().parent().parent().parent().css("width","180px");$(".contentauthorclone .jspContainer").css("width","180px");$(".contentauthorclone .jspContainer .jspPane").css("width","170px;");$(".contentauthorclone .jspContainer .jspPane").css("height","66px;");$(".contentauthorclone").closest(".manage-clone-list").css("width","170px;");
$(". contentauthorclone").css("width","200px");Drupal.attachBehaviors();vtip();}catch(g){}};function showHideCreateCopyDropDown(b){try{$(".manage-clone-list").hide();$("#group-control").remove();$(".qtip-popup-visible").hide();var a=$("#manage-clone-list"+b).css("visibility");if(a=="hidden"){$("#ul-clone-list-"+b).css("visibility","visible");$("#ul-clone-list-"+b).show();}else{$("#ul-clone-list-"+b).css("visibility","hidden");}}catch(c){}}function checkboxDisableForCloneCA(a){$("#clone-Content").prop("checked","checked");$("#clone-Content").parent().removeClass("checkbox-unselected");$("#clone-Content").parent().addClass("checkbox-selected");if($(a).attr("id")=="clone-Interactions"&&$(a).is(":checked")==true){$("#clone-Interactions").prop("checked","checked");$("#clone-Interactions").parent().removeClass("checkbox-unselected");$("#clone-Interactions").parent().addClass("checkbox-selected");$("#clone-Content").prop("checked","checked");$("#clone-Content").parent().removeClass("checkbox-unselected");
$("#clone-Content").parent().addClass("checkbox-selected");}else{if($(a).attr("id")=="clone-Interactions"&&$(a).is(":checked")==false){$("#clone-Interactions").parent().removeClass("checkbox-selected");$("#clone-Interactions").parent().addClass("checkbox-unselected");$("#clone-Interactions").prop("checked","");}}if($(a).attr("id")=="clone-access"&&$(a).is(":checked")==true){$("#clone-access").prop("checked","checked");$("#clone-access").parent().removeClass("checkbox-unselected");$("#clone-access").parent().addClass("checkbox-selected");$("#clone-Content").prop("checked","checked");$("#clone-Content").parent().removeClass("checkbox-unselected");$("#clone-Content").parent().addClass("checkbox-selected");}else{if($(a).attr("id")=="clone-access"&&$(a).is(":checked")==false){$("#clone-access").parent().removeClass("checkbox-selected");$("#clone-access").parent().addClass("checkbox-unselected");$("#clone-access").prop("checked","");}}$(".jspPane").css("left","0px");}function checkboxDisableForClone(a,b){if(a=="class"){if(!$("#clone-content_list").is(":checked")){$("#clone-enrollment").parent().removeClass("checkbox-selected");
$("#clone-enrollment").parent().addClass("checkbox-unselected");$("#clone-enrollment").attr("checked","");}}else{if(!$("#ul-clone-list-"+b+" #clone-attachedcourses").is(":checked")){$("#ul-clone-list-"+b+" #clone-assessment").parent().removeClass("checkbox-selected");$("#ul-clone-list-"+b+" #clone-assessment").parent().addClass("checkbox-unselected");$("#ul-clone-list-"+b+" #clone-assessment").attr("checked","");$("#ul-clone-list-"+b+" #clone-survey").parent().removeClass("checkbox-selected");$("#ul-clone-list-"+b+" #clone-survey").parent().addClass("checkbox-unselected");$("#ul-clone-list-"+b+" #clone-survey").attr("checked","");}}}function checkboxAutoEchckForContentClone(a,b){if(a=="class"){if($("#clone-enrollment").is(":checked")){$("#clone-content_list").attr("checked","checked");$("#clone-content_list").parent().removeClass("checkbox-unselected");$("#clone-content_list").parent().addClass("checkbox-selected");}}else{if($("#ul-clone-list-"+b+" #clone-assessment").is(":checked")||$("#ul-clone-list-"+b+" #clone-survey").is(":checked")){$("#ul-clone-list-"+b+" #clone-attachedcourses").attr("checked","checked");
$("#ul-clone-list-"+b+" #clone-attachedcourses").parent().removeClass("checkbox-unselected");$("#ul-clone-list-"+b+" #clone-attachedcourses").parent().addClass("checkbox-selected");}}}Drupal.ajax.prototype.commands.displayScreenWarningWizard=function(g,b,a){try{this.currTheme=Drupal.settings.ajaxPageState.theme;var c=unescape(b.name).replace(/"/g,"&quot;");$("#delete-msg-wizard").remove();var f="";f+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';f+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';var j=c;if(this.currTheme=="expertusoneV2"){f+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+j+"</td></tr>";}else{f+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+j+"</td></tr>";}f+="</table>";f+="</div>";$("body").append(f);var d={};d[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){d[Drupal.t("Yes")]=function(){var k={popupDiv:"displayScreenWarningWizard",esignFor:"addScreenDetails"};
$.fn.getNewEsignPopup(k);$(this).dialog("destroy");$(this).dialog("close");};}else{d[Drupal.t("Yes")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();$("#delete-msg-wizard").remove();$("#hidden-screen-button").click();};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL2015"),buttons:d,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");
}$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}catch(h){}};Drupal.ajax.prototype.commands.displayWarningWizard=function(j,b,c){try{this.currTheme=Drupal.settings.ajaxPageState.theme;var d=b.grpId;var a=unescape(b.name).replace(/"/g,"&quot;");$("#delete-msg-wizard").remove();var f="";f+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';f+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';var h=a;if(this.currTheme=="expertusoneV2"){f+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+h+"</td></tr>";}else{f+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+h+"</td></tr>";}f+="</table>";f+="</div>";$("body").append(f);var k={};k[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){k[Drupal.t("Yes")]=function(){var l={popupDiv:"displayWarningWizard",esignFor:"displayWarningWizard",dupId:d,rowObj:this};
$.fn.getNewEsignPopup(l);$(this).dialog("destroy");$(this).dialog("close");};}else{k[Drupal.t("Yes")]=function(){callInsertProcess(d);};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("Group"),buttons:k,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");
}$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}catch(g){}};function callInsertProcess(a,b){b=typeof b!=="undefined"?b:"";$('input[id="grp_war"]').attr("value",1);$('input[id="grp_war_grpId"]').attr("value",a);if(b=="esign"){$("#esign-role-addedit-form").click();}else{$("input[name = 'grp-save']").click();}$("#delete-msg-wizard").remove();}function callVisibility(b){if(typeof(b.dispGrpView)=="undefined"){b.dispGrpView="";}if(typeof(b.catalogVisibleId)=="undefined"){b.catalogVisibleId="";}if(document.getElementsByClassName("qtip-close-button")&&b.catalogVisibleId.indexOf("AttachIdqtip_add_grp")<=0){$(".qtip-close-button").click();}if(paginationEnter){return false;}var f=$("#manage-clone-list"+b.entityId).css("visibility");if(f=="hidden"){$("#ul-clone-list-"+b.entityId).css("visibility","visible");$("#ul-clone-list-"+b.entityId).show();}else{$("#ul-clone-list-"+b.entityId).css("visibility","hidden");
}$(".manage-clone-list").hide();if(b.dispGrpView=="Y"){var l=$("#viewgroup-detail-wrapper #view-scroll-wrapper");var k=$("#"+b.popupDispId);var m=l.height();var j=l.offset();var a=k.height();var n=k.offset();var c=(m/2)+j.top;var d=a+n.top;if(c<d){b.dispDown="";if((d-c)>100){l.css("overflow","hidden");$("#viewgroup-detail-wrapper #view-scroll-wrapper .jspContainer").css("overflow","hidden");}else{l.css("overflow","visible");$("#viewgroup-detail-wrapper #view-scroll-wrapper .jspContainer").css("overflow","visible");}}else{l.css("overflow","visible");$("#viewgroup-detail-wrapper #view-scroll-wrapper .jspContainer").css("overflow","visible");}}else{$("#viewgroup-detail-wrapper #view-scroll-wrapper").css("overflow","hidden");$("#viewgroup-detail-wrapper #view-scroll-wrapper .jspContainer").css("overflow","hidden");}$("#group-control").remove();if(b.catalogVisibleId.indexOf("AttachCrsIdqtip_visible_disp")>0||b.catalogVisibleId.indexOf("AttachIdqtip_add_grp")>0){var h=$("#program_attach_tabs .ui-state-active").attr("id");
var g=h.split("-");b.url=b.url+"/"+g[2]+"/"+$('#attach_course_dt form input[name="form_build_id"]').val();}if(b.catalogVisibleId.indexOf("AttachIdqtip_history")<=0){$(".qtip-popup-visible").html("").hide();}else{$(".qtip-popup-history").html("").hide();}$("#"+b.popupDispId).qtipPopup({wid:b.wid,heg:b.heg,entityId:b.entityId,popupDispId:b.popupDispId,postype:b.postype,poslwid:(b.poslwid==""||b.poslwid==undefined||b.poslwid==null)?"":b.poslwid,posrwid:(b.posrwid==""||b.posrwid==undefined||b.posrwid==null)?"":b.posrwid,disp:(b.qdis==""||b.qdis==undefined||b.qdis==null)?"":b.qdis,linkid:b.linkid,onClsFn:b.onClsFn,dispDown:(b.dispDown==undefined)?"":b.dispDown});setTimeout(function(){EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.createLoader("paintContent"+b.popupDispId);if("[qtipObj.linkid^=visible-sharelink]"){$("#sharelink_disp_div .survey-sharelink-main-wrapper .loadercontent .loaderimg").css("margin-top","-42px");$(".qtip_survey_sharelink .loadercontent .loaderimg").css("margin-top","-8px");
}},10);if(b.entityType=="order"){orderQtipVisible(b);}else{$("#root-admin").data("narrowsearch").visiblePopup(b);}}function closeQtip(b,a,c){try{if(b.indexOf("qtip_showinscreen_dis")>=0){$("#root-admin").data("narrowsearch").refreshLastAccessedRow();}if(typeof(c)=="undefined"){c="";}if(b==""){$(".qtip-popup-visible").html("").hide();}else{$("#"+b+" #visible-popup-"+a).html("").hide();}if(typeof(c)=="function"){c();}}catch(d){}}function checkCountryDisable(){if($("#add_grp_Country").is(":checked")){$("#add_grp_State").attr("disabled",false);}else{$("#add_grp_State").parent().removeClass("checkbox-selected");$("#add_grp_State").parent().addClass("checkbox-unselected");$("#add_grp_State").attr("checked","");$("#add_grp_State").attr("disabled",true);}}function stateDisabledMessage(){if(!($("#add_grp_Country").is(":checked"))){var b=new Array();b[0]=Drupal.t("select a country");var a=expertus_error_message(b,"error");$("#show_expertus_message").show();$("#show_expertus_message").html(a);}}function addslashes(a){return a.replace(/'/g,"\\'");
}function removeCurrencyPopup(d,f){this.currTheme=Drupal.settings.ajaxPageState.theme;var a="";$("#delete-msg-wizard").remove();var c="";c+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';c+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';if(this.currTheme=="expertusoneV2"){c+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+Drupal.t("MSG747")+' "'+d+' <span class="currency-override-bold">'+f+'</span>"?</td></tr>';}else{c+='<tr><td color="#333333" style="padding: 30px 24px; text-align: justify;">'+Drupal.t("MSG747")+' "'+d+' <span class="currency-override-bold">'+f+'</span>"?</td></tr>';}c+="</table>";c+="</div>";$("body").append(c);var b={};b[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};b[Drupal.t("Yes")]=function(){$("#root-admin").data("narrowsearch").createLoader("currency-detail-wrapper");removeaddedcurrency(d);};$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL749"),buttons:b,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});
$(".ui-dialog").wrap("<div id='catalog-publish-unpublis-dialog' class='"+a+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".removebutton").text(Drupal.t("No"));$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});$(".admin-save-button-middle-bg").click(function(){$("#delete-msg-wizard").remove();});if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}function removeaddedcurrency(a){$.ajax({type:"GET",url:"/?q=administration/sitesetup/config/currency/remove/"+a,success:function(b){if(b=="success"){$(".row-"+a).remove();$(".currency-table-heading tbody tr").removeClass("odd-list-class");
$(".currency-table-heading tbody tr").removeClass("even-list-class");$(".currency-table-heading tbody tr.rowtbody:nth-child(odd)").addClass("even-list-class");$(".currency-table-heading tbody tr.rowtbody:nth-child(even)").addClass("odd-list-class");dynamicWidthHeight("delete");$("#root-admin").data("narrowsearch").destroyLoader("currency-detail-wrapper");}}});}function checkboxSelectedUnselectedCurrency(d){try{if($(d).attr("type")!="radio"){if($(d).is(":checked")){$(d).parent().removeClass("checkbox-unselected");$(d).parent().addClass("checkbox-selected");}else{$(d).parent().removeClass("checkbox-selected");$(d).parent().addClass("checkbox-unselected");}}var c=$("#currency-td-table .multichk").length;var a=$("#currency-td-table .checkbox-selected").length;if(c==a){$("#currency_select").attr("checked",true);$(".currency-muliselect").removeClass("checkbox-unselected").addClass("checkbox-selected");$(".multichk").removeClass("checkbox-unselected").addClass("checkbox-selected");}else{$("#currency_select").attr("checked",false);
$(".currency-muliselect").removeClass("checkbox-selected").addClass("checkbox-unselected");}}catch(b){}}function Currencycheckedall(){try{$("#currency_select").change(function(){$(".attach-group-list").prop("checked",$(this).prop("checked"));if($("#currency_select").attr("checked")){$(this).attr("checked",true);$(".currency-muliselect").removeClass("checkbox-unselected").addClass("checkbox-selected");$(".multichk").removeClass("checkbox-unselected").addClass("checkbox-selected");}else{$(this).attr("checked",false);$(".currency-muliselect").removeClass("checkbox-selected").addClass("checkbox-unselected");$(".multichk").removeClass("checkbox-selected").addClass("checkbox-unselected");}return false;});}catch(a){}}function dynamicWidthHeight(j){var d="";var c=$("#multi_currency_setup_div .currency-table-heading").height();var h=$("#multi_currency_setup_div .currency-table-heading").width();if(c>310&&h>800){var a=825;var b=378;$("#modal-content").css({width:a,height:b});$("#tableholder").css({height:"307px",width:"790px"});
$("#multi_currency_setup_div").css({height:"307px",width:"790px",overflow:"hidden"});$("#multi_currency_setup_div").jScrollPane();}else{if(c<150&&h<165){$("#modal-content").css({height:"150px",width:"295px"});$(".addedit-form-cancel-and-save-actions-row").css({width:"90%","margin-left":"40px"});$("#tableholder").css({height:"60px",width:"240px"});$("#multi_currency_setup_div").css({height:"60px",width:"240px"});$(".currency-table-heading").css({width:"245px"});if($(".rowtbody").length<=0){$(".currency-table-heading").remove();$("#multi_currency_setup_div").append('<div width="130px" height="100px" class="currency-table-heading admin-empty-text-msg" style="border:0px;">'+Drupal.t("MSG746")+"</div>");}}else{if($(".rowtbody").length<=0){$(".currency-table-heading").remove();$("#multi_currency_setup_div").append('<div width="130px" height="100px" class="currency-table-heading admin-empty-text-msg" style="border:0px;">'+Drupal.t("MSG746")+"</div>");}var a=h+50;var b=c+72;h=h+15;$("#modal-content").css({width:a,height:b});
$("#tableholder").css({height:c+"px",width:h+"px"});$("#multi_currency_setup_div").css({height:c+"px",width:h+"px"});var f=$("#multi_currency_setup_div").jScrollPane({});var g=f.data("jsp");g.destroy();}}$("#modalContent").removeAttr("style");$("#modalContent").css({"z-index":"1001"});$("#modalContent").css("position","absolute");$("#modalContent").css("top",Math.max(0,(($(window).height()-$("#tableholder").outerHeight())/2)+$(window).scrollTop())+"px");$("#modalContent").css("left",Math.max(0,(($(window).width()-$("#tableholder").outerWidth())/2)+$(window).scrollLeft())+"px");}(function(a){a.fn.dynamicWidthHeightAdd=function(){try{dynamicWidthHeight(false);}catch(b){}};})(jQuery);function dynamicstylechange(h){var c=$(".sf-table-heading tr").length;var a=$("input[name='consumer_secret_key']").val();var f=$("input[name='consumer_key']").val();var d=$("input[name='expertusone_sf_id']").val();if(a==""){$("input[name='consumer_secret_key']").addClass("sfrow-error-check");}if(f==""){$("input[name='consumer_key']").addClass("sfrow-error-check");
}if(d==""){$("input[name='expertusone_sf_id']").addClass("sfrow-error-check");}for(var g=0;g<c-1;g++){var j=$("#system_user_"+g).val();var b=$("#system_user_pwd_"+g).val();if(j==""){$("#system_user_"+g).addClass("sf-table-heading check-attributes > input sfrow-error-check");}if(b==""){$("#system_user_pwd_"+g).addClass("sf-table-heading check-attributes > input sfrow-error-check");}}}(function(a){a.fn.dynamicstylechangeAdd=function(){try{dynamicstylechange(false);}catch(b){}};})(jQuery);(function(a){a.fn.callVtip=function(){try{vtip();}catch(b){}};a(".fivestar-widget a").live("click",function(b){b.preventDefault();});a("#calendar-view-icon").live("contextmenu",function(){return false;});a("#calendar-view-icon").live("click",function(b){b.preventDefault();drawCalendar();});})(jQuery);function changeDiscountType(){try{if($("#two-col-row-discount_type_row").find(".addedit-edit-dis_type option:selected").val()==3){$("#currency-list-discount").addClass("discount_currency_list_visible");$("#currency-list-discount").removeClass("discount_currency_list_invisible");
$(".addedit-edit-dis_typeval").addClass("fixed_dusccount_type_applied");}else{$("#currency-list-discount").removeClass("discount_currency_list_visible");$("#currency-list-discount").addClass("discount_currency_list_invisible");$(".addedit-edit-dis_typeval").removeClass("fixed_dusccount_type_applied");$(".discount_currency_list").val("");}}catch(a){}}function drawCalendar(){document.cookie="uri="+window.location.search;window.location.href="?q=admincalendar";}function readCookie(b){var f=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var g=a[d];while(g.charAt(0)==" "){g=g.substring(1,g.length);}if(g.indexOf(f)==0){return g.substring(f.length,g.length);}}return null;}function urldecode(a){return decodeURIComponent(a.replace(/\+/g," "));}function eraseCookie(a){createCookie(a,"",-1);}function createCookie(c,d,f){if(f){var b=new Date();b.setTime(b.getTime()+(f*24*60*60*1000));var a="; expires="+b.toGMTString();}else{var a="";}document.cookie=c+"="+d+a+"; path=/";}function entityvalidation(a){var b=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;
b.createLoader("tab-content-main");document.getElementById(a).click();}function downloadLink(a){if(a=="user_upload_done_btn"){$("#download_template").css("visibility","visible");$("#download_template").css("display","block");}else{if(a=="enrollment_upload_file"){$("#download_template_enroll").css("visibility","visible");$("#download_template_enroll").css("display","block");}else{if(a=="enrollment_upload_class"){$("#download_template_class").css("visibility","visible");$("#download_template_class").css("display","block");}else{}}}}function downloadSample(c){var a=resource.base_host;if(c=="user_upload_done_btn"){var b=a+"/User_feed.csv";}else{if(c=="enrollment_upload_file"){var b=a+"/Enrollment_feed.csv";}else{var b=a;}}window.open(b);$("#manage-dd-list").css("visibility","hidden");$("#manage-dd-list").css("display","none");$("#manage-dd-list").hide();if(c=="user_upload_done_btn"){$("#download_template").css("visibility","hidden");$("#download_template").css("display","none");$("#download_template").hide();
}else{if(c=="enrollment_upload_file"){$("#download_template_enroll").css("visibility","hidden");$("#download_template_enroll").css("display","none");$("#download_template_enroll").hide();}else{}}}function MoveTabPrev(d){var k=$("#carousel_inner").width();var j=$("#carousel_inner ul").width();var l="";var g="";var a="";var m="";var f=window.chrome;$("#carousel_inner").css("width","auto");$("#carousel_inner ul").css("width","auto");var h=$("#carousel_inner ul").width();$("#carousel_inner").css("width",k);$("#carousel_inner ul").css("width",j);var c=parseInt($("#carousel_container #carousel_inner ul li:last").css("width"));if(d===7){if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="de"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){l=22;}else{l=27;}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="it"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){l=93;}else{l=101;}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="pt-pt"){if(f||navigator.appVersion.indexOf("Safari")!=-1){l=164;
}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){l=156;}else{l=152;}}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="ru"){if(f){$("#carousel_container #carousel_inner").css("width","410px");l=42;}else{if(navigator.appVersion.indexOf("Safari")!=-1){l=44;}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){l=39;}else{l=32;}}}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="es"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){l=99;}else{l=104;}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="fr"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){l=23;$("#carousel_container #carousel_inner").css("width","449px");}else{l=30;}}else{l=30;}}}}}}if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="en-us"){if(navigator.userAgent.indexOf("Firefox")!=-1){g=(h-k)+3;console.log("item_width1: "+g+"  ul_actualwidth1:"+h+"  div_width1:"+k+"  ul_width1:"+j);
}else{g=(h-k)+7;}}else{g=(j-k)-l;}var a=parseInt($("#carousel_inner ul").css("left"))+g;var m=parseInt($("#carousel_inner ul").css("left"));$("#carousel_container .first a").css("margin-right","0");if(m<=0){$("#carousel_container .first").css("display","none");$("#carousel_container").css("padding-left","9px");$("#carousel_container .last").css("display","block");if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="en-us"){if(f||navigator.appVersion.indexOf("Safari")!=-1){$("#carousel_container #carousel_inner").css("width","377px");}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){$("#carousel_container #carousel_inner").css("width","383px");}else{$("#carousel_container #carousel_inner").css("width","373px");}}}if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="it"){if(f||navigator.appVersion.indexOf("Safari")!=-1){$("#carousel_container #carousel_inner").css("width","428px");}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){$("#carousel_container #carousel_inner").css("width","433px");
}else{$("#carousel_container #carousel_inner").css("width","428px");}}}if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="pt-pt"){if(f||navigator.appVersion.indexOf("Safari")!=-1){$("#carousel_container #carousel_inner").css("width","400px");}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){$("#carousel_container #carousel_inner").css("width","405px");}else{$("#carousel_container #carousel_inner").css("width","410px");}}}}}if(d===6){var b=(h-c)-3;$("#carousel_container #carousel_inner").css("width",b);a=parseInt($("#carousel_inner ul").css("left"))-parseInt($("#carousel_inner ul").css("left"));m=parseInt($("#carousel_inner ul").css("left"));if(m<=0){$("#carousel_container .first").css("display","none");$("#carousel_container").css("padding-left","9px");$("#carousel_container .last").css("display","block");}}$("#carousel_inner ul").animate({left:a},{queue:true,duration:500},function(){});}function MoveTabNext(c){var m=$("#carousel_inner").width();var l=$("#carousel_inner ul").width();
var n="";var h="";var a="";var q="";var f=window.chrome;$("#carousel_inner").css("width","auto");$("#carousel_inner ul").css("width","auto");var k=$("#carousel_inner ul").width();$("#carousel_inner").css("width",m);$("#carousel_inner ul").css("width",l);if(c===7){if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="de"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){n=22;}else{n=27;}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="it"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){n=128;}else{n=129;}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="pt-pt"){if(f||navigator.appVersion.indexOf("Safari")!=-1){n=228;}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){n=219;}else{n=217;}}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="ru"){if(f){$("#carousel_container #carousel_inner").css("width","410px");n=42;}else{if(navigator.appVersion.indexOf("Safari")!=-1){n=44;
}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){n=39;}else{n=32;}}}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="es"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){n=102;$("#carousel_container #carousel_inner").css("width","449px");}else{n=104;}}else{if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="fr"){if(navigator.appVersion.indexOf("Trident/7.0")!=-1){n=26;$("#carousel_container #carousel_inner").css("width","449px");}else{n=30;}}else{n=30;}}}}}}if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="en-us"){if(navigator.userAgent.indexOf("Firefox")!=-1){h=(k-m)-28;}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){h=(k-m)-34;}else{h=(k-m)-24;}}}else{h=(l-m)-n;}a=parseInt($("#carousel_inner ul").css("left"))-h;q=parseInt($("#carousel_inner ul").css("left"));$("#carousel_container .first a").css("margin-right","5px");if(q>=-162){$("#carousel_container").css("padding-left","0");
$("#carousel_container .last").css("display","none");$("#carousel_container .first").css("display","block");if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="en-us"){if(f||navigator.appVersion.indexOf("Safari")!=-1){$("#carousel_container #carousel_inner").css("width","408px");}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){$("#carousel_container #carousel_inner").css("width","414px");}else{$("#carousel_container #carousel_inner").css("width","404px");}}}if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="it"){if(f||navigator.appVersion.indexOf("Safari")!=-1){$("#carousel_container #carousel_inner").css("width","456px");}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){$("#carousel_container #carousel_inner").css("width","463px");}else{$("#carousel_container #carousel_inner").css("width","456px");}}}if(Drupal.settings.user.language!==undefined&&Drupal.settings.user.language=="pt-pt"){if(f||navigator.appVersion.indexOf("Safari")!=-1){$("#carousel_container #carousel_inner").css("width","464px");
}else{if(navigator.appVersion.indexOf("Trident/7.0")!=-1){$("#carousel_container #carousel_inner").css("width","472px");}else{$("#carousel_container #carousel_inner").css("width","475px");}}}}}if(c===6){var p=parseInt($("#sort-bar-V2").width());var b=parseInt($("#narrow-search-actionbar").width());var j=(p-b)-45;var g=parseInt($("#carousel_container #carousel_inner ul li:first").css("width"));var d=parseInt($("#carousel_container #carousel_inner ul li:nth-child(2)").css("width"));var o=parseInt($("#carousel_container #carousel_inner ul li:nth-child(3)").css("width"));if(j>(parseInt(k)-g)){h=g+6;}else{if(j>(parseInt(k)-(g+d))){h=(g+d)+11;}else{h=(g+d+o)+16;}}$("#carousel_container #carousel_inner").css("width",j);a=parseInt($("#carousel_inner ul").css("left"))-h;q=parseInt($("#carousel_inner ul").css("left"));if(q>=-162){$("#carousel_container").css("padding-left","0");$("#carousel_container .last").css("display","none");$("#carousel_container .first").css("display","block");}}$("#carousel_inner ul").animate({left:a},{queue:true,duration:500},function(){});
}$("body").click(function(a){try{if(a.target.className!="info-classroster-upload vtip"){$("#download_template_class_wrapper").hide();}}catch(b){}});;
(function(b){function a(c,f){try{var h=b(c).val();if(h==""||h==f){b(c).removeClass("narrow-search-filterset-daterange-nonempty");b(c).addClass("narrow-search-filterset-daterange-empty");b(c).val(f);}var g=c+"&"+f;var d=this;b(c).blur(g,function(k){var m=k.data;var n=m.split("&");var e=n[0];var l=b(e).val();var j=n[1];if(l==""||l==j){b(e).removeClass("narrow-search-filterset-daterange-nonempty");b(e).addClass("narrow-search-filterset-daterange-empty");b(e).val(j);}else{if(l!=j){b(e).removeClass("narrow-search-filterset-daterange-empty");b(e).addClass("narrow-search-filterset-daterange-nonempty");}}});b(c).focus(g,function(k){var m=k.data;var n=m.split("&");var e=n[0];var l=b(e).val();var j=n[1];if(l==j){b(e).val("");}b(e).removeClass("narrow-search-filterset-daterange-empty");b(e).addClass("narrow-search-filterset-daterange-nonempty");});b(c).change(g,function(k){var m=k.data;var n=m.split("&");var e=n[0];var l=b(e).val();var j=n[1];if(l==""||l==j){b(e).removeClass("narrow-search-filterset-daterange-nonempty");
b(e).addClass("narrow-search-filterset-daterange-empty");b(e).val(j);}else{b(e).removeClass("narrow-search-filterset-daterange-empty");b(e).addClass("narrow-search-filterset-daterange-nonempty");}});}catch(i){}}Drupal.behaviors.fadeeffect={attach:function(c,d){if(b(".admin-course-class-long-description .trunk8-fade").length>0){b(".trunk8-fade").trunk8(trunk8.admin_short_desc);}}};Drupal.behaviors.addDatePickerToAddEditDateField={attach:function(c,d){try{if(b("#multi_currency_setup_div").length>0&&b("#edit-addedit-currency-save-button").length==0){dynamicWidthHeight(false);}b(".addedit-edit-datefield:not(.addedit-datepicker-added)").addClass("addedit-datepicker-added").each(function(){var k=b(this).attr("id");var h=b("#"+k).data("datePickerTooltip");var j=false;if(b("#"+k).data("datePickerShowTime")==true){j=true;}var i=resource.base_url+"/"+themepath+"/expertusone-internals/images/calendar_icon.JPG";try{b("#"+k).datepicker("destroy");}catch(e){}try{b("#"+k).datetimepicker("destroy");}catch(e){}try{b("#"+k).timepicker("destroy");
}catch(e){}if(j==false){b("#"+k).datepicker({duration:"",showTime:false,constrainInput:false,stepMinutes:5,stepHours:1,time24h:true,dateFormat:"mm-dd-yy",buttonImage:i,buttonImageOnly:true,firstDay:0,showOn:"both",buttonText:h,showButtonPanel:true,changeMonth:true,changeYear:true,daterangeDiffDays:20000,beforeShow:function(q,p){var l="#"+q.id;var m=b(l).data("datePickerDatesDisplayOption");if(m==""||m==null||m=="undefined"){m="all";}setTimeout(function(){b(".ui-datepicker").css("z-index",10000);},0);var r=null;var n=null;var s="-10:+10";if(m!="all"&&m!="hiredate"){var t=b(l).datepicker("option","daterangeDiffDays");var r=new Date();var n=new Date();switch(m){case"future":n.setDate(r.getDate()+t);break;case"past":r.setDate(n.getDate()-t);break;}}else{if(m=="hiredate"){s="-70:+5";}}if(k=="end_date"){var o=b("#start_date").val();return{defaultDate:o,minDate:o};}else{if(k=="hire_end_ste_con_hdt_btw"){var o=b("#hidden_hire_start_ste_con_hdt_btw").val();return{yearRange:"-70:+5",defaultDate:o,minDate:o};
}else{if(k=="valid_to"){var o=b("#valid_from").val();return{yearRange:"-70:+5",defaultDate:o,minDate:o};}else{return{yearRange:s,minDate:r,maxDate:n};}}}}});}else{if(b("#"+k).data("datePickerShowTimeOnly")==true){b("#"+k).timePicker({show24Hours:true,separator:":",step:5});}else{b("#"+k).datetimepicker({duration:"",showTime:true,constrainInput:true,stepMinutes:5,stepHours:1,time24h:true,buttonImage:i,buttonImageOnly:true,firstDay:1,showOn:"both",buttonText:h,showButtonPanel:true,changeMonth:true,changeYear:true,daterangeDiffDays:20000,beforeShow:function(l,p){var r="#"+l.id;var m=b(r).data("datePickerDatesDisplayOption");if(m==""||m==null||m=="undefined"){m="all";}var q=null;var n=null;if(m!="all"){var o=b(r).datepicker("option","daterangeDiffDays");var q=new Date();var n=new Date();switch(m){case"future":n.setDate(q.getDate()+o);break;case"past":q.setDate(n.getDate()-o);break;}}return{minDate:q,maxDate:n};}});}}var g=b("#"+k).data("emptyDateFieldText");if(g==""||g==null||g=="undefined"){g=Drupal.t("LBL112");
}a("#"+k,g);});vtip();}catch(f){}}};Drupal.behaviors.resizeModalBackdropOnTextareaResize={attach:function(c,d){try{b("textarea.addedit-edit-textarea:not(.adjust-modalbackdrop-onresize)").addClass("adjust-modalbackdrop-onresize").each(function(){var e=b(this).height();var g=b(this).width();b(this).data({height:e,width:g});b(this).mouseup(function(k){if(typeof(Drupal.ajax.prototype.commands.CtoolsModalAdjust)!=="undefined"){var l=b(this).data("height");var j=b(this).data("width");var h=b(this).height();var i=b(this).width();if(h!=l||i!=j){Drupal.ajax.prototype.commands.CtoolsModalAdjust(null,null,null);}b(this).data({height:h,width:i});}});});}catch(f){}}};Drupal.behaviors.resizeModalBackdropOnCKEditorResize={attach:function(c,d){try{b(".cke_resizer:not(.adjust-modalbackdrop-onresize)").addClass("adjust-modalbackdrop-onresize").each(function(){b(this).bind("mousedown.expckeresizer",function(e){b(document).unbind("mouseup.expckeresizer");b(document).one("mouseup.expckeresizer",function(){if(typeof(Drupal.ajax.prototype.commands.CtoolsModalAdjust)!=="undefined"){Drupal.ajax.prototype.commands.CtoolsModalAdjust(null,null,null);
}});});});}catch(f){}}};Drupal.ajax.prototype.commands.refreshnarrowsearchresults=function(f,d,c){try{if(d.refreshMode=="immediate"){if(d.refreshGrid||(typeof b(d.js_object_selector).data(d.js_object).refreshLastAccessedRow!="undefined"&&b(d.js_object_selector).data(d.js_object).refreshLastAccessedRow()==false)){b(d.js_object_selector).data(d.js_object).refreshGrid();}}else{if(typeof Drupal.CTools.Modal.closeCommand.refreshNarrowSearchResults==="undefined"){Drupal.CTools.Modal.closeCommand.refreshNarrowSearchResults=(function(j,h,i){try{return{cmd:function(){if(i||(typeof b(j).data("narrowsearch").refreshLastAccessedRow!="undefined"&&b(j).data("narrowsearch").refreshLastAccessedRow()==false)){b(j).data(h).refreshGrid();}}};}catch(k){}})(d.js_object_selector,d.js_object,d.refreshGrid);}}}catch(g){}};Drupal.ajax.prototype.commands.refresnarrowsearchonsubmit=function(f,d,c){try{if(d.click_object){b(d.click_object).click();}if(d.refreshMode=="immediate"){b(d.js_object_selector).data(d.js_object).refreshGrid();
}}catch(g){}};Drupal.ajax.prototype.commands.destroyCKEditorsOnCtoolsModalClose=function(g,d,c){try{if(typeof Drupal.CTools.Modal.closeCommand.destroyCKEditors==="undefined"){Drupal.CTools.Modal.closeCommand.destroyCKEditors={cmd:function(){if((typeof(CKEDITOR)!="undefined")&&typeof(CKEDITOR.instances)!="undefined"){b.each(CKEDITOR.instances,function(){this.destroy(true);});}}};}if(b("#calendarprimaryview").size()){EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("calendar");}if(b("#page-container-tabs-prg").size()){var j=b("#page-container-tabs-prg .visible-main-tab:last").index();if(b(".first-arrow").size()>0){j=j-1;}b("#page-container-tabs-prg").tabs({selected:j});var i=b("#program_attach_tabs .ui-state-active").attr("id");var f=i.split("-");moduleTabclick(f[2]);onloadsearch();}}catch(h){}};Drupal.ajax.prototype.commands.addEditHideMessages=function(i,d,c){try{var h;if(typeof d.form_wrapper_id!="undefined"&&d.wrapper_id!=""){h=b("#"+d.wrapper_id+" .messages");}else{h=b(".messages");
}var g=b(".messages").height();if(b(".admin-class-tp-enrollment").length>0){b("#"+d.wrapper_id).css("height",Math.round(425+g)+"px");}var f=10000;if(typeof d.delay!="undefined"){if(typeof d.delay=="number"&&d.delay>0){f=d.delay;}else{if(typeof d.delay=="string"&&d.delay!=""&&parseInt(d.delay)>0){f=parseInt(d.delay);}}}setTimeout(function(){h.hide();if(b(".admin-class-tp-enrollment").length>0){b("#"+d.wrapper_id).css("height","403px");}Drupal.ajax.prototype.commands.CtoolsModalAdjust();},f);}catch(j){}};Drupal.ajax.prototype.commands.addEditPopupDialogScroll=function(h,d,c){try{var f;var g=582;f=b(".admin-popup-container").height();if(f>g){f=f-850;b("#modal-content").scrollTop(f);}else{b("#modal-content").scrollTop(0);}}catch(i){}};Drupal.behaviors.removeInputGreyfromCustomAttribute={attach:function(c,g){try{var k=b(".page-administration-learning-catalog #catalog-class-basic-addedit-form-scroll-container #custom_attr_container").length;if(k>0){b(".catalog-course-basic-addedit-form-container").addClass("parent_custom_attr_scroll_class_container");
var j=b("#catalog-class-basic-addedit-form-scroll-container").height();b("#catalog-class-basic-addedit-form-scroll-container").css("height",j);b("#catalog-class-basic-addedit-form-scroll-container").jScrollPane({autoReinitialise:true,showArrows:false,verticalGutter:0,horizontalGutter:0});}var d=b("#custom_attr_container #customattribute-display-vertical").length;if(d>0){b("#custom_attr_container #customattribute-display-vertical").each(function(){var e=b(this).find("input").length;if(e>0&&e>3){b(this).addClass("cus_attr_jscroll_set");b(this).jScrollPane({verticalGutter:0,horizontalGutter:0});}});}var l=b(".page-administration-manage-customattribute #create-dd-list li").length;if(l>0){b(".page-administration-manage-customattribute #create-dd-list li a span").click(function(){var e=b(".page-administration-manage-customattribute  .narrow-search-multi-action-container #bubble-face-table").length;if(e>0){closeCustomAttributeQtip(0);}});}var f=b("#custom_attr_container .addedit-edit-textarea").length;
var i=b("#custom_attr_container .addedit-edit-textfield").length;if(f>0||i>0){b("#custom_attr_container .addedit-edit-textarea").each(function(){if(b(this).data("default-text")!=undefined){var m=b(this).data("default-text");if(isNaN(m)){var e=b(this).data("default-text").toLowerCase();}else{var e=b(this).data("default-text");}if(b(this).val().toLowerCase()==e){b(this).val(m);b(this).addClass("input-field-grey");}else{b(this).removeClass("input-field-grey");}b(this).blur(m,function(o){var n=o.data;if(b(this).val()==""||b(this).val().toLowerCase()==n.toLowerCase()){b(this).val(n);b(this).addClass("input-field-grey");}else{b(this).removeClass("input-field-grey");}});b(this).focus(m,function(o){var n=o.data;if(b(this).val().toLowerCase()==n.toLowerCase()){b(this).val("");b(this).removeClass("input-field-grey");}});}});b("#custom_attr_container .addedit-edit-textfield").each(function(){if(b(this).data("default-text")!=undefined){var m=b(this).data("default-text");if(isNaN(m)){var e=b(this).data("default-text").toLowerCase();
}else{var e=b(this).data("default-text");}if(b(this).val().toLowerCase()==e){b(this).val(m);b(this).addClass("input-field-grey");}else{b(this).removeClass("input-field-grey");}b(this).blur(m,function(o){var n=o.data;if(b(this).val()==""||b(this).val().toLowerCase()==n.toLowerCase()){b(this).val(n);b(this).addClass("input-field-grey");}else{b(this).removeClass("input-field-grey");}});b(this).focus(m,function(o){var n=o.data;if(b(this).val().toLowerCase()==n.toLowerCase()){b(this).val("");b(this).removeClass("input-field-grey");}});}});}}catch(h){}}};Drupal.behaviors.multiselect={attach:function(c){try{b("select.multiselect_unsel:not(.multiselect-processed)",c).addClass("multiselect-processed").each(function(){unselclass="."+this.id+"_unsel";selclass="."+this.id+"_sel";b(unselclass).removeContentsFrom(b(selclass));});b("select.multiselect_unsel:not(.multiselect-unsel-processed)",c).addClass("multiselect-unsel-processed").dblclick(function(){unselclass="."+this.id+"_unsel";selclass="."+this.id+"_sel";
b(unselclass).moveSelectionTo(b(selclass));});b("select.multiselect_sel:not(.multiselect-sel-processed)",c).addClass("multiselect-sel-processed").dblclick(function(){unselclass="."+this.id+"_unsel";selclass="."+this.id+"_sel";b(selclass).moveSelectionTo(b(unselclass));});b("li.multiselect_add:not(.multiselect-add-processed)",c).addClass("multiselect-add-processed").click(function(){unselclass="."+this.id+"_unsel";selclass="."+this.id+"_sel";b(unselclass).moveSelectionTo(b(selclass));});b("li.multiselect_remove:not(.multiselect-remove-processed)",c).addClass("multiselect-remove-processed").click(function(){unselclass="."+this.id+"_unsel";selclass="."+this.id+"_sel";b(selclass).moveSelectionTo(b(unselclass));});}catch(d){}}};jQuery.fn.removeContentsFrom=function(){try{var c=arguments[0];this.each(function(){var f=this.options.length-1;for(var e=f;e>=0;e--){c.removeOption(this.options[e].value);}});}catch(d){}};jQuery.fn.moveSelectionTo=function(){try{var c=arguments[0];this.each(function(){var f=this.options.length;
for(var e=0;e<f;e++){var g=this.options[e];if(g.selected&&g.value!="none_selected"){c.addOption(g);this.remove(e);e--;f=this.options.length;}}});}catch(d){}};jQuery.fn.addOption=function(){try{var c=arguments[0];this.each(function(){var g=document.createElement("option");g.text=c.text;g.value=c.value;var f=this.options.length;if(f<=0){this.options[f]=g;}else{var e=this.options[f-1];if(e.value=="none_selected"){this.options[f-1]=g;this.options[f]=e;}else{this.options[f]=g;}}return false;});}catch(d){}};jQuery.fn.removeOption=function(){try{var c=arguments[0];this.each(function(){var g=this.options.length-1;for(var e=g;e>=0;e--){var f=this.options[e];if(f.value==c&&f.value!="none_selected"){this.remove(e);}}});}catch(d){}};})(jQuery);Drupal.behaviors.highlightEditorOnValidationError={attach:function(a,b){try{$("span.cke_skin_kama:not(.exp-highlighted)").addClass("exp-highlighted").each(function(){var e=$(this).attr("id");var d=e.substring(4);if($("#"+d).hasClass("error")){$(this).css("border","2px solid red");
}});}catch(c){}}};Drupal.behaviors.customField={attach:function(a,c){try{var b=".addedit-edit-custom-label-field:not(.custom-field-initialized), .addedit-edit-custom-value-field:not(.custom-field-initialized)";$(b).addClass("custom-field-initialized").each(function(){var e=$(this).data("default-text");if($(this).val()==""||$(this).val()==e){$(this).val(e);$(this).addClass("input-field-grey");}else{$(this).removeClass("input-field-grey");}$(this).blur(e,function(g){var f=g.data;if($(this).val()==""||$(this).val()==f){$(this).val(f);$(this).addClass("input-field-grey");}else{$(this).removeClass("input-field-grey");}});$(this).focus(e,function(g){var f=g.data;if($(this).val()==f){$(this).val("");$(this).removeClass("input-field-grey");}});});}catch(d){}}};Drupal.behaviors.expAddAutocompleteToField={attach:function(context,settings){try{$(".exp-init-acfield:not(.exp-acfield-initialized)").addClass("exp-acfield-initialized").each(function(){var url=$(this).data("exp-acfield-url");var optionsStr=$(this).data("exp-acfield-options");
var options=eval("("+optionsStr+")");var preText=$(this).data("exp-acfield-pretext");if(preText!=""){if($(this).val()==""||$(this).val()==preText){$(this).val(preText);$(this).addClass("input-field-grey");}else{$(this).removeClass("input-field-grey");}$(this).blur(preText,function(event){var preText=event.data;if($(this).val()==""||$(this).val()==preText){$(this).val(preText);$(this).addClass("input-field-grey");}else{$(this).removeClass("input-field-grey");}});$(this).focus(preText,function(event){var preText=event.data;if($(this).val()==preText){$(this).val("");$(this).removeClass("input-field-grey");}});}$(this).autocomplete("?q="+url,options);});}catch(e){}}};Drupal.behaviors.timePicker={attach:function(a,b){try{$(".exp-timepicker-for-addedit-form:not(.exp-timepicker-inited)").addClass("exp-timepicker-inited").each(function(){var j=$(this).attr("id");var h="exp-dropdown-"+j;var d,f;var k='<div id="'+h+'" data="'+j+'" class="exp-timepicker-selection" style="display:none;"><ul></ul></div>';
$(this).after(k);for(var e=0;e<=1425;e+=15){d=Math.floor(e/60);f=e%60;if(d<10){d="0"+d;}if(f<10){f="0"+f;}var g="<li>"+d+":"+f+"</li>";$("#"+h+" ul").append(g);}$(this).click(function(){var l=$(this).attr("id");var i="exp-dropdown-"+l;$("#"+i).toggle();});$("#"+h+" ul li").click(function(){var l=$(this).html();var i=$(this).closest(".exp-timepicker-selection").attr("data");$("#"+i).val(l);$(this).closest(".exp-timepicker-selection").css("display","none");});});}catch(c){}}};Drupal.behaviors.vtipInitialize={attach:function(a,b){try{$(".exp_sp_administration_setup_addedit_form").ajaxComplete(function(e,f,d){vtip();});}catch(c){}}};function showContentNeedMessage(){var b=new Array();b[0]=Drupal.t("MSG498");var a=expertus_error_message(b,"error");$("#bubble-face-table #show_expertus_message").show();$("#bubble-face-table #show_expertus_message").html(a);return false;}function showUserEnrolledMessage(){var b=new Array();b[0]=Drupal.t("LBL1246");var a=expertus_error_message(b,"error");$("#bubble-face-table #show_expertus_message").show();
$("#bubble-face-table #show_expertus_message").html(a);return false;}function checkIfContentAttemptsSet(d,j){if(j!="recertify"){$("#hidden_idlist_content-".$uniqueId).val();var k=document.getElementById("hidden_idlist_"+d)!==null?document.getElementById("hidden_idlist_"+d).value.split(","):"";var b=false;if(k!=""&&k.length){$.each(k,function(){var o=document.getElementById("content-maxattempt-"+this+"-hidden")!==null?document.getElementById("content-maxattempt-"+this+"-hidden").value:"";if($.trim(o)==""){b=true;return false;}});}var a=Drupal.t("MSG727")+" "+Drupal.t("MSG728");var f=Drupal.t("LBL857");}else{var b=true;var e=$('input[name="selected_enroll_path_name"]').val();var a=Drupal.t("MSG810")+" "+e+" ."+Drupal.t("MSG728");var f=Drupal.t("LBL429");}if(b){var i="unique-delete-class";var g=Drupal.settings.ajaxPageState.theme;var n=(n)?n:300;var l="";$("#content-attempt-message").remove();var h="";h+='<div id="content-attempt-message" style="display:none; padding: 0px;">';h+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';
if(g=="expertusoneV2"){h+='<tr><td style="padding: 30px 24px;" class="commanTitleAll">'+a+"</td></tr>";}else{h+='<tr><td color="#333333" style="padding: 30px 24px; text-align: left;">'+a+"</td></tr>";}h+="</table>";h+="</div>";$("body").append(h);var m={};m[Drupal.t("No")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#content-attempt-message").remove();};l=function(){$(this).dialog("destroy");$(this).dialog("close");if(j=="recertify"){$("#submit-enrolltp-"+d).click();}else{$("#submit-content-"+d).click();}$("#content-attempt-message").remove();};m[Drupal.t("Yes")]=l;$("#content-attempt-message").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:n,resizable:false,modal:true,title:Drupal.t(f),buttons:m,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='delete-object-dialog' class='"+i+"'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#content-attempt-message").show();$(".ui-dialog-titlebar-close").click(function(){$("#content-attempt-message").remove();});if(g=="expertusoneV2"){changeDialogPopUI();}if($("div.qtip-defaults").length>0){var c=$(".qtip-defaults").css("z-index");$("#delete-object-dialog .ui-widget-content").css("z-index",c+2);$(".ui-widget-overlay").css("z-index",c+1);}else{if($("div#modalBackdrop").length>0){var c=$("#modalBackdrop").css("z-index");$("#delete-object-dialog .ui-widget-content").css("z-index",c+2);$(".ui-widget-overlay").css("z-index",c+1);}}}else{$("#submit-content-"+d).click();}return false;}function webex_config(a){$(".form-item-webex-radio").addClass(a);if(a=="webex_User"){$("#webex_org_wrapper").css("display","none");}else{if(a=="webex_Organization"){$("#webex_org_wrapper").css("display","block");
}}}function webex_onload(){var a=$("input[name='webex_radio']:checked").val();if(a=="webex_Organization"){$("#webex_org_wrapper").css("display","block");}else{if(a=="webex_User"){$("#webex_org_wrapper").css("display","none");}else{$("#webex_org_wrapper").css("display","block");}}}function webex_presenter_validate(f,b){var c="";if(b=="ru"){c=333;}else{if(b=="de"){c=310;}else{if(b=="es"){c=335;}else{if(b=="fr"){c=328;}else{if(b=="it"){c=296;}else{if(b=="pt-pt"){c=278;}else{if(b=="ja"){c=300;}else{if(b=="ko"){c=290;}else{if(b=="zh-hans"){c=253;}else{c=279;}}}}}}}}}var h=0;var a="presenter";var g=h+"_"+a;var e="qtip_visible_disp_addpresenter_"+g;var d=jQuery.parseJSON('{"entityId":"","entityType":"'+a+'","url":"ajax/class-presenter-check","popupDispId":"exp_meeting_'+e+'","catalogVisibleId":"'+e+'","wBubble":'+c+',"hBubble":"auto","tipPosition":"tipfaceMiddleRight","qtipClass":"admin-qtip-presenter-access-parent"}');$.ajax({type:"POST",url:"?q=ajax/presenter/webex-credentials/"+f,data:"",success:function(i){if(i==1){$("#root-admin").data("narrowsearch").getQtipDiv(d);
$("#admin-qtip-access-parent-lrn_cls_vct_web").css("bottom","32px");if(b=="fr"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left","485px").css("bottom","-115px").css("top","-82px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","489px").css("top","-46px");$('label[for*="edit-presenter-"]').css("width","135px");}else{if(b=="de"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left",+parseInt(-208+675)+"px").css("bottom","-115px").css("top","-90px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","471px").css("top","-50px");$('label[for*="edit-presenter-"]').css("width","116px");}else{if(b=="it"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left",+parseInt(-208+675)+"px").css("bottom","-115px").css("top","-90px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","471px").css("top","-50px");$('label[for*="edit-presenter-"]').css("width","102px");
}else{if(b=="ja"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left",+parseInt(-208+675)+"px").css("bottom","-115px").css("top","-90px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","471px").css("top","-56px");$('label[for*="edit-presenter-"]').css("width","87px");}else{if(b=="ko"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left",+parseInt(-208+675)+"px").css("bottom","-115px").css("top","-90px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","471px").css("top","-50px");$('label[for*="edit-presenter-"]').css("width","80px");}else{if(b=="ru"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left","473px").css("bottom","-115px").css("top","-90px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","477px").css("top","-56px");$('label[for*="edit-presenter-"]').css("width","139px");}else{if(b=="zh-hans"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left",+parseInt(-208+675)+"px").css("bottom","-115px").css("top","-90px").css("z-index","100");
$("#admin-qtip-presenter-access-parent").css("left","471px").css("top","-56px");$('label[for*="edit-presenter-"]').css("width","58px");}else{if(b=="es"){$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left","499px").css("bottom","-115px").css("top","-90px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","503px").css("top","-56px");$('label[for*="edit-presenter-"]').css("width","141px");}else{$(".admin-qtip-presenter-access-parent").css("position","absolute").css("left",+parseInt(-208+675)+"px").css("bottom","-115px").css("top","-86px").css("z-index","100");$("#admin-qtip-presenter-access-parent").css("left","471px").css("top","-50px");$('label[for*="edit-presenter-"]').css("width","79px");}}}}}}}}}if(i==0){$("#exp_meeting_qtip_visible_disp_addpresenter_0_presenter").empty();}}});}function metatag_error_validate(){if($("#metatag-basic-addedit-form-container .addedit-edit-description").hasClass("error")){$(".form-textarea-wrapper").addClass("error");
}};
(function(a){var b=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;a.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:false},_create:function(){var d=this,e=this.options,c=(this.instance=a(this.element).data("multiselect")),h=(this.header=c.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter")),g=(this.wrapper=a('<div class="ui-multiselect-filter">'+(e.label.length?e.label:"")+'<input placeholder="'+e.placeholder+'" type="search"'+(/\d/.test(e.width)?'style="width:'+e.width+'px"':"")+" /></div>").prependTo(this.header));this.inputs=c.menu.find('input[type="checkbox"], input[type="radio"]');this.input=g.find("input").bind({keydown:function(i){if(i.which===13){i.preventDefault();}},keyup:a.proxy(d._handler,d),click:a.proxy(d._handler,d)});this.updateCache();c._toggleChecked=function(k,n){var m=(n&&n.length)?n:this.labels.find("input"),j=this,i=d.instance._isOpen?":disabled, :hidden":":disabled";m=m.not(i).each(this._toggleState("checked",k));
this.update();var l=m.map(function(){return this.value;}).get();this.element.find("option").filter(function(){if(!this.disabled&&a.inArray(this.value,l)>-1){j._toggleState("selected",k).call(this);}});};var f=a(document).bind("multiselectrefresh",function(){d.updateCache();d._handler();});if(this.options.autoReset){f.bind("multiselectclose",a.proxy(this._reset,this));}},_handler:function(i){var f=a.trim(this.input[0].value.toLowerCase()),h=this.rows,c=this.inputs,d=this.cache;if(!f){h.show();}else{h.hide();var g=new RegExp(f.replace(b,"\\$&"),"gi");this._trigger("filter",i,a.map(d,function(e,j){if(e.search(g)!==-1){h.eq(j).show();return c.get(j);}return null;}));}this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var j=a(this);var e=j.nextUntil(".ui-multiselect-optgroup-label").filter(function(){return a.css(this,"display")!=="none";}).length;j[e?"show":"hide"]();});},_reset:function(){this.input.val("").trigger("keyup");},updateCache:function(){this.rows=this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");
this.cache=this.element.children().map(function(){var c=a(this);if(this.tagName.toLowerCase()==="optgroup"){c=c.children();}return c.map(function(){return this.innerHTML.toLowerCase();}).get();}).get();},widget:function(){return this.wrapper;},destroy:function(){a.Widget.prototype.destroy.call(this);this.input.val("").trigger("keyup");this.wrapper.remove();}});})(jQuery);;
Drupal.locale = { 'strings': {"Content":"Content","Location":"Location","Group":"Group","ERR047":"You have already registered for this class","ERR054":"There are no courses under this program.","ERR055":"Login again since your session has expired","ERR057":"System error has occurred. Contact Support.","MSG247":"CartAdded","Learning Plan":"Learning Plan","Certification":"Certification","Curricula":"Curricula","English":"English","Register":"Register","Sign In":"Sign In","Registered":"Registered","Completed":"Completed","Enrolled":"Enrolled","Canceled":"Canceled","Pending":"Pending","Expired":"Expired","Survey":"Survey","ERR061":"There are no classes under the course.","ERR066":"Select a class in each course.","LBL001":"Sign In","LBL012":"Enrolled","LBL013":"Completed","LBL014":"Incomplete","LBL015":"Canceled","LBL017":"title a-z","LBL018":"title z-a","LBL019":"date new to old","LBL020":"date old to new","LBL021":"type","LBL022":"mandatory","LBL024":"Expired","LBL025":"Enrolled by","LBL026":"Canceled On","LBL027":"Completed On","LBL028":"Expired On","LBL032":"Registered","LBL034":"Completed","LBL036":"Type","LBL038":"Language","LBL041":"Location","LBL042":"Date","LBL044":"newly listed","LBL045":"start date","LBL046":"Full","LBL049":"Added to cart","LBL050":"Add to cart","LBL052":"Seat left","LBL053":"Seats left","LBL054":"Username","LBL073":"Job Title","LBL074":"Timezone","LBL082":"Remove","LBL083":"Title","LBL086":"Instructor","German":"German","Spanish":"Spanish","French":"French","Italian":"Italian","Japanese":"Japanese","Korean":"Korean","Russian":"Russian","MSG251":"You have successfully shared the  ","LBL087":"Course","LBL088":"Enter a course","LBL096":"Code","LBL102":"Status","LBL106":"Seats","LBL107":"Name","LBL108":"Action","LBL109":"Cancel","LBL112":"mm-dd-yyyy","LBL113":"End: mm-dd-yyyy","LBL116":"Email From","LBL117":"Email To","LBL121":"optional","LBL123":"Close","LBL126":"Waitlist seat left","LBL127":"Waitlist seats left","LBL133":"Job Role","LBL134":"Manager Name","LBL137":"Organization Name","LBL138":"Waitlist","LBL173":"User Type","LBL181":"Type a Username","MSG262":"No search results found.","MSG263":"Do you want to cancel the enrollment?","MSG264":"The entire amount paid will be refunded back to your account","MSG266":"Do you still want to cancel the class registration?","LBL186":"enrolled","LBL190":"Waitlisted","LBL191":"Tags","LBL193":"Type a tag","Organization":"Organization","MSG268":"No courses have been associated","LBL199":"Launch","LBL202":"Attempts Left","LBL203":"Survey","LBL205":"Certificate","LBL218":"Select a date","LBL229":"Description","LBL231":"Attachments","LBL232":"(click to download)","LBL234":"Complete By","LBL247":"Course Equivalence","LBL251":"Start","LBL263":"Class Code","LBL271":" already exist.","LBL274":"Assessment","LBL275":"Enrollments","LBL277":"Sessions","LBL286":"Delete","LBL287":"Add","LBL295":"Session Name","Yes":"Yes","No":"No","LBL304":"Search","LBL316":"Classroom","LBL324":"Type a question","LBL325":"Question","ERR101":" is required.","ERR106":"Select one or more.","LBL342":"Yes","LBL343":"No","MSG311":"Users can register multiple times to the class.","ERR119":"Select one or more Users.","LBL416":"Loading...","LBL426":"Mandatory","LBL427":"Recommended","LBL428":"Any","LBL429":"Recertify","LBL432":"System","LBL435":"Class","LBL545":"Type title or code","CATALOG":"CATALOG","REPORTS":"Reports","Assessment":"Assessment","LBL569":"Done","LBL573":"Activate","LBL579":"Roles","LBL604":"Validity","LBL605":"days","LBL621":"To","Course":"Course","Class":"Class","Classroom":"Classroom","Video":"Video","Virtual Class":"Virtual Class","Web-based":"Web-based","LBL646":"Selected","LBL647":"AND","LBL648":"Starts on","LBL649":"From","LBL661":"View Option","LBL662":"Horizontal","LBL663":"Vertical","MSG379":"No classes exist under one of the associated courses. Registration failed. Contact Support Team.","MSG380":"No seats available for this program","Training Plan":"Training Plan","MSG381":"Your search did not return any results","LBL651":"Re-Certify","Mandatory":"Mandatory","Recommended":"Recommended","Optional":"Optional","LBL674":"Select","LBL668":"Score","LBL670":"Session Details","LBL675":"Select Start Date","LBL676":"Select End Date","MSG394":"You have already completed the survey.","MSG395":"Select atleast one option.","MSG399":"Paid training cannot be rescheduled. Contact Support.","MSG400":"Cancel the Course registration and Register again.","MSG401":"will be deducted if you cancel the class.","MSG402":"An amount of","MSG403":"There are no records in the system","LBL677":"Days Remaining","LBL680":"Canceled by","LBL681":"Completed by","LBL685":"completed","LBL686":"incomplete","LBL687":"expired","LBL688":"canceled","LBL689":"pending","LBL691":"Full Name","LBL692":"Previous","LBL693":"Next","LBL694":"Preview","LBL698":"Incomplete","LBL699":"Relevant to status","LBL702":"Type Course Title","LBL704":"Enrolled On","LBL706":"Completion Date","LBL726":"Not Registered","ERR149":"Select a class in each course.","LBL721":"Registration Status","LBL716":"Select Class","ERR152":"Invalid email address in","MSG419":"The session is completed.","MSG420":"The session has not started, try again at","MSG424":"Cancellation in progress.....","LBL713":"More","MSG430":"You are already enrolled in this program","LBL735":"Expires On","LBL737":"Web-based","LBL738":"Virtual Class","LBL739":"Video","LBL740":"Certification","LBL741":"Curricula","LBL742":"Learning Plan","LBL743":"C","LBL746":"R","LBL747":"Marked Complete","LBL749":"Confirmation","LBL756":"Type a Content name","LBL763":"Starts At","Not Registered":"Not Registered","Instructor":"Instructor","ERR154":"System error, Contact Support Team.","LBL766":"Type a Class Title or Code","MSG498":"There is no content attached to the class.","Compliance":"Compliance","ERR169":" are required.","MSG511":"Not Started","LBL816":"View","LBL820":"Order Id","LBL846":"Format Report Body","LBL847":"Format Report Header","LBL848":"Select options","MSG522":"Are you sure you want to delete?","LBL852":"User Profile","LBL854":"Lesson","LBL857":"Attempts","LBL868":"Add Comment","LBL871":"Post","MSG535":"You have already registered for the class","MSG536":"Do you want to register again?","LBL880":"Join","LBL889":"Lessons","LBL893":"Minimize","LBL894":"maximize","LBL910":"Day","Simplified Chinese":"Simplified Chinese","LBL930":"Unlock","LBL941":"RegFrom","LBL942":"Reserved","LBL945":"on","LBL951":"Type Class Title","In progress":"In progress","Incomplete":"Incomplete","No Show":"No Show","Attended":"Attended","Waitlist":"Waitlist","Manager":"Manager","MSG588":"per page","MSG605":"There are no users to be transferred.","LBL943":"Change","LBL929":"Message","LBL981":"of","LBL983":"Keyword","LBL989":"Page","LBL1003":"Module","LBL1039":"All","MSG639":"character types are lower case, upper case, digit or punctuation","MSG644":"The group name","LBL1064":"Points","Check":"Check","LBL1123":"Version","LBL1145":"Insert","LBL1154":"Select valid From Date","LBL1155":"To date cannot be less than the From date","MSG687":"Select an option.","LBL1163":"Do you want to confirm the order?","LBL1164":"Do you want to cancel the order?","LBL1165":"Refund","MSG692":"Cannot register since there is price associated to the Class.Contact Support.","LBL1193":"Incomplete on","LBL1207":"Schedule","LBL1224":"Last Run","LBL1230":"Type name or username","LBL1239":"Next Run","LBL1235":"Enter message. If empty SMS will not be sent to users.","LBL1246":"Priced training cannot be canceled. Cancellation can be done from the order screen.","LBL1253":"Pre","ERR245":"Attempts should not be less than 1","LBL1267":"You have already registered for another class of the same course","LBL1268":"Do you want to register to another class?","MSG711":"Access is not set. All users will be registered to the class if access is not set. Do you want to set Access?","Groups":"Groups","by":"by","Share":"Share","LBL1270":"Type a group name","Search for refine":"Search to refine","The location is associated to class":"The location is associated to class","You need to complete":"You need to complete","LBL1272":"Uncheck","E-MAIL":"E-MAIL","EMBED":"EMBED","LBL1275":"Widget Size","LBL1276":"Show thumbnail image","LBL1277":"Show description","LBL1278":"Show Register button","LBL1279":"Show Separator line","LBL1280":"Pass URL","ERR248":"Select the required details and activate the discount.","Reregister":"Reregister","!name cannot be longer than %max characters but is currently %length characters long.":"!name cannot be longer than %max characters but is currently %length characters long.","Panel":"Panel","MSG729":"Unchecking the manager role will remove all direct and indirect reports for this user. Do you want to continue?","MSG727":"Attempts not set for one or more content.","MSG728":"Do you want to proceed?","LBL1283":"Not Set","LBL1284":"Success Status","failed":"Failed","passed":"Passed","unknown":"Unknown","MSG730":"User enrollment is in progress. An email will be sent to you after it is done.","MSG746":"There are no currency to be added.","MSG747":"Are you sure you want to delete the currency","Waived":"Waived","MSG754":"Content is playing in a window. Close the window before launching another content."} };;
(function(b,c){var a=0;b.widget("ech.multiselect",{options:{header:true,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:Drupal.t("LBL848"),selectedText:"#",selectedList:0,show:"",hide:"",autoOpen:false,multiple:true,pagefrom:"",entityname:"",position:{},appendTo:"body"},_create:function(){if(this.options.pagefrom=="customattr"){this.options.noneSelectedText=Drupal.t("LBL674");}else{this.options.noneSelectedText=Drupal.t("LBL848");}var g=this.element.hide(),i=this.options;this.speed=b.fx.speeds._default;this._isOpen=false;var f=(this.button=b('<button type="button"><span class=" ui-icon ui-icon-triangle-1-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(i.classes).attr({title:g.attr("title"),"aria-haspopup":true,tabIndex:g.attr("tabIndex")}).insertAfter(g),d=(this.buttonlabel=b("<span />")).html(i.noneSelectedText).appendTo(f),h=(this.menu=b("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(i.classes).appendTo(b(i.appendTo)),k=(this.header=b("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(h),e=(this.headerLinkContainer=b("<ul />")).addClass("ui-helper-reset").html(function(){if(i.header===true){return'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+i.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+i.uncheckAllText+"</span></a></li>";
}else{if(typeof i.header==="string"){return"<li>"+i.header+"</li>";}else{return"";}}}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(k),j=(this.checkboxContainer=b("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(h);this._bindEvents();this.refresh(true);if(!i.multiple){h.addClass("ui-multiselect-single");}a++;},_init:function(){if(this.options.header===false){this.header.hide();}if(!this.options.multiple){this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();}if(this.options.autoOpen){this.open();}if(this.element.is(":disabled")){this.disable();}},refresh:function(i){var f=this.element;var h=this.options;var g=this.menu;var k=this.checkboxContainer;var d=[];var e="";var j=f.attr("id")||a++;f.find("option").each(function(n){var o=b(this);var t=this.parentNode;var r=this.innerHTML;var v=this.title;var s=this.value;var m="ui-multiselect-"+(this.id||j+"-option-"+n);
var w=this.disabled;var l=this.selected;var q=["ui-corner-all"];var p=(w?"ui-multiselect-disabled ":" ")+this.className;var u;if(t.tagName==="OPTGROUP"){u=t.getAttribute("label");if(b.inArray(u,d)===-1){e+='<li class="ui-multiselect-optgroup-label '+t.className+'"><a href="#">'+u+"</a></li>";d.push(u);}}if(w){q.push("ui-state-disabled");}if(l&&!h.multiple){q.push("ui-state-active");}e+='<li class="'+p+'">';e+='<label for="'+m+'" title="'+addslashesForReport(r)+'" class="'+q.join(" ")+'">';e+='<input id="'+m+'" name="multiselect_'+j+'" type="'+(h.multiple?"checkbox":"radio")+'" value="'+s+'" title="'+addslashesForReport(r)+'"';if(l){e+=' checked="checked"';e+=' aria-selected="true"';}if(w){e+=' disabled="disabled"';e+=' aria-disabled="true"';}e+=" /><span>"+titleRestrictionFadeoutImage(v,"rpt-grp-name")+"</span></label></li>";});k.html(e);this.labels=g.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();this._setMenuWidth();this.button[0].defaultValue=this.update();
if(!i){this._trigger("refresh");}},update:function(){var h=this.options;var e=this.inputs;var d=e.filter(":checked");var f=d.length;var g;if(f===0){g=h.noneSelectedText;}else{if(b.isFunction(h.selectedText)){g=h.selectedText.call(this,f,e.length,d.get());}else{if(/\d/.test(h.selectedList)&&h.selectedList>0&&f<=h.selectedList){g=d.map(function(){return b(this).next().html();}).get().join(", ");}else{g=h.selectedText.replace("#",f).replace("#",e.length)+" "+Drupal.t("LBL646");}}}this._setButtonValue(g);return g;},_setButtonValue:function(d){this.buttonlabel.text(d);},_bindEvents:function(){var d=this,e=this.button;function f(){d[d._isOpen?"close":"open"]();return false;}e.find("span").bind("click.multiselect",f);e.bind({click:f,keypress:function(g){switch(g.which){case 27:case 38:case 37:d.close();break;case 39:case 40:d.open();break;}},mouseenter:function(){if(!e.hasClass("ui-state-disabled")){b(this).addClass("ui-state-hover");}},mouseleave:function(){b(this).removeClass("ui-state-hover");
},focus:function(){if(!e.hasClass("ui-state-disabled")){b(this).addClass("ui-state-focus");}},blur:function(){b(this).removeClass("ui-state-focus");}});this.header.delegate("a","click.multiselect",function(g){if(b(this).hasClass("ui-multiselect-close")){d.close();}else{d[b(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();}g.preventDefault();});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(k){k.preventDefault();var j=b(this),i=j.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),g=i.get(),h=j.parent().text();if(d._trigger("beforeoptgrouptoggle",k,{inputs:g,label:h})===false){return;}d._toggleChecked(i.filter("[checked]").length!==i.length,i);d._trigger("optgrouptoggle",k,{inputs:g,label:h,checked:g[0].checked});}).delegate("label","mouseenter.multiselect",function(){if(!b(this).hasClass("ui-state-disabled")){d.labels.removeClass("ui-state-hover");b(this).addClass("ui-state-hover").find("input").focus();
}}).delegate("label","keydown.multiselect",function(g){g.preventDefault();switch(g.which){case 9:case 27:d.close();break;case 38:case 40:case 37:case 39:d._traverse(g.which,this);break;case 13:b(this).find("input")[0].click();break;}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(j){var i=b(this),k=this.value,h=this.checked,g=d.element.find("option");if(this.disabled||d._trigger("click",j,{value:k,text:this.title,checked:h})===false){j.preventDefault();return;}i.focus();i.attr("aria-selected",h);g.each(function(){if(this.value===k){this.selected=h;}else{if(!d.options.multiple){this.selected=false;}}});if(!d.options.multiple){d.labels.removeClass("ui-state-active");i.closest("label").toggleClass("ui-state-active",h);d.close();}d.element.trigger("change");setTimeout(b.proxy(d.update,d),10);});b(document).bind("mousedown.multiselect",function(g){if(d._isOpen&&!b.contains(d.menu[0],g.target)&&!b.contains(d.button[0],g.target)&&g.target!==d.button[0]){d.close();
}});b(this.element[0].form).bind("reset.multiselect",function(){setTimeout(b.proxy(d.refresh,d),10);});},_setButtonWidth:function(){var d=this.element.outerWidth(),e=this.options;if((/\d/.test(e.minWidth)&&d<e.minWidth)||(((e.entityname=="cre_sys_obt_loc")||(e.entityname=="cre_sys_obt_cnt")||(e.entityname=="cre_org")||(e.entityname=="cre_sys_obt_trp")||(e.entityname=="cre_sys_obt_cls"))&&e.pagefrom=="customattr")){d=e.minWidth;}this.button.width(d);},_setMenuWidth:function(){var d=this.menu,e=this.button.outerWidth()-parseInt(d.css("padding-left"),10)-parseInt(d.css("padding-right"),10)-parseInt(d.css("border-right-width"),10)-parseInt(d.css("border-left-width"),10);d.width(e||this.button.outerWidth());},_traverse:function(h,i){var f=b(i),e=h===38||h===37,d=f.parent()[e?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[e?"last":"first"]();if(!d.length){var g=this.menu.find("ul").last();this.menu.find("label")[e?"last":"first"]().trigger("mouseover");
g.scrollTop(e?g.height():0);}else{d.find("label").trigger("mouseover");}},_toggleState:function(e,d){return function(){if(!this.disabled){this[e]=d;}if(d){this.setAttribute("aria-selected",true);}else{this.removeAttribute("aria-selected");}};},_toggleChecked:function(d,h){var g=(h&&h.length)?h:this.labels.find("input"),f=this;g.each(this._toggleState("checked",d));g.eq(0).focus();this.update();var e=g.map(function(){return this.value;}).get();this.element.find("option").each(function(){if(!this.disabled&&b.inArray(this.value,e)>-1){f._toggleState("selected",d).call(this);}});if(g.length){this.element.trigger("change");}},_toggleDisabled:function(d){this.button.attr({disabled:d,"aria-disabled":d})[d?"addClass":"removeClass"]("ui-state-disabled");this.menu.find("input").attr({disabled:d,"aria-disabled":d}).parent()[d?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:d,"aria-disabled":d});},open:function(i){var l=this,h=this.button,d=this.menu,g=this.speed,f=this.options;
if(this._trigger("beforeopen")===false||h.hasClass("ui-state-disabled")||this._isOpen){return;}var k=d.find("ul").last(),m=f.show,j=h.offset();if(b.isArray(f.show)){m=f.show[0];g=f.show[1]||l.speed;}k.scrollTop(0).height(f.height);if(b.ui.position&&!b.isEmptyObject(f.position)){f.position.of=f.position.of||h;d.show().position(f.position).hide().show(m,g);}else{d.css({top:j.top+h.outerHeight(),left:j.left}).show(m,g);}this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");h.addClass("ui-state-active");this._isOpen=true;this._trigger("open");},close:function(){if(this._trigger("beforeclose")===false){return;}var f=this.options,d=f.hide,e=this.speed;if(b.isArray(f.hide)){d=f.hide[0];e=f.hide[1]||this.speed;}this.menu.hide(d,e);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=false;this._trigger("close");},enable:function(){this._toggleDisabled(false);},disable:function(){this._toggleDisabled(true);},checkAll:function(d){this._toggleChecked(true);
this._trigger("checkAll");},uncheckAll:function(){this._toggleChecked(false);this._trigger("uncheckAll");},getChecked:function(){return this.menu.find("input").filter("[checked]");},destroy:function(){b.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this;},isOpen:function(){return this._isOpen;},widget:function(){return this.menu;},_setOption:function(d,e){var f=this.menu;switch(d){case"header":f.find("div.ui-multiselect-header")[e?"show":"hide"]();break;case"checkAllText":f.find("a.ui-multiselect-all span").eq(-1).text(e);break;case"uncheckAllText":f.find("a.ui-multiselect-none span").eq(-1).text(e);break;case"height":f.find("ul").last().height(parseInt(e,10));break;case"minWidth":this.options[d]=parseInt(e,10);this._setButtonWidth();this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[d]=e;this.update();break;case"classes":f.add(this.button).removeClass(this.options.classes).addClass(e);
break;}b.Widget.prototype._setOption.apply(this,arguments);}});})(jQuery);;
(function(a){Drupal.behaviors.contextReactionBlock={attach:function(b){a("form.context-editor:not(.context-block-processed)").addClass("context-block-processed").each(function(){var c=a(this).attr("id");Drupal.contextBlockEditor=Drupal.contextBlockEditor||{};a(this).bind("init.pageEditor",function(d){Drupal.contextBlockEditor[c]=new DrupalContextBlockEditor(a(this));});a(this).bind("start.pageEditor",function(e,d){if(!d){d=a(this).data("defaultContext");}Drupal.contextBlockEditor[c].editStart(a(this),d);});a(this).bind("end.pageEditor",function(d){Drupal.contextBlockEditor[c].editFinish();});});a("#context-blockform:not(.processed)").each(function(){a(this).addClass("processed");Drupal.contextBlockForm=new DrupalContextBlockForm(a(this));Drupal.contextBlockForm.setState();});a("#context-blockform a.remove:not(.processed)").each(function(){a(this).addClass("processed");a(this).click(function(){a(this).parents("tr").eq(0).remove();Drupal.contextBlockForm.setState();return false;});});a("div.context-block-browser",b).nextAll(".form-item").hide();
}};DrupalContextBlockForm=function(b){this.state={};this.setState=function(){a("table.context-blockform-region",b).each(function(){var c=a(this).attr("id").split("context-blockform-region-")[1];var d=[];a("tr",a(this)).each(function(){var e=a(this).attr("id");var f=a(this).find("select,input").first().val();d.push({bid:e,weight:f});});Drupal.contextBlockForm.state[c]=d;});a("form input.context-blockform-state").val(JSON.stringify(this.state));a("table.context-blockform-region tr").each(function(){var c=a(this).attr("id");a("div.context-blockform-selector input[value="+c+"]").parents("div.form-item").eq(0).hide();});a("div.context-blockform-selector input").each(function(){var c=a(this).val();if(a("table.context-blockform-region tr#"+c).size()===0){a(this).parents("div.form-item").eq(0).show();}});};a("#ctools-export-ui-edit-item-form").submit(function(){Drupal.contextBlockForm.setState();});a.each(Drupal.settings.tableDrag,function(d){var c=a("#"+d+":not(.processed)",b);if(c&&c.is(".context-blockform-region")){c.addClass("processed");
c.bind("mouseup",function(e){Drupal.contextBlockForm.setState();return;});}});a("td.blocks a",b).each(function(){a(this).click(function(){var h=a(this).attr("href").split("#")[1];var g="context-blockform-region-"+h;var f=a("div.context-blockform-selector input:checked");if(f.size()>0){var e=false;var c=-10;var i=10;var d=c-1;a("table#"+g+" tr").each(function(){var j=a(this).find("select,input").first().val();if(+j>+d){d=j;}});f.each(function(){var n=document.createElement("tr");var m=a(this).parents("div.form-item").eq(0).hide().children("label").text();var j='<div class="form-item form-type-select"><select class="tabledrag-hide form-select">';var k;e=true;var l=i;if(i>=(1+ +d)){l=++d;e=false;}for(k=c;k<=i;++k){j+="<option";if(k==l){j+=" selected=selected";}j+=">"+k+"</option>";}j+="</select></div>";a(n).attr("id",a(this).attr("value")).addClass("draggable");a(n).html("<td>"+m+"</td><td>"+j+"</td><td><a href='' class='remove'>X</a></td>");Drupal.tableDrag[g].makeDraggable(n);a("table#"+g).append(n);
if(a.cookie("Drupal.tableDrag.showWeight")==1){a("table#"+g).find(".tabledrag-hide").css("display","");a("table#"+g).find(".tabledrag-handle").css("display","none");}else{a("table#"+g).find(".tabledrag-hide").css("display","none");a("table#"+g).find(".tabledrag-handle").css("display","");}Drupal.attachBehaviors(a("table#"+g));Drupal.contextBlockForm.setState();a(this).removeAttr("checked");});if(e){alert(Drupal.t("Desired block weight exceeds available weight options, please check weights for blocks before saving"));}}return false;});});};DrupalContextBlockEditor=function(b){this.editor=b;this.state={};this.blocks={};this.regions={};return this;};DrupalContextBlockEditor.prototype={initBlocks:function(c){var b=this;this.blocks=c;c.each(function(){if(a(this).hasClass("context-block-empty")){a(this).removeClass("context-block-hidden");}a(this).addClass("draggable");a(this).prepend(a('<a class="context-block-handle"></a>'));a(this).prepend(a('<a class="context-block-remove"></a>').click(function(){a(this).parent(".block").eq(0).fadeOut("medium",function(){a(this).remove();
b.updateBlocks();});return false;}));});},initRegions:function(c){this.regions=c;var b=this;a(c).not(".context-ui-processed").each(function(d,e){a(".context-ui-add-link",e).click(function(f){b.showBlockBrowser(a(this).parent());}).addClass("context-ui-processed");});a(".context-block-browser").hide();},showBlockBrowser:function(g){var h=false;var c=a(".context-editing",this.editor).attr("id").replace("-trigger",""),d=a("#"+c)[0];this.browser=a(".context-block-browser",d).addClass("active");if(!this.browser.has("input.filter").size()){var e=a(".block-browser-sidebar .filter",this.browser);var f=a(".blocks",this.browser);new Drupal.Filter(f,false,".context-block-addable",e);}this.browser.show().dialog({modal:true,close:function(){a(this).dialog("destroy");a(".category",this).show();a(this).hide().appendTo(d).removeClass("active");},height:(0.8*a(window).height()),minHeight:400,minWidth:680,width:680});a(".context-block-browser-categories",this.browser).change(function(i){if(a(this).val()==0){a(".category",b.browser).show();
}else{a(".category",b.browser).hide();a(".category-"+a(this).val(),b.browser).show();}});if(this.addToRegion){a(".context-block-addable",this.browser).unbind("click.addToRegion");}var b=this;this.addToRegion=function(j){var i={item:a(this).clone(),sender:a(g)};a(this).parents(".context-block-browser.active").dialog("close");a(g).after(i.item);b.addBlock(j,i,this.editor,c.replace("context-editable-",""));};a(".context-block-addable",this.browser).bind("click.addToRegion",this.addToRegion);},updateBlocks:function(){var b=a("div.context-block-browser");a(".block, .admin-block").each(function(){var c=a(this).attr("id").split("block-")[1];});a(".context-block-item",b).each(function(){var c=a(this).attr("id").split("context-block-addable-")[1];});a(this.regions).each(function(){if(a(".block:has(a.context-block)",this).size()>0){a(this).removeClass("context-block-region-empty");}else{a(this).addClass("context-block-region-empty");}});},updateRegion:function(b,c,d,e){switch(e){case"over":a(d).removeClass("context-block-region-empty");
break;case"out":if(a(".draggable-placeholder",d).size()===1&&a(".block:has(a.context-block)",d).size()==0){a(d).addClass("context-block-region-empty");}break;}},scriptFix:function(e,f,d,c){if(a("script",f.item)){var g=a(Drupal.settings.contextBlockEditor.scriptPlaceholder);var b=a("div.handle label",f.item).text();g.children("strong").html(b);a("script",f.item).parent().empty().append(g);}},addBlock:function(g,h,f,e){var b=this;if(h.item.is(".context-block-addable")){var c=h.item.attr("id").split("context-block-addable-")[1];var i=Drupal.settings.contextBlockEditor.params;i.context_block=c+","+e;if(!Drupal.settings.contextBlockEditor.block_tokens||!Drupal.settings.contextBlockEditor.block_tokens[c]){alert(Drupal.t("An error occurred trying to retrieve block content. Please contact a site administer."));return;}i.context_token=Drupal.settings.contextBlockEditor.block_tokens[c];var d=a('<div class="context-block-item context-block-loading"><span class="icon"></span></div>');h.item.addClass("context-block-added");
h.item.after(d);a.getJSON(Drupal.settings.contextBlockEditor.path,i,function(j){if(j.status){var k=a(j.block);if(a("script",k)){a("script",k).remove();}d.fadeOut(function(){a(this).replaceWith(k);b.initBlocks(k);b.updateBlocks();Drupal.attachBehaviors(k);});}else{d.fadeOut(function(){a(this).remove();});}});}else{if(h.item.is(":has(a.context-block)")){b.updateBlocks();}}},setState:function(){var b=this;a(this.regions).each(function(){var c=a(".context-block-region",this).attr("id").split("context-block-region-")[1];var d=[];a("a.context-block",a(this)).each(function(){if(a(this).attr("class").indexOf("edit-")!=-1){var e=a(this).attr("id").split("context-block-")[1];var f=a(this).attr("class").split("edit-")[1].split(" ")[0];f=f?f:0;var g={bid:e,context:f};d.push(g);}});b.state[c]=d;});a("input.context-block-editor-state",this.editor).val(JSON.stringify(this.state));},disableTextSelect:function(){if(a.browser.safari){a(".block:has(a.context-block):not(:has(input,textarea))").css("WebkitUserSelect","none");
}else{if(a.browser.mozilla){a(".block:has(a.context-block):not(:has(input,textarea))").css("MozUserSelect","none");}else{if(a.browser.msie){a(".block:has(a.context-block):not(:has(input,textarea))").bind("selectstart.contextBlockEditor",function(){return false;});}else{a(this).bind("mousedown.contextBlockEditor",function(){return false;});}}}},enableTextSelect:function(){if(a.browser.safari){a("*").css("WebkitUserSelect","");}else{if(a.browser.mozilla){a("*").css("MozUserSelect","");}else{if(a.browser.msie){a("*").unbind("selectstart.contextBlockEditor");}else{a(this).unbind("mousedown.contextBlockEditor");}}}},editStart:function(e,d){var b=this;a(document.body).addClass("context-editing");this.editor.addClass("context-editing");this.disableTextSelect();this.initBlocks(a(".block:has(a.context-block.edit-"+d+")"));this.initRegions(a(".context-block-region").parent());this.updateBlocks();a("a.context_ui_dialog-stop").hide();a(".editing-context-label").remove();var c=a("#context-editable-trigger-"+d+" .label").text();
c=Drupal.t("Now Editing: ")+c;e.parent().parent().prepend('<div class="editing-context-label">'+c+"</div>");a(this.regions).each(function(){var f=a(this);var g={revert:true,dropOnEmpty:true,placeholder:"draggable-placeholder",forcePlaceholderSize:true,items:"> .block:has(a.context-block.editable)",handle:"a.context-block-handle",start:function(h,i){b.scriptFix(h,i,e,d);},stop:function(h,i){b.addBlock(h,i,e,d);},receive:function(h,i){b.addBlock(h,i,e,d);},over:function(h,i){b.updateRegion(h,i,f,"over");},out:function(h,i){b.updateRegion(h,i,f,"out");},cursorAt:{left:300,top:0}};f.sortable(g);});a(this.regions).each(function(){a(this).sortable("option","connectWith",[".ui-sortable"]);});if(a.ui.version==="1.6"&&a.browser.safari){a.browser.mozilla=true;}},editFinish:function(){this.editor.removeClass("context-editing");this.enableTextSelect();a(".editing-context-label").remove();a(this.blocks).each(function(){a("a.context-block-handle, a.context-block-remove",this).remove();if(a(this).hasClass("context-block-empty")){a(this).addClass("context-block-hidden");
}a(this).removeClass("draggable");});a("a.context_ui_dialog-stop").show();this.regions.sortable("destroy");this.setState();if(a.ui.version==="1.6"&&a.browser.safari){a.browser.mozilla=false;}}};})(jQuery);;
(function(a,b){if(a.ui&&a.ui.dialog){a.ui.dialog.overlay.events=a.map("focus,keydown,keypress".split(","),function(c){return c+".dialog-overlay";}).join(" ");}}(jQuery));;
