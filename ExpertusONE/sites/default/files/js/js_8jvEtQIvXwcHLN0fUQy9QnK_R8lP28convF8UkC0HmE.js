function sleep(a){var c=new Date().getTime();for(var b=0;b<10000000;b++){if((new Date().getTime()-c)>a){break;}}}(function(a){Drupal.behaviors.exp_sp_session_timeout={attach:function(d,f){if(d!=document){return;}var g;var o;var c;var k;var e;var l;k=jQuery.extend(true,{},f.exp_sp_session_timeout);if(k.refresh_only){o=setTimeout(m,k.timeout);}else{e=false;a("body").bind("formUpdated",function(q){a(q.target).trigger("preventAutologout");});if(typeof CKEDITOR!=="undefined"){CKEDITOR.on("instanceCreated",function(q){q.editor.on("contentDom",function(){q.editor.document.on("keyup",function(r){a(q.editor.element.$).trigger("preventAutologout");});});});}a("body").bind("preventAutologout",function(q){e=true;clearTimeout(l);l=setTimeout(function(){e=false;},60000);});o=setTimeout(n,k.timeout);}function n(){var q=Drupal.settings.exp_sp_session_timeout.no_dialog;if(e){e=false;i();}else{g=setTimeout(h,k.timeout_padding);Drupal.ajax["exp_sp_session_timeout.getTimeLeft"].exp_sp_session_timeoutGetTimeLeft(function(r){if(r>0){clearTimeout(g);
o=setTimeout(n,r);}else{if(q){p();return;}c=j();}});}}function j(){var q={};q[Drupal.t("Yes")]=function(){a(this).dialog("destroy");clearTimeout(g);i();};q[Drupal.t("No")]=function(){a(this).dialog("destroy");p();};return a('<div id="exp_sp_session_timeout-confirm"> '+k.message+"</div>").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,modal:true,title:Drupal.t("LBL286"),buttons:q,dialogClass:"exp_sp_session_timeout-dialog",draggable:false,overlay:{opacity:0.9,background:"black"},close:function(r,s){p();}});}function h(){a(c).dialog("destroy");Drupal.ajax["exp_sp_session_timeout.getTimeLeft"].exp_sp_session_timeoutGetTimeLeft(function(q){if(q>0){o=setTimeout(n,q);}else{p();}});}function p(){if(k.use_alt_logout_method){window.location=Drupal.settings.basePath+"?q=exp_sp_session_timeout_ahah_logout/alt";}else{var r=k.redirect_url.indexOf("canvas");var q=k.redirect_url.indexOf("salesforce/widget");if((q!=-1)||(r!=-1)){clearTimeout(g);i();}else{a.ajax({url:Drupal.settings.basePath+"?q=exp_sp_session_timeout_ahah_logout",type:"POST",success:function(){window.location=k.redirect_url;
},error:function(s,t){if(s.status==403||s.status==404){window.location=k.redirect_url;}}});}}}Drupal.ajax.prototype.exp_sp_session_timeoutGetTimeLeft=function(s){var q=this;if(q.ajaxing){return false;}q.options.success=function(u,t){if(typeof u=="string"){u=a.parseJSON(u);}if(typeof u[1].command==="string"&&u[1].command=="alert"){window.location=k.redirect_url;}if(u[2].settings!=null){s(u[2].settings.time);}else{s(u[4].settings.time);}return q.success(u,t);};try{q.beforeSerialize(q.element,q.options);a.ajax(q.options);a("body.progress-disabled").removeClass("progress-disabled");}catch(r){q.ajaxing=false;}};Drupal.ajax["exp_sp_session_timeout.getTimeLeft"]=new Drupal.ajax(null,a(document.body),{url:Drupal.settings.basePath+"?q=exp_sp_session_timeout_ajax_get_time_left",event:"exp_sp_session_timeout.getTimeLeft",error:function(q,r){}});Drupal.ajax.prototype.exp_sp_session_timeoutRefresh=function(r){var q=this;if(q.ajaxing){return false;}q.options.success=function(u,t){if(typeof u=="string"){u=a.parseJSON(u);
}if(typeof u[1].command==="string"&&u[1].command=="alert"){window.location=k.redirect_url;}o=setTimeout(r,k.timeout);e=false;return q.success(u,t);};try{q.beforeSerialize(q.element,q.options);a.ajax(q.options);a("body.progress-disabled").removeClass("progress-disabled");}catch(s){q.ajaxing=false;}};Drupal.ajax["exp_sp_session_timeout.refresh"]=new Drupal.ajax(null,a(document.body),{url:Drupal.settings.basePath+"?q=exp_sp_session_timeout_ahah_set_last",event:"exp_sp_session_timeout.refresh",error:function(q,r){}});function m(){Drupal.ajax["exp_sp_session_timeout.refresh"].exp_sp_session_timeoutRefresh(m);}function i(){Drupal.ajax["exp_sp_session_timeout.refresh"].exp_sp_session_timeoutRefresh(n);}var b=a("#exp_sp_session_timeout-cache-check-bit");if(b.length!==0){if(b.val()=="1"&&a("#timer").size()>0){i();}b.val("1");}}};})(jQuery);;
(function(a,b){if(typeof exports==="object"){b(exports);}else{if(typeof define==="function"&&define.amd){define(["exports"],b);}else{b(a);}}}(this,function(J){var t="2.5.0";function G(S){this._targetElement=S;this._introItems=[];this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:false,hideNext:false,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:true,exitOnOverlayClick:true,showStepNumbers:true,keyboardNavigation:true,showButtons:true,showBullets:true,showProgress:false,scrollToElement:true,overlayOpacity:0.8,scrollPadding:30,positionPrecedence:["bottom","top","right","left"],disableInteraction:false,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:true};}function P(ac){var T=[],ag=this;if(this._options.steps){for(var X=0,ae=this._options.steps.length;X<ae;X++){var ad=l(this._options.steps[X]);ad.step=T.length+1;if(typeof(ad.element)==="string"){ad.element=document.querySelector(ad.element);}if(typeof(ad.element)==="undefined"||ad.element==null){var ah=document.querySelector(".introjsFloatingElement");
if(ah==null){ah=document.createElement("div");ah.className="introjsFloatingElement";document.body.appendChild(ah);}ad.element=ah;ad.position="floating";}if(ad.element!=null){T.push(ad);}}}else{var Y=ac.querySelectorAll("*[data-intro]");if(Y.length<1){return false;}for(var X=0,U=Y.length;X<U;X++){var Z=Y[X];if(Z.style.display=="none"){continue;}var S=parseInt(Z.getAttribute("data-step"),10);if(S>0){T[S-1]={element:Z,intro:Z.getAttribute("data-intro"),step:parseInt(Z.getAttribute("data-step"),10),tooltipClass:Z.getAttribute("data-tooltipClass"),highlightClass:Z.getAttribute("data-highlightClass"),position:Z.getAttribute("data-position")||this._options.tooltipPosition};}}var V=0;for(var X=0,U=Y.length;X<U;X++){var Z=Y[X];if(Z.getAttribute("data-step")==null){while(true){if(typeof T[V]=="undefined"){break;}else{V++;}}T[V]={element:Z,intro:Z.getAttribute("data-intro"),step:V+1,tooltipClass:Z.getAttribute("data-tooltipClass"),highlightClass:Z.getAttribute("data-highlightClass"),position:Z.getAttribute("data-position")||this._options.tooltipPosition};
}}}var ab=[];for(var aa=0;aa<T.length;aa++){T[aa]&&ab.push(T[aa]);}T=ab;T.sort(function(aj,ai){return aj.step-ai.step;});ag._introItems=T;if(m.call(ag,ac)){a.call(ag);var af=ac.querySelector(".introjs-skipbutton"),W=ac.querySelector(".introjs-nextbutton");ag._onKeyDown=function(aj){if(aj.keyCode===27&&ag._options.exitOnEsc==true){D.call(ag,ac);}else{if(aj.keyCode===37){M.call(ag);}else{if(aj.keyCode===39){a.call(ag);}else{if(aj.keyCode===13){var ai=aj.target||aj.srcElement;if(ai&&ai.className.indexOf("introjs-prevbutton")>0){M.call(ag);}else{if(ai&&ai.className.indexOf("introjs-skipbutton")>0){if(ag._introItems.length-1==ag._currentStep&&typeof(ag._introCompleteCallback)==="function"){ag._introCompleteCallback.call(ag);}D.call(ag,ac);}else{a.call(ag);}}if(aj.preventDefault){aj.preventDefault();}else{aj.returnValue=false;}}}}}};ag._onResize=function(ai){x.call(ag,document.querySelector(".introjs-helperLayer"));x.call(ag,document.querySelector(".introjs-tooltipReferenceLayer"));};if(window.addEventListener){if(this._options.keyboardNavigation){window.addEventListener("keydown",ag._onKeyDown,true);
}window.addEventListener("resize",ag._onResize,true);}else{if(document.attachEvent){if(this._options.keyboardNavigation){document.attachEvent("onkeydown",ag._onKeyDown);}document.attachEvent("onresize",ag._onResize);}}}return false;}function l(T){if(T==null||typeof(T)!="object"||typeof(T.nodeType)!="undefined"){return T;}var S={};for(var U in T){if(typeof(jQuery)!="undefined"&&T[U] instanceof jQuery){S[U]=T[U];}else{S[U]=l(T[U]);}}return S;}function n(S){this._currentStep=S-2;if(typeof(this._introItems)!=="undefined"){a.call(this);}}function e(S){this._currentStepNumber=S;if(typeof(this._introItems)!=="undefined"){a.call(this);}}function a(){this._direction="forward";if(typeof(this._currentStepNumber)!=="undefined"){for(var U=0,T=this._introItems.length;U<T;U++){var V=this._introItems[U];if(V.step===this._currentStepNumber){this._currentStep=U-1;this._currentStepNumber=undefined;}}}if(typeof(this._currentStep)==="undefined"){this._currentStep=0;}else{++this._currentStep;}if((this._introItems.length)<=this._currentStep){if(typeof(this._introCompleteCallback)==="function"){this._introCompleteCallback.call(this);
}D.call(this,this._targetElement);return;}var S=this._introItems[this._currentStep];if(typeof(this._introBeforeChangeCallback)!=="undefined"){this._introBeforeChangeCallback.call(this,S.element);}I.call(this,S);}function M(){this._direction="backward";if(this._currentStep===0){return false;}var S=this._introItems[--this._currentStep];if(typeof(this._introBeforeChangeCallback)!=="undefined"){this._introBeforeChangeCallback.call(this,S.element);}I.call(this,S);}function D(Y){var V=Y.querySelectorAll(".introjs-overlay");if(V&&V.length>0){for(var W=V.length-1;W>=0;W--){var aa=V[W];aa.style.opacity=0;setTimeout(function(){if(this.parentNode){this.parentNode.removeChild(this);}}.bind(aa),500);}}var S=Y.querySelector(".introjs-helperLayer");if(S){S.parentNode.removeChild(S);}var Z=Y.querySelector(".introjs-tooltipReferenceLayer");if(Z){Z.parentNode.removeChild(Z);}var X=Y.querySelector(".introjs-disableInteraction");if(X){X.parentNode.removeChild(X);}var T=document.querySelector(".introjsFloatingElement");
if(T){T.parentNode.removeChild(T);}R();var U=document.querySelectorAll(".introjs-fixParent");if(U&&U.length>0){for(var W=U.length-1;W>=0;W--){U[W].className=U[W].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");}}if(window.removeEventListener){window.removeEventListener("keydown",this._onKeyDown,true);}else{if(document.detachEvent){document.detachEvent("onkeydown",this._onKeyDown);}}if(this._introExitCallback!=undefined){this._introExitCallback.call(self);}this._currentStep=undefined;}function O(W,ad,ab,aa,ae){var T="",X,Y,af,Z,U;ae=ae||false;ad.style.top=null;ad.style.right=null;ad.style.bottom=null;ad.style.left=null;ad.style.marginLeft=null;ad.style.marginTop=null;ab.style.display="inherit";if(typeof(aa)!="undefined"&&aa!=null){aa.style.top=null;aa.style.left=null;}if(!this._introItems[this._currentStep]){return;}X=this._introItems[this._currentStep];if(typeof(X.tooltipClass)==="string"){T=X.tooltipClass;}else{T=this._options.tooltipClass;}ad.className=("introjs-tooltip "+T).replace(/^\s+|\s+$/g,"");
U=this._introItems[this._currentStep].position;if((U=="auto"||this._options.tooltipPosition=="auto")){if(U!="floating"){U=F.call(this,W,ad,U);}}af=b(W);Y=b(ad);Z=r();switch(U){case"top":ab.className="introjs-arrow bottom";if(ae){var V=0;}else{var V=15;}q(af,V,Y,Z,ad);ad.style.bottom=(af.height+20)+"px";break;case"right":ad.style.left=(af.width+20)+"px";if(af.top+Y.height>Z.height){ab.className="introjs-arrow left-bottom";ad.style.top="-"+(Y.height-af.height-20)+"px";}else{ab.className="introjs-arrow left";}break;case"left":if(!ae&&this._options.showStepNumbers==true){ad.style.top="15px";}if(af.top+Y.height>Z.height){ad.style.top="-"+(Y.height-af.height-20)+"px";ab.className="introjs-arrow right-bottom";}else{ab.className="introjs-arrow right";}ad.style.right=(af.width+20)+"px";break;case"floating":ab.style.display="none";ad.style.left="50%";ad.style.top="50%";ad.style.marginLeft="-"+(Y.width/2)+"px";ad.style.marginTop="-"+(Y.height/2)+"px";if(typeof(aa)!="undefined"&&aa!=null){aa.style.left="-"+((Y.width/2)+18)+"px";
aa.style.top="-"+((Y.height/2)+18)+"px";}break;case"bottom-right-aligned":ab.className="introjs-arrow top-right";var ac=0;f(af,ac,Y,ad);ad.style.top=(af.height+20)+"px";break;case"bottom-middle-aligned":ab.className="introjs-arrow top-middle";var S=af.width/2-Y.width/2;if(ae){S+=5;}if(f(af,S,Y,ad)){ad.style.right=null;q(af,S,Y,Z,ad);}ad.style.top=(af.height+20)+"px";break;case"bottom-left-aligned":case"bottom":default:ab.className="introjs-arrow top";var V=0;q(af,V,Y,Z,ad);ad.style.top=(af.height+20)+"px";break;}}function q(W,U,V,S,T){if(W.left+U+V.width>S.width){T.style.left=(S.width-V.width-W.left)+"px";return false;}T.style.left=U+"px";return true;}function f(V,T,U,S){if(V.left+V.width-T-U.width<0){S.style.left=(-V.left)+"px";return false;}S.style.right=T+"px";return true;}function F(V,Y,W){var T=this._options.positionPrecedence.slice();var X=r();var Z=b(Y).height+10;var U=b(Y).width+20;var aa=b(V);var S="floating";if(aa.left+U>X.width||((aa.left+(aa.width/2))-U)<0){K(T,"bottom");K(T,"top");
}else{if((aa.height+aa.top+Z)>X.height){K(T,"bottom");}if(aa.top-Z<0){K(T,"top");}}if(aa.width+aa.left+U>X.width){K(T,"right");}if(aa.left-U<0){K(T,"left");}if(T.length>0){S=T[0];}if(W&&W!="auto"){if(T.indexOf(W)>-1){S=W;}}return S;}function K(S,T){if(S.indexOf(T)>-1){S.splice(S.indexOf(T),1);}}function x(S){if(S){if(!this._introItems[this._currentStep]){return;}var T=this._introItems[this._currentStep],U=b(T.element),V=10;if(g(T.element)){S.className+=" introjs-fixedTooltip";}else{S.className=S.className.replace(" introjs-fixedTooltip","");}if(T.position=="floating"){V=0;}S.setAttribute("style","width: "+(U.width+V)+"px; height:"+(U.height+V)+"px; top:"+(U.top-5)+"px;left: "+(U.left-5)+"px;");}}function k(){var S=document.querySelector(".introjs-disableInteraction");if(S===null){S=document.createElement("div");S.className="introjs-disableInteraction";this._targetElement.appendChild(S);}x.call(this,S);}function s(S){S.setAttribute("role","button");S.tabIndex=0;}function I(ah){if(typeof(this._introChangeCallback)!=="undefined"){this._introChangeCallback.call(this,ah.element);
}var ak=this,ab=document.querySelector(".introjs-helperLayer"),ar=document.querySelector(".introjs-tooltipReferenceLayer"),ay="introjs-helperLayer",ai=b(ah.element);if(typeof(ah.highlightClass)==="string"){ay+=(" "+ah.highlightClass);}if(typeof(this._options.highlightClass)==="string"){ay+=(" "+this._options.highlightClass);}if(ab!=null){var ax=ar.querySelector(".introjs-helperNumberLayer"),Y=ar.querySelector(".introjs-tooltiptext"),W=ar.querySelector(".introjs-arrow"),at=ar.querySelector(".introjs-tooltip"),az=ar.querySelector(".introjs-skipbutton"),T=ar.querySelector(".introjs-prevbutton"),ag=ar.querySelector(".introjs-nextbutton");ab.className=ay;at.style.opacity=0;at.style.display="none";if(ax!=null){var aA=this._introItems[(ah.step-2>=0?ah.step-2:0)];if(aA!=null&&(this._direction=="forward"&&aA.position=="floating")||(this._direction=="backward"&&ah.position=="floating")){ax.style.opacity=0;}}x.call(ak,ab);x.call(ak,ar);var V=document.querySelectorAll(".introjs-fixParent");if(V&&V.length>0){for(var aq=V.length-1;
aq>=0;aq--){V[aq].className=V[aq].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");}}R();if(ak._lastShowElementTimer){clearTimeout(ak._lastShowElementTimer);}ak._lastShowElementTimer=setTimeout(function(){if(ax!=null){ax.innerHTML=ah.step;}Y.innerHTML=ah.intro;at.style.display="block";O.call(ak,ah.element,at,W,ax);if(ak._options.showBullets){ar.querySelector(".introjs-bullets li > a.active").className="";ar.querySelector('.introjs-bullets li > a[data-stepnumber="'+ah.step+'"]').className="active";}ar.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+B.call(ak)+"%;");at.style.opacity=1;if(ax){ax.style.opacity=1;}if(ag.tabIndex===-1){az.focus();}else{ag.focus();}},350);}else{var av=document.createElement("div"),aw=document.createElement("div"),aa=document.createElement("div"),Z=document.createElement("div"),af=document.createElement("div"),ap=document.createElement("div"),S=document.createElement("div"),ac=document.createElement("div");
av.className=ay;aw.className="introjs-tooltipReferenceLayer";x.call(ak,av);x.call(ak,aw);this._targetElement.appendChild(av);this._targetElement.appendChild(aw);aa.className="introjs-arrow";af.className="introjs-tooltiptext";af.innerHTML=ah.intro;ap.className="introjs-bullets";if(this._options.showBullets===false){ap.style.display="none";}var ao=document.createElement("ul");for(var aq=0,an=this._introItems.length;aq<an;aq++){var au=document.createElement("li");var ad=document.createElement("a");ad.onclick=function(){ak.goToStep(this.getAttribute("data-stepnumber"));};if(aq===(ah.step-1)){ad.className="active";}s(ad);ad.innerHTML="&nbsp;";ad.setAttribute("data-stepnumber",this._introItems[aq].step);au.appendChild(ad);ao.appendChild(au);}ap.appendChild(ao);S.className="introjs-progress";if(this._options.showProgress===false){S.style.display="none";}var al=document.createElement("div");al.className="introjs-progressbar";al.setAttribute("style","width:"+B.call(this)+"%;");S.appendChild(al);
ac.className="introjs-tooltipbuttons";if(this._options.showButtons===false){ac.style.display="none";}Z.className="introjs-tooltip";Z.appendChild(af);Z.appendChild(ap);Z.appendChild(S);if(this._options.showStepNumbers==true){var am=document.createElement("span");am.className="introjs-helperNumberLayer";am.innerHTML=ah.step;aw.appendChild(am);}Z.appendChild(aa);aw.appendChild(Z);var ag=document.createElement("a");ag.onclick=function(){if(ak._introItems.length-1!=ak._currentStep){a.call(ak);}};s(ag);ag.innerHTML=this._options.nextLabel;var T=document.createElement("a");T.onclick=function(){if(ak._currentStep!=0){M.call(ak);}};s(T);T.innerHTML=this._options.prevLabel;var az=document.createElement("a");az.className="introjs-button introjs-skipbutton";s(az);az.innerHTML=this._options.skipLabel;az.onclick=function(){if(ak._introItems.length-1==ak._currentStep&&typeof(ak._introCompleteCallback)==="function"){ak._introCompleteCallback.call(ak);}D.call(ak,ak._targetElement);};ac.appendChild(az);if(this._introItems.length>1){ac.appendChild(T);
ac.appendChild(ag);}Z.appendChild(ac);O.call(ak,ah.element,Z,aa,am);}if(this._options.disableInteraction===true){k.call(ak);}T.removeAttribute("tabIndex");ag.removeAttribute("tabIndex");if(this._currentStep==0&&this._introItems.length>1){az.className="introjs-button introjs-skipbutton";ag.className="introjs-button introjs-nextbutton";if(this._options.hidePrev==true){T.className="introjs-button introjs-prevbutton introjs-hidden";ag.className+=" introjs-fullbutton";}else{T.className="introjs-button introjs-prevbutton introjs-disabled";}T.tabIndex="-1";az.innerHTML=this._options.skipLabel;}else{if(this._introItems.length-1==this._currentStep||this._introItems.length==1){az.innerHTML=this._options.doneLabel;az.className+=" introjs-donebutton";T.className="introjs-button introjs-prevbutton";if(this._options.hideNext==true){ag.className="introjs-button introjs-nextbutton introjs-hidden";T.className+=" introjs-fullbutton";}else{ag.className="introjs-button introjs-nextbutton introjs-disabled";
}ag.tabIndex="-1";}else{az.className="introjs-button introjs-skipbutton";T.className="introjs-button introjs-prevbutton";ag.className="introjs-button introjs-nextbutton";az.innerHTML=this._options.skipLabel;}}ag.focus();Q(ah);if(!p(ah.element)&&this._options.scrollToElement===true){var U=ah.element.getBoundingClientRect(),X=r().height,aj=U.bottom-(U.bottom-U.top),ae=U.bottom-X;if(aj<0||ah.element.clientHeight>X){window.scrollBy(0,aj-this._options.scrollPadding);}else{window.scrollBy(0,ae+70+this._options.scrollPadding);}}if(typeof(this._introAfterChangeCallback)!=="undefined"){this._introAfterChangeCallback.call(this,ah.element);}}function R(){var U=document.querySelectorAll(".introjs-showElement");for(var T=0,S=U.length;T<S;T++){var V=U[T];y(V,/introjs-[a-zA-Z]+/g);}}function Q(V){if(V.element instanceof SVGElement){var W=V.element.parentNode;while(V.element.parentNode!=null){if(!W.tagName||W.tagName.toLowerCase()==="body"){break;}if(W.tagName.toLowerCase()==="svg"){C(W,"introjs-showElement introjs-relativePosition");
}W=W.parentNode;}}C(V.element,"introjs-showElement");var S=N(V.element,"position");if(S!=="absolute"&&S!=="relative"&&S!=="fixed"){C(V.element,"introjs-relativePosition");}var W=V.element.parentNode;while(W!=null){if(!W.tagName||W.tagName.toLowerCase()==="body"){break;}var X=N(W,"z-index");var U=parseFloat(N(W,"opacity"));var T=N(W,"transform")||N(W,"-webkit-transform")||N(W,"-moz-transform")||N(W,"-ms-transform")||N(W,"-o-transform");if(/[0-9]+/.test(X)||U<1||(T!=="none"&&T!==undefined)){W.className+=" introjs-fixParent";}W=W.parentNode;}}function C(S,T){if(S instanceof SVGElement){var U=S.getAttribute("class")||"";S.setAttribute("class",U+" "+T);}else{S.className+=" "+T;}}function y(T,S){if(T instanceof SVGElement){var U=T.getAttribute("class")||"";T.setAttribute("class",U.replace(S,"").replace(/^\s+|\s+$/g,""));}else{T.className=T.className.replace(S,"").replace(/^\s+|\s+$/g,"");}}function N(S,T){var U="";if(S.currentStyle){U=S.currentStyle[T];}else{if(document.defaultView&&document.defaultView.getComputedStyle){U=document.defaultView.getComputedStyle(S,null).getPropertyValue(T);
}}if(U&&U.toLowerCase){return U.toLowerCase();}else{return U;}}function g(S){var T=S.parentNode;if(!T||T.nodeName==="HTML"){return false;}if(N(S,"position")=="fixed"){return true;}return g(T);}function r(){if(window.innerWidth!=undefined){return{width:window.innerWidth,height:window.innerHeight};}else{var S=document.documentElement;return{width:S.clientWidth,height:S.clientHeight};}}function p(S){var T=S.getBoundingClientRect();return(T.top>=0&&T.left>=0&&(T.bottom+80)<=window.innerHeight&&T.right<=window.innerWidth);}function m(V){var S=document.createElement("div"),W="",T=this;S.className="introjs-overlay";if(!V.tagName||V.tagName.toLowerCase()==="body"){W+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;";S.setAttribute("style",W);}else{var U=b(V);if(U){W+="width: "+U.width+"px; height:"+U.height+"px; top:"+U.top+"px;left: "+U.left+"px;";S.setAttribute("style",W);}}V.appendChild(S);S.onclick=function(){if(T._options.exitOnOverlayClick==true){D.call(T,V);}};setTimeout(function(){W+="opacity: "+T._options.overlayOpacity.toString()+";";
S.setAttribute("style",W);},10);return true;}function c(){var T=this._targetElement.querySelector(".introjs-hintReference");if(T){var S=T.getAttribute("data-step");T.parentNode.removeChild(T);return S;}}function u(Y){var T=this;this._introItems=[];if(this._options.hints){for(var X=0,S=this._options.hints.length;X<S;X++){var W=l(this._options.hints[X]);if(typeof(W.element)==="string"){W.element=document.querySelector(W.element);}W.hintPosition=W.hintPosition||this._options.hintPosition;W.hintAnimation=W.hintAnimation||this._options.hintAnimation;if(W.element!=null){this._introItems.push(W);}}}else{var Z=Y.querySelectorAll("*[data-hint]");if(Z.length<1){return false;}for(var X=0,S=Z.length;X<S;X++){var U=Z[X];var V=U.getAttribute("data-hintAnimation");if(V){V=(V=="true");}else{V=this._options.hintAnimation;}this._introItems.push({element:U,hint:U.getAttribute("data-hint"),hintPosition:U.getAttribute("data-hintPosition")||this._options.hintPosition,hintAnimation:V,tooltipClass:U.getAttribute("data-tooltipClass"),position:U.getAttribute("data-position")||this._options.tooltipPosition});
}}z.call(this);if(document.addEventListener){document.addEventListener("click",c.bind(this),false);window.addEventListener("resize",w.bind(this),true);}else{if(document.attachEvent){document.attachEvent("onclick",c.bind(this));document.attachEvent("onresize",w.bind(this));}}}function w(){for(var T=0,S=this._introItems.length;T<S;T++){var U=this._introItems[T];if(typeof(U.targetElement)=="undefined"){continue;}v.call(this,U.hintPosition,U.element,U.targetElement);}}function h(T){c.call(this);var S=this._targetElement.querySelector('.introjs-hint[data-step="'+T+'"]');if(S){S.className+=" introjs-hidehint";}if(typeof(this._hintCloseCallback)!=="undefined"){this._hintCloseCallback.call(this,T);}}function j(){var T=this._targetElement.querySelectorAll(".introjs-hint");if(T&&T.length>0){for(var S=0;S<T.length;S++){h.call(this,T[S].getAttribute("data-step"));}}}function i(){var T=this._targetElement.querySelectorAll(".introjs-hint");if(T&&T.length>0){for(var S=0;S<T.length;S++){E.call(this,T[S].getAttribute("data-step"));
}}else{u.call(this,this._targetElement);}}function E(T){var S=this._targetElement.querySelector('.introjs-hint[data-step="'+T+'"]');if(S){S.className=S.className.replace(/introjs\-hidehint/g,"");}}function d(){var T=this._targetElement.querySelectorAll(".introjs-hint");if(T&&T.length>0){for(var S=0;S<T.length;S++){A.call(this,T[S].getAttribute("data-step"));}}}function A(T){var S=this._targetElement.querySelector('.introjs-hint[data-step="'+T+'"]');if(S){S.parentNode.removeChild(S);}}function z(){var aa=this;var W=document.querySelector(".introjs-hints");if(W!=null){S=W;}else{var S=document.createElement("div");S.className="introjs-hints";}for(var V=0,T=this._introItems.length;V<T;V++){var Y=this._introItems[V];if(document.querySelector('.introjs-hint[data-step="'+V+'"]')){continue;}var U=document.createElement("a");s(U);(function(ad,ac,ab){ad.onclick=function(af){var ae=af?af:window.event;if(ae.stopPropagation){ae.stopPropagation();}if(ae.cancelBubble!=null){ae.cancelBubble=true;}H.call(aa,ad,ac,ab);
};}(U,Y,V));U.className="introjs-hint";if(!Y.hintAnimation){U.className+=" introjs-hint-no-anim";}if(g(Y.element)){U.className+=" introjs-fixedhint";}var Z=document.createElement("div");Z.className="introjs-hint-dot";var X=document.createElement("div");X.className="introjs-hint-pulse";U.appendChild(Z);U.appendChild(X);U.setAttribute("data-step",V);Y.targetElement=Y.element;Y.element=U;v.call(this,Y.hintPosition,U,Y.targetElement);S.appendChild(U);}document.body.appendChild(S);if(typeof(this._hintsAddedCallback)!=="undefined"){this._hintsAddedCallback.call(this);}}function v(S,W,T){var V=b.call(this,T);var U=20;var X=20;switch(S){default:case"top-left":W.style.left=V.left+"px";W.style.top=V.top+"px";break;case"top-right":W.style.left=(V.left+V.width-U)+"px";W.style.top=V.top+"px";break;case"bottom-left":W.style.left=V.left+"px";W.style.top=(V.top+V.height-X)+"px";break;case"bottom-right":W.style.left=(V.left+V.width-U)+"px";W.style.top=(V.top+V.height-X)+"px";break;case"middle-left":W.style.left=V.left+"px";
W.style.top=(V.top+(V.height-X)/2)+"px";break;case"middle-right":W.style.left=(V.left+V.width-U)+"px";W.style.top=(V.top+(V.height-X)/2)+"px";break;case"middle-middle":W.style.left=(V.left+(V.width-U)/2)+"px";W.style.top=(V.top+(V.height-X)/2)+"px";break;case"bottom-middle":W.style.left=(V.left+(V.width-U)/2)+"px";W.style.top=(V.top+V.height-X)+"px";break;case"top-middle":W.style.left=(V.left+(V.width-U)/2)+"px";W.style.top=V.top+"px";break;}}function H(U,ab,T){if(typeof(this._hintClickCallback)!=="undefined"){this._hintClickCallback.call(this,U,ab,T);}var W=c.call(this);if(parseInt(W,10)==T){return;}var aa=document.createElement("div");var Y=document.createElement("div");var Z=document.createElement("div");var X=document.createElement("div");aa.className="introjs-tooltip";aa.onclick=function(ac){if(ac.stopPropagation){ac.stopPropagation();}else{ac.cancelBubble=true;}};Y.className="introjs-tooltiptext";var V=document.createElement("p");V.innerHTML=ab.hint;var S=document.createElement("a");
S.className="introjs-button";S.innerHTML=this._options.hintButtonLabel;S.onclick=h.bind(this,T);Y.appendChild(V);Y.appendChild(S);Z.className="introjs-arrow";aa.appendChild(Z);aa.appendChild(Y);this._currentStep=U.getAttribute("data-step");X.className="introjs-tooltipReferenceLayer introjs-hintReference";X.setAttribute("data-step",U.getAttribute("data-step"));x.call(this,X);X.appendChild(aa);document.body.appendChild(X);O.call(this,U,aa,Z,null,true);}function b(W){var V={};var X=document.body;var S=document.documentElement;var T=window.pageYOffset||S.scrollTop||X.scrollTop;var U=window.pageXOffset||S.scrollLeft||X.scrollLeft;if(W instanceof SVGElement){var aa=W.getBoundingClientRect();V.top=aa.top+T;V.width=aa.width;V.height=aa.height;V.left=aa.left+U;}else{V.width=W.offsetWidth;V.height=W.offsetHeight;var Z=0;var Y=0;while(W&&!isNaN(W.offsetLeft)&&!isNaN(W.offsetTop)){Z+=W.offsetLeft;Y+=W.offsetTop;W=W.offsetParent;}V.top=Y;V.left=Z;}return V;}function B(){var S=parseInt((this._currentStep+1),10);
return((S/this._introItems.length)*100);}function o(V,U){var T={};for(var S in V){T[S]=V[S];}for(var S in U){T[S]=U[S];}return T;}var L=function(T){if(typeof(T)==="object"){return new G(T);}else{if(typeof(T)==="string"){var S=document.querySelector(T);if(S){return new G(S);}else{throw new Error("There is no element with given selector.");}}else{return new G(document.body);}}};L.version=t;L.fn=G.prototype={clone:function(){return new G(this);},setOption:function(S,T){this._options[S]=T;return this;},setOptions:function(S){this._options=o(this._options,S);return this;},start:function(){P.call(this,this._targetElement);return this;},goToStep:function(S){n.call(this,S);return this;},addStep:function(S){if(!this._options.steps){this._options.steps=[];}this._options.steps.push(S);return this;},addSteps:function(S){if(!S.length){return;}for(var T=0;T<S.length;T++){this.addStep(S[T]);}return this;},goToStepNumber:function(S){e.call(this,S);return this;},nextStep:function(){a.call(this);return this;
},previousStep:function(){M.call(this);return this;},exit:function(){D.call(this,this._targetElement);return this;},refresh:function(){x.call(this,document.querySelector(".introjs-helperLayer"));x.call(this,document.querySelector(".introjs-tooltipReferenceLayer"));w.call(this);return this;},onbeforechange:function(S){if(typeof(S)==="function"){this._introBeforeChangeCallback=S;}else{throw new Error("Provided callback for onbeforechange was not a function");}return this;},onchange:function(S){if(typeof(S)==="function"){this._introChangeCallback=S;}else{throw new Error("Provided callback for onchange was not a function.");}return this;},onafterchange:function(S){if(typeof(S)==="function"){this._introAfterChangeCallback=S;}else{throw new Error("Provided callback for onafterchange was not a function");}return this;},oncomplete:function(S){if(typeof(S)==="function"){this._introCompleteCallback=S;}else{throw new Error("Provided callback for oncomplete was not a function.");}return this;},onhintsadded:function(S){if(typeof(S)==="function"){this._hintsAddedCallback=S;
}else{throw new Error("Provided callback for onhintsadded was not a function.");}return this;},onhintclick:function(S){if(typeof(S)==="function"){this._hintClickCallback=S;}else{throw new Error("Provided callback for onhintclick was not a function.");}return this;},onhintclose:function(S){if(typeof(S)==="function"){this._hintCloseCallback=S;}else{throw new Error("Provided callback for onhintclose was not a function.");}return this;},onexit:function(S){if(typeof(S)==="function"){this._introExitCallback=S;}else{throw new Error("Provided callback for onexit was not a function.");}return this;},addHints:function(){u.call(this,this._targetElement);return this;},hideHint:function(S){h.call(this,S);return this;},hideHints:function(){j.call(this);return this;},showHint:function(S){E.call(this,S);return this;},showHints:function(){i.call(this);return this;},removeHints:function(){d.call(this);return this;},removeHint:function(S){A.call(this,S);return this;}};J.introJs=L;return L;}));;
(function(a){a.widget("ui.exp_sp_tour",{getCurrentUrl:function(c){try{var b=window.location.href.split("/?q=");return b[1];}catch(d){}},getSteps:function(){try{var b=[];if(Drupal.settings.exp_sp_tour!==undefined){b=JSON.parse(Drupal.settings.exp_sp_tour.tourconfig);}return b;}catch(c){}},_init:function(){try{var c=(a("#tour_mylearn").length>0?true:false);var b=this.getSteps();if(!c&&((b!==undefined&&b.length>0)||a("[data-intro]").length>0)){a('<div class = "tour-outer-wrapper"><div id = "tour_mylearn" onclick="$(\'body\').data(\'exp_sp_tour\').startTour();"><p>'+Drupal.t("TOUR")+"</p></div></div>").prependTo("body");}if(Drupal.settings.exp_sp_tour.auto_start==1){setTimeout(function(){a("#tour_mylearn").click();},500);}}catch(d){}},startTour:function(){try{var d=introJs();var b=this.getSteps();var g=this;var c={showStepNumbers:false,overlayOpacity:0.5,exitOnOverlayClick:false,nextLabel:Drupal.t("LBL693"),prevLabel:Drupal.t("LBL692"),skipLabel:Drupal.t("LBL3213"),doneLabel:Drupal.t("LBL569")};
if(b!==undefined){c.steps=g.rearrangeStep(b).filter(function(h){var e=["#paintCriteriaResults","#refine-filter-pin-icon.pin-icon-white"];return((a(h.element).length>0&&a(h.element).is(":visible"))||h.welcomeText||e.indexOf(h.element)!=-1);});}d.setOptions(c).onbeforechange(function(h){try{var j=a("#paintCriteriaResults").hasClass("searchcriteria-div-unpinned");if(j){if(a(h).attr("id")=="paintCriteriaResults"){a("#lnr-catalog-search").data("lnrcatalogsearch").pinUnpinFilterCriteria();}else{if(a(h).is("#refine-filter-pin-icon.pin-icon-white")){a("#lnr-catalog-search").data("lnrcatalogsearch").pinUnpinFilterCriteria();}}}else{if(a(h).is("#refine-filter-pin-icon.pin-icon-black")){a("#lnr-catalog-search").data("lnrcatalogsearch").pinUnpinFilterCriteria();a(".catalog-criteria-refine-icon").trigger("mouseenter");}}a(".introjs-helperLayer-Mask").remove();}catch(i){}}).onafterchange(function(e){a(".introjs-helperLayer").clone().appendTo("body").addClass("introjs-helperLayer-Mask");a(".tour-common").css("height","41px");
a(".tour-filter").css("width","63px");a(".tour-filter").css("margin-left","-7px");a(".tour-common").css("margin-top","3px");}).oncomplete(function(){a(".introjs-helperLayer-Mask").remove();}).onexit(function(){a(".introjs-helperLayer-Mask").remove();}).start();}catch(f){}},rearrangeStep:function(b){if(this.getCurrentUrl()=="learning/enrollment-search"){var c=["#block-exp-sp-lnrlearningplan-tab-my-learningplan-customized","#block-exp-sp-lnrenrollment-tab-my-enrollment-customized","#block-exp-sp-instructor-desk-tab-instructor-desk-customized"];var d=function(g,e){if(a.inArray(g.element,c)!=-1&&a.inArray(e.element,c)!=-1){var i=a(g.element+", "+e.element);var h=0;var f=0;a(g.element+", "+e.element).each(function(j,k){if(a(k).is(g.element)){h=j;}else{if(a(k).is(e.element)){f=j;}}});if(h<f){return -1;}if(h>f){return 1;}}return 0;};return b.sort(d);}return b;}});a.extend(a.ui.exp_sp_tour.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget,{defaults:{start:true,catStart:true}});
})(jQuery);$(function(){try{$("body").exp_sp_tour();}catch(a){}});;
eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36));};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i);}d=[function(a){return f[a];}];g=function(){return"\\w+";};i=1;}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i]);}}return h;}(';(6($){3 1N="";3 3B=6(s,u){3 v=s;3 x=1b;3 u=$.3C({1c:4s,2w:7,2S:23,1O:9,1P:4t,3D:\'2g\',1J:10,3E:\'4u\',2T:\'\',2U:9,1k:\'\'},u);1b.1Z=21 3F();3 y="";3 z={};z.2V=9;z.2x=10;z.2y=1r;3 A=10;3 B={2W:\'4v\',1Q:\'4w\',1K:\'4x\',2h:\'4y\',1g:\'4z\',2X:\'4A\',2Y:\'4B\',4C:\'4D\',2z:\'4E\',3G:\'4F\'};3 C={2g:u.3D,2Z:\'2Z\',31:\'31\',32:\'32\',1w:\'1w\',1l:.30,1R:\'1R\',2A:\'2A\',2B:\'2B\',15:\'15\'};3 D={3H:"2C,33,34,1S,2D,2E,1s,1A,2F,1T,4G,22,35",1a:"1B,1x,1l,4H"};1b.1U=21 3F();3 E=$(v).1a("1d");5(1e(E)=="14"||E.18<=0){E="4I"+$.1V.3I++;$(v).2i("1d",E)};3 F=$(v).1a("1k");u.1k+=(F==14)?"":F;3 G=$(v).3J();A=($(v).1a("1B")>1||$(v).1a("1x")==9)?9:10;5(A){u.2w=$(v).1a("1B")};3 H={};3 I=0;3 J=10;3 K;3 L=10;3 M={};3 N="";3 O=6(a){5(1e(M[a])=="14"){M[a]=1o.4J(a)}11 M[a]};3 P=6(a){11 E+B[a]};3 Q=6(a){3 b=a;3 c=$(b).1a("1k");11(1e c=="14")?"":c.4K};3 R=6(a){3 b=$("#"+E+" 36:15");5(b.18>1){1C(3 i=0;i<b.18;i++){5(a==b[i].1j){11 9}}}19 5(b.18==1){5(b[0].1j==a){11 9}};11 10};3 S=6(a,b,c,d){3 e="";3 f=(d=="3a")?P("2Y"):P("2X");3 g=(d=="3a")?f+"3b"+(b)+"3b"+(c):f+"3b"+(b);3 h="";3 t="";3 i="";3 j="";5(u.1J!=10){i=\' \'+u.1J+\' \'+a.3K}19{h=$(a).1a("1p");3 k=21 3L(/^\\{.*\\}$/);3 l=k.3M(h);5(u.2U==9&&l==9){5(h.18!=0){3 m=24("["+h+"]");1W=(1e m[0].2j=="14")?"":m[0].2j;t=(1e m[0].1p=="14")?"":m[0].1p;j=(1e m[0].3N=="14")?"":m[0].3N;h=(1W.18==0)?"":\'<1W 2G="\'+1W+\'" 2H="2I" /> \'}}19{h=(h.18==0)?"":\'<1W 2G="\'+h+\'" 2H="2I" /> \'}};3 n=$(a).1t();3 o=$(a).4L();3 p=($(a).1a("1l")==9)?"1l":"3c";H[g]={1L:h+n,2k:o,1t:n,1j:a.1j,1d:g,1p:t};3 q=Q(a);5(R(a.1j)==9){e+=\'<a 3O="3P:3Q(0);" 1u="\'+C.15+\' \'+p+i+\'"\'}19{e+=\'<a  3O="3P:3Q(0);" 1u="\'+p+i+\'"\'};5(q!==10&&q!==14&&q.18!=0){e+=" 1k=\'"+q+"\'"};5(t!==""){e+=" 1p=\'"+t+"\'"};e+=\' 1d="\'+g+\'">\';e+=h+\'<1y 1u="\'+C.1w+\'">\'+n+\'</1y>\';5(j!==""){e+=j};e+=\'</a>\';11 e};3 T=6(t){3 b=t.3d();5(b.18==0)11-1;3 a="";1C(3 i 2l H){3 c=H[i].1t.3d();5(c.3R(0,b.18)==b){a+="#"+H[i].1d+", "}};11(a=="")?-1:a};3 U=6(){3 f=G;5(f.18==0)11"";3 g="";3 h=P("2X");3 i=P("2Y");f.3e(6(c){3 d=f[c];5(d.4M.4N().3d()=="4O"){g+="<1z 1u=\'4P\'>";g+="<1y 1k=\'3S-4Q:4R;3S-1k:4S;4T:4U;\'>"+$(d).1a("4V")+"</1y>";3 e=$(d).3J();e.3e(6(a){3 b=e[a];g+=S(b,c,a,"3a")});g+="</1z>"}19{g+=S(d,c,"","")}});11 g};3 V=6(){3 a=P("1Q");3 b=P("1g");3 c=u.1k;25="";25+=\'<1z 1d="\'+b+\'" 1u="\'+C.32+\'"\';5(!A){25+=(c!="")?\' 1k="\'+c+\'"\':\'\'}19{25+=(c!="")?\' 1k="2J-1D:4W 4X #4Y;1q:2m;1m:2K;\'+c+\'"\':\'\'};25+=\'>\';11 25};3 W=6(){3 a=P("1K");3 b=P("2z");3 c=P("2h");3 d=P("3G");3 e="";3 f="";5(O(E).1E.18>0){e=$("#"+E+" 36:15").1t();f=$("#"+E+" 36:15").1a("1p")};3 g="";3 t="";3 h=21 3L(/^\\{.*\\}$/);3 i=h.3M(f);5(u.2U==9&&i==9){5(f.18!=0){3 j=24("["+f+"]");g=(1e j[0].2j=="14")?"":j[0].2j;t=(1e j[0].1p=="14")?"":j[0].1p;f=(g.18==0||u.1O==10||u.1J!=10)?"":\'<1W 2G="\'+g+\'" 2H="2I" /> \'}}19{f=(f.18==0||f==14||u.1O==10||u.1J!=10)?"":\'<1W 2G="\'+f+\'" 2H="2I" /> \'};3 k=\'<1z 1d="\'+a+\'" 1u="\'+C.2Z+\'"\';k+=\'>\';k+=\'<1y 1d="\'+b+\'" 1u="\'+C.31+\'"></1y><1y 1u="\'+C.1w+\'" 1d="\'+c+\'">\'+f+\'<1y 1u="\'+C.1w+\'">\'+e+\'</1y></1y></1z>\';11 k};3 X=6(){3 c=P("1g");$("#"+c+" a.3c").1F("1S");$("#"+c+" a.3c").1f("1S",6(a){a.26();3f(1b);28();5(!A){$("#"+c).1F("1A");29(10);3 b=(u.1O==10)?$(1b).1t():$(1b).1L();1X(b);x.2n()}})};3 Y=6(){3 d=10;3 e=P("1Q");3 f=P("1K");3 g=P("2h");3 h=P("1g");3 i=P("2z");3 j=$("#"+E).4Z();3 k=u.1k;5($("#"+e).18>0){$("#"+e).2L();d=9};3 l=\'<1z 1d="\'+e+\'" 1u="\'+C.2g+\'"\';l+=(k!="")?\' 1k="\'+k+\'"\':\'\';l+=\'>\';l+=W();l+=V();l+=U();l+="</1z>";l+="</1z>";5(d==9){3 m=P("2W");$("#"+m).3g(l)}19{$("#"+E).3g(l)};5(A){3 f=P("1K");$("#"+f).2o()};$("#"+e).12("3T",j+"1v");$("#"+h).12("3T",(j-2)+"1v");5(G.18>u.2w){3 n=2p($("#"+h+" a:3h").12("2q-3U"))+2p($("#"+h+" a:3h").12("2q-1D"));3 o=((u.2S)*u.2w)-n;$("#"+h).12("1c",o+"1v")}19 5(A){3 o=$("#"+E).1c();$("#"+h).12("1c",o+"1v")};5(d==10){3V();3W(E)};5($("#"+E).1a("1l")==9){$("#"+e).12("2M",C.1l)};3X();$("#"+f).1f("1A",6(a){3i(1)});$("#"+f).1f("1T",6(a){3i(0)});X();$("#"+h+" a.1l").12("2M",C.1l);5(A){$("#"+h).1f("1A",6(c){5(!z.2x){z.2x=9;$(1o).1f("22",6(a){3 b=a.3Y;z.2y=b;5(b==39||b==40){a.26();a.2r();3j();28()};5(b==37||b==38){a.26();a.2r();3k();28()}})}})};$("#"+h).1f("1T",6(a){29(10);$(1o).1F("22",2N);z.2x=10;z.2y=1r});$("#"+f).1f("1S",6(b){29(10);5($("#"+h+":2a").18==1){$("#"+h).1F("1A")}19{$("#"+h).1f("1A",6(a){29(9)});x.3Z()}});$("#"+f).1f("1T",6(a){29(10)});5(u.1O&&u.1J!=10){2s()}};3 Z=6(a){1C(3 i 2l H){5(H[i].1j==a){11 H[i]}};11-1};3 3f=6(a){3 b=P("1g");5($("#"+b+" a."+C.15).18==1){y=$("#"+b+" a."+C.15).1t()};5(!A){$("#"+b+" a."+C.15).1M(C.15)};3 c=$("#"+b+" a."+C.15).1a("1d");5(c!=14){3 d=(z.2b==14||z.2b==1r)?H[c].1j:z.2b};5(a&&!A){$(a).1G(C.15)};5(A){3 e=z.2y;5($("#"+E).1a("1x")==9){5(e==17){z.2b=H[$(a).1a("1d")].1j;$(a).50(C.15)}19 5(e==16){$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);3 f=$(a).1a("1d");3 g=H[f].1j;1C(3 i=3l.51(d,g);i<=3l.52(d,g);i++){$("#"+Z(i).1d).1G(C.15)}}19{$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);z.2b=H[$(a).1a("1d")].1j}}19{$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);z.2b=H[$(a).1a("1d")].1j}}};3 3W=6(a){3 b=a;O(b).53=6(e){$("#"+b).1V(u)}};3 29=6(a){z.2V=a};3 41=6(){11 z.2V};3 3X=6(){3 b=P("1Q");3 c=D.3H.54(",");1C(3 d=0;d<c.18;d++){3 e=c[d];3 f=2c(e);5(f==9){2O(e){1h"2C":$("#"+b).1f("55",6(a){O(E).2C()});1i;1h"1S":$("#"+b).1f("1S",6(a){$("#"+E).1H("1S")});1i;1h"2D":$("#"+b).1f("2D",6(a){$("#"+E).1H("2D")});1i;1h"2E":$("#"+b).1f("2E",6(a){$("#"+E).1H("2E")});1i;1h"1s":$("#"+b).1f("1s",6(a){$("#"+E).1H("1s")});1i;1h"1A":$("#"+b).1f("1A",6(a){$("#"+E).1H("1A")});1i;1h"2F":$("#"+b).1f("2F",6(a){$("#"+E).1H("2F")});1i;1h"1T":$("#"+b).1f("1T",6(a){$("#"+E).1H("1T")});1i}}}};3 3V=6(){3 a=P("2W");$("#"+E).3g("<1z 1u=\'"+C.1R+"\' 1k=\'1c:3m;42:43;1m:2P;\' 1d=\'"+a+"\'></1z>");$("#"+E).56($("#"+a))};3 1X=6(a){3 b=P("2h");$("#"+b).1L(a)};3 3n=6(w){3 a=w;3 b=P("1g");3 c=$("#"+b+" a:2a");3 d=c.18;3 e=$("#"+b+" a:2a").1j($("#"+b+" a.15:2a"));3 f;2O(a){1h"3o":5(e<d-1){e++;f=c[e]};1i;1h"44":5(e<d&&e>0){e--;f=c[e]};1i};5(1e(f)=="14"){11 10};$("#"+b+" a."+C.15).1M(C.15);$(f).1G(C.15);3 g=f.1d;5(!A){3 h=(u.1O==10)?H[g].1t:$("#"+g).1L();1X(h);2s(H[g].1j)};5(a=="3o"){5(2p(($("#"+g).1m().1D+$("#"+g).1c()))>=2p($("#"+b).1c())){$("#"+b).2t(($("#"+b).2t())+$("#"+g).1c()+$("#"+g).1c())}}19{5(2p(($("#"+g).1m().1D+$("#"+g).1c()))<=0){$("#"+b).2t(($("#"+b).2t()-$("#"+b).1c())-$("#"+g).1c())}}};3 3j=6(){3n("3o")};3 3k=6(){3n("44")};3 2s=6(i){5(u.1J!=10){3 a=P("2h");3 b=(1e(i)=="14")?O(E).1n:i;3 c=O(E).1E[b].3K;5(c.18>0){3 d=P("1g");3 e=$("#"+d+" a."+c).1a("1d");3 f=$("#"+e).12("1Y-2j");3 g=$("#"+e).12("1Y-1m");5(g==14){g=$("#"+e).12("1Y-1m-x")+" "+$("#"+e).12("1Y-1m-y")};3 h=$("#"+e).12("2q-45");5(f!=14){$("#"+a).2u("."+C.1w).2i(\'1k\',"1Y:"+f)};5(g!=14){$("#"+a).2u("."+C.1w).12(\'1Y-1m\',g)};5(h!=14){$("#"+a).2u("."+C.1w).12(\'2q-45\',h)};$("#"+a).2u("."+C.1w).12(\'1Y-47\',\'57-47\');$("#"+a).2u("."+C.1w).12(\'2q-3U\',\'58\')}}};3 28=6(){3 a=P("1g");3 b=$("#"+a+" a."+C.15);5(b.18==1){3 c=$("#"+a+" a."+C.15).1t();3 d=$("#"+a+" a."+C.15).1a("1d");5(d!=14){3 e=H[d].2k;O(E).1n=H[d].1j};5(u.1O&&u.1J!=10)2s()}19 5(b.18>1){1C(3 i=0;i<b.18;i++){3 d=$(b[i]).1a("1d");3 f=H[d].1j;O(E).1E[f].15="15"}};3 g=O(E).1n;x.1Z["1n"]=g};3 2c=6(a){5($("#"+E).1a("59"+a)!=14){11 9};3 b=$("#"+E).3p("5a");5(b&&b[a]){11 9};11 10};3 3q=6(a){$("#"+E).2C();$("#"+E)[0].33();28();$(1o).1F("1s",2Q);$(1o).1F("1s",3q)};3 48=6(){3 a=P("1g");5(2c(\'34\')==9){3 b=H[$("#"+a+" a.15").1a("1d")].1t;5($.49(y)!==$.49(b)&&y!==""){$("#"+E).1H("34")}};5(2c(\'1s\')==9){$("#"+E).1H("1s")};5(2c(\'33\')==9){$(1o).1f("1s",3q)};11 10};3 3i=6(a){3 b=P("2z");5(a==1)$("#"+b).12({4a:\'0 5b%\'});19 $("#"+b).12({4a:\'0 0\'})};3 4b=6(){1C(3 i 2l O(E)){5(1e(O(E)[i])!==\'6\'&&1e(O(E)[i])!=="14"&&1e(O(E)[i])!=="1r"){x.1I(i,O(E)[i],9)}}};3 4c=6(a,b){5(Z(b)!=-1){O(E)[a]=b;3 c=P("1g");$("#"+c+" a."+C.15).1M(C.15);$("#"+Z(b).1d).1G(C.15);3 d=Z(O(E).1n).1L;1X(d)}};3 4d=6(i,a){5(a==\'d\'){1C(3 b 2l H){5(H[b].1j==i){5c H[b];1i}}};3 c=0;1C(3 b 2l H){H[b].1j=c;c++}};3 2R=6(){3 a=P("1g");3 b=P("1Q");3 c=$("#"+b).5d();3 d=$("#"+b).1c();3 e=$(4e).1c();3 f=$(4e).2t();3 g=$("#"+a).1c();3 h={1P:u.1P,1D:(d)+"1v",1q:"2d"};3 i=u.3E;3 j=10;3 k=C.2B;$("#"+a).1M(C.2B);$("#"+a).1M(C.2A);5((e+f)<3l.5e(g+d+c.1D)){3 l=g;h={1P:u.1P,1D:"-"+l+"1v",1q:"2d"};i="2e";j=9;k=C.2A};11{3r:j,4f:i,12:h,2J:k}};3 3s=6(){5(x.1U["4g"]!=1r){24(x.1U["4g"])(x)}};3 3t=6(){48();5(x.1U["4h"]!=1r){24(x.1U["4h"])(x)}};3 2N=6(a){3 b=P("1g");3 c=a.3Y;5(c==8){a.26();a.2r();N=(N.18==0)?"":N.3R(0,N.18-1)};2O(c){1h 39:1h 40:a.26();a.2r();3j();1i;1h 37:1h 38:a.26();a.2r();3k();1i;1h 27:1h 13:x.2n();28();1i;4i:5(c>46){N+=5f.5g(c)};3 d=T(N);5(d!=-1){$("#"+b).12({1c:\'5h\'});$("#"+b+" a").2o();$(d).2e();3 e=2R();$("#"+b).12(e.12);$("#"+b).12({1q:\'2m\'})}19{$("#"+b+" a").2e();$("#"+b).12({1c:K+\'1v\'})};1i};5(2c("22")==9){O(E).5i()};11 10};3 2Q=6(a){5(41()==10){x.2n()};11 10};3 3u=6(a){5($("#"+E).1a("4j")!=14){O(E).4j()};11 10};1b.3Z=6(){5((x.2f("1l",9)==9)||(x.2f("1E",9).18==0))11;3 a=P("1g");5(1N!=""&&a!=1N){$("#"+1N).4k("3v");$("#"+1N).12({1P:\'0\'})};5($("#"+a).12("1q")=="2d"){y=H[$("#"+a+" a.15").1a("1d")].1t;N="";K=$("#"+a).1c();$("#"+a+" a").2e();$(1o).1f("22",2N);$(1o).1f("35",3u);$(1o).1f("1s",2Q);3 b=2R();$("#"+a).12(b.12);5(b.3r==9){$("#"+a).12({1q:\'2m\'});$("#"+a).1G(b.2J);3s()}19{$("#"+a)[b.4f]("3v",6(){$("#"+a).1G(b.2J);3s()})};5(a!=1N){1N=a}}};1b.2n=6(){3 b=P("1g");5(!$("#"+b).4l(":2a")||L)11;L=9;5($("#"+b).12("1q")=="2d"){11 10};3 c=$("#"+P("1K")).1m().1D;3 d=2R();J=10;5(d.3r==9){$("#"+b).5j({1c:0,1D:c},6(){$("#"+b).12({1c:K+\'1v\',1q:\'2d\'});3t();L=10})}19{$("#"+b).4k("3v",6(a){3t();$("#"+b).12({1P:\'0\'});$("#"+b).12({1c:K+\'1v\'});L=10})};2s();$(1o).1F("22",2N);$(1o).1F("35",3u);$(1o).1F("1s",2Q)};1b.1n=6(i){5(1e(i)=="14"){11 x.2f("1n")}19{x.1I("1n",i)}};1b.4m=6(a){5(1e(a)=="14"||a==9){$("."+C.1R).5k("1k")}19{$("."+C.1R).2i("1k","1c:3m;42:43;1m:2P")}};1b.1I=6(a,b,c){5(1e a=="14"||1e b=="14")11 10;x.1Z[a]=b;5(c!=9){2O(a){1h"1n":4c(a,b);1i;1h"1l":x.1l(b,9);1i;1h"1x":O(E)[a]=b;A=($(v).1a("1B")>0||$(v).1a("1x")==9)?9:10;5(A){3 d=$("#"+E).1c();3 f=P("1g");$("#"+f).12("1c",d+"1v");3 g=P("1K");$("#"+g).2o();3 f=P("1g");$("#"+f).12({1q:\'2m\',1m:\'2K\'});X()};1i;1h"1B":O(E)[a]=b;5(b==0){O(E).1x=10};A=($(v).1a("1B")>0||$(v).1a("1x")==9)?9:10;5(b==0){3 g=P("1K");$("#"+g).2e();3 f=P("1g");$("#"+f).12({1q:\'2d\',1m:\'2P\'});3 h="";5(O(E).1n>=0){3 i=Z(O(E).1n);h=i.1L;3f($("#"+i.1d))};1X(h)}19{3 g=P("1K");$("#"+g).2o();3 f=P("1g");$("#"+f).12({1q:\'2m\',1m:\'2K\'})};1i;4i:4n{O(E)[a]=b}4o(e){};1i}}};1b.2f=6(a,b){5(a==14&&b==14){11 x.1Z};5(a!=14&&b==14){11(x.1Z[a]!=14)?x.1Z[a]:1r};5(a!=14&&b!=14){11 O(E)[a]}};1b.2a=6(a){3 b=P("1Q");5(a==9){$("#"+b).2e()}19 5(a==10){$("#"+b).2o()}19{11 $("#"+b).12("1q")}};1b.5l=6(a,b){3 c=a;3 d=c.1t;3 e=(c.2k==14||c.2k==1r)?d:c.2k;3 f=(c["1p"]==14||c["1p"]==1r)?\'\':c["1p"];3 i=(b==14||b==1r)?O(E).1E.18:b;O(E).1E[i]=21 5m(d,e);5(f!=\'\')O(E).1E[i]["1p"]=f;3 g=Z(i);5(g!=-1){3 h=S(O(E).1E[i],i,"","");$("#"+g.1d).1L(h)}19{3 h=S(O(E).1E[i],i,"","");3 j=P("1g");$("#"+j).5n(h);X()}};1b.2L=6(i){O(E).2L(i);5((Z(i))!=-1){$("#"+Z(i).1d).2L();4d(i,\'d\')};5(O(E).18==0){1X("")}19{3 a=Z(O(E).1n).1L;1X(a)};x.1I("1n",O(E).1n)};1b.1l=6(a,b){O(E).1l=a;3 c=P("1Q");5(a==9){$("#"+c).12("2M",C.1l);x.2n()}19 5(a==10){$("#"+c).12("2M",1)};5(b!=9){x.1I("1l",a)}};1b.3w=6(){11(O(E).3w==14)?1r:O(E).3w};1b.3x=6(){5(2v.18==1){11 O(E).3x(2v[0])}19 5(2v.18==2){11 O(E).3x(2v[0],2v[1])}19{5o{5p:"5q 1j 4l 5r!"}}};1b.4p=6(a){11 O(E).4p(a)};1b.1x=6(a){5(1e(a)=="14"){11 x.2f("1x")}19{x.1I("1x",a)}};1b.1B=6(a){5(1e(a)=="14"){11 x.2f("1B")}19{x.1I("1B",a)}};1b.5s=6(a,b){x.1U[a]=b};1b.5t=6(a){24(x.1U[a])(x)};1b.5u=6(r){5(1e r=="14"||r==0){11 10};3 a=P("1g");3 b=$("#"+a+" a:3h").1c();3 c=(b==0)?u.2S:b;3 d=r*c;$("#"+a).12("1c",d+"1v")};3 4q=6(){x.1I("3y",$.1V.3y);x.1I("3z",$.1V.3z)};3 4r=6(){Y();4b();4q();5(u.2T!=\'\'){24(u.2T)(x)}};4r()};$.1V={3y:\'2.38.4\',3z:"5v 5w",3I:20,4m:6(v){5(v==9){$(".1R").12({1c:\'5x\',1m:\'2K\'})}19{$(".1R").12({1c:\'3m\',1m:\'2P\'})}},5y:6(a,b){11 $(a).1V(b).3p("2g")}};$.3A.3C({1V:6(b){11 1b.3e(6(){3 a=21 3B(1b,b);$(1b).3p(\'2g\',a)})}});5(1e($.3A.1a)==\'14\'){$.3A.1a=6(w,v){5(1e v=="14"){11 $(1b).2i(w)};4n{$(1b).2i(w,v)}4o(e){}}}})(5z);',62,346,"|||var||if|function|||true|||||||||||||||||||||||||||||||||||||||||||||||||||||false|return|css||undefined|selected|||length|else|prop|this|height|id|typeof|bind|postChildID|case|break|index|style|disabled|position|selectedIndex|document|title|display|null|mouseup|text|class|px|ddTitleText|multiple|span|div|mouseover|size|for|top|options|unbind|addClass|trigger|set|useSprite|postTitleID|html|removeClass|bB|showIcon|zIndex|postID|ddOutOfVision|click|mouseout|onActions|msDropDown|img|bJ|background|ddProp||new|keydown||eval|sDiv|preventDefault||bO|bF|visible|oldIndex|bP|none|show|get|dd|postTitleTextID|attr|image|value|in|block|close|hide|parseInt|padding|stopPropagation|bN|scrollTop|find|arguments|visibleRows|keyboardAction|currentKey|postArrowID|borderTop|noBorderTop|focus|dblclick|mousedown|mousemove|src|align|absmiddle|border|relative|remove|opacity|bZ|switch|absolute|ca|bW|rowHeight|onInit|jsonTitle|insideWindow|postElementHolder|postAID|postOPTAID|ddTitle||arrow|ddChild|blur|change|keyup|option||||opt|_|enabled|toLowerCase|each|bD|after|first|bS|bL|bM|Math|0px|bK|next|data|bQ|opp|bX|bY|cb|fast|form|item|version|author|fn|bC|extend|mainCSS|animStyle|Object|postInputhidden|actions|counter|children|className|RegExp|test|postHTML|href|javascript|void|substr|font|width|bottom|bI|bE|bH|keyCode|open||bG|overflow|hidden|previous|left||repeat|bR|trim|backgroundPositions|bT|bU|bV|window|ani|onOpen|onClose|default|onkeyup|slideUp|is|debug|try|catch|namedItem|cc|cd|120|9999|slideDown|_msddHolder|_msdd|_title|_titletext|_child|_msa|_msopta|postInputID|_msinput|_arrow|_inp|keypress|tabindex|msdrpdd|getElementById|cssText|val|nodeName|toString|optgroup|opta|weight|bold|italic|clear|both|label|1px|solid|c3c3c3|outerWidth|toggleClass|min|max|refresh|split|mouseenter|appendTo|no|2px|on|events|100|delete|offset|floor|String|fromCharCode|auto|onkeydown|animate|removeAttr|add|Option|append|throw|message|An|required|addMyEvent|fireEvent|showRows|Marghoob|Suleman|20px|create|jQuery".split("|"),0,{}));
;
(function($){$.widget("ui.lnrcatalogsearch",{_init:function(){try{if(document.getElementById("block-exp-sp-coursedetail-course-details")||document.getElementById("block-exp-sp-classdetail-class-details")||document.getElementById("block-exp-sp-learning-plan-detail-learning-details")){return;}var self=this;if($.cookie("catalog_searchStr")!==undefined&&$.cookie("catalog_searchStr")!=null&&$.cookie("catalog_searchStr")!=""&&$.cookie("catalog_searchStr")!="&title="){$.cookie("catalog_temp_searchStr",$.cookie("catalog_searchStr"));}this.currTheme=Drupal.settings.ajaxPageState.theme;this.widgetCallback=Drupal.settings.widget.widgetCallback;var searchStr=this.searchActionCheck();var referrer=document.referrer;if(searchStr!=""&&searchStr!=undefined&&searchStr!=null){filters=["top-search"];self.getGetJSONCookie("catalogAppliedFilters",filters);searchStr="&title="+encodeURIComponent(searchStr)+"&catalogAppliedFilters="+JSON.stringify(filters);if(Drupal.settings.widget.widgetCallback!=true){$.cookie("catalog_searchStr",searchStr);
$.cookie("catalog_temp_searchStr",$.cookie("catalog_searchStr"));}}else{if(searchStr==""&&(referrer.indexOf("q=learning/class-details")>1||referrer.indexOf("q=learning/learning-plan")>1||referrer.indexOf("q=learning/course-details")>1||(referrer.indexOf("q=learning/catalog-search")>1))){searchStr=$.cookie("catalog_searchStr");if(searchStr!=""&&searchStr!=null){$.cookie("searchStr_read",1);var sortByIndex=searchStr.indexOf("&sortby=");this.sortbyValue=searchStr.substring(sortByIndex+8,searchStr.length);}}else{$.cookie("priceLftCkValue")==""?null:$.cookie("priceLftCkValue","");$.cookie("priceRgtCkValue")==""?null:$.cookie("priceRgtCkValue","");$.cookie("searchStr_read",0);}}if($.cookie("catalog_searchStr_passurl")!==undefined&&$.cookie("catalog_searchStr_passurl")!=""&&$.cookie("catalog_searchStr_passurl")!=null){$.cookie("catalog_searchStr",$.cookie("catalog_searchStr_passurl"));}this.renderSearchResults(searchStr);filtersAdded=false;}catch(e){}},searchAction:function(callFrom,sortbytxt,className){try{var searchStr="";
var ob_type="";$(".ot-others").each(function(){if($(this).is(":checked")){ob_type+=ob_type!=""?"|":"";ob_type+=$(this).val();}});var mro_type="";$(".mro-others").each(function(){if($(this).is(":checked")){mro_type+=mro_type!=""?"|":"";mro_type+=$(this).val();}});var all_mro_type="";$(".mro-others").each(function(){all_mro_type+=all_mro_type!=""?"|":"";all_mro_type+=$(this).val();});var dl_type="";$(".dt-others").each(function(){if($(this).is(":checked")){dl_type+=dl_type!=""?"|":"";dl_type+=$(this).val();}});var lg_type="";$(".lang-others").each(function(){if($(this).is(":checked")){lg_type+=lg_type!=""?"|":"";lg_type+=$(this).val();}});var all_lg_type="";$(".lang-others").each(function(){all_lg_type+=all_lg_type!=""?"|":"";all_lg_type+=$(this).val();});var jr_type="";$(".jobrole-others").each(function(){if($(this).is(":checked")){jr_type+=jr_type!=""?"|":"";jr_type+=$(this).val();}});var all_jr_type="";$(".jobrole-others").each(function(){all_jr_type+=all_jr_type!=""?"|":"";all_jr_type+=$(this).val();
});var cy_type="";$(".country-others").each(function(){if($(this).is(":checked")){cy_type+=cy_type!=""?"|":"";cy_type+=$(this).val();}});var all_cy_type="";$(".country-others").each(function(){all_cy_type+=all_cy_type!=""?"|":"";all_cy_type+=$(this).val();});var Lprice=$("#price-slide-left").val();if(Lprice!=undefined&&Lprice!="undefined"){Lprice=encodeURIComponent(Lprice.charAt(0))+Lprice.substring(1);}var Rprice=$("#price-slide-right").val();if(Rprice!=undefined&&Rprice!="undefined"){Rprice=encodeURIComponent(Rprice.charAt(0))+Rprice.substring(1);}price=$.trim(Lprice+"-"+Rprice);price=price.replace(/ /g,"");if(price=="undefined-undefined"||price==undefined-undefined||price=="-"){price="";}var startdate=$("#ad_startdate1").val();var enddate=$("#ad_startdate2").val();var regEx=/^\d{2}-\d{2}-\d{4}$/;if(startdate==Drupal.t("LBL251")+":"+Drupal.t("LBL112")||startdate.match(regEx)==null){startdate="";}else{$("#date-clr").css("display","block");}if(enddate==Drupal.t("LBL113")||enddate.match(regEx)==null){enddate="";
}else{$("#date-clr").css("display","block");}var title=$("#search_searchtext").val();if((title.toLowerCase())==(Drupal.t("LBL304").toLowerCase())){title="";}var location=$("#srch_criteria_location").val();if(location==Drupal.t("LBL1321")){location="";}else{$("#location-clr").css("display","block");}var tag="";if($("#srch_criteria_tag").length>0){var tag=$("#srch_criteria_tag").val();}if(tag!=""){$("#tag-clr").css("display","block");}var rating_type="";$(".rating-others").each(function(){if($(this).is(":checked")){rating_type+=rating_type!=""?"|":"";rating_type+=$(this).val();}});if(sortbytxt!=null&&sortbytxt!=undefined){this.sortbyValue=sortbytxt;}var sortby=this.sortbyValue;if(title==undefined){title="";}var filtersApplied=this.getGetJSONCookie("catalogAppliedFilters");if(callFrom=="clearAll"){this.removeFilters(filtersApplied,filtersApplied.length);filtersApplied=[];}else{if($(callFrom).is(":checkbox")){var filterId=$(callFrom).data("filter-id");if($(callFrom).is(":checked")){filtersApplied.push(filterId);
this.addFilters(filterId);}else{filtersApplied=filtersApplied.filter(function(item){return filterId!==item;});this.removeFilters(filterId,filtersApplied.length);}}else{if($(callFrom).is("div#price-slider-range")||callFrom=="clearprice"){var filterId=$("#price-slider-range").data("filter-id");if(callFrom=="clearprice"){filtersApplied=filtersApplied.filter(function(item){return filterId!==item;});this.removeFilters(filterId,filtersApplied.length);}else{if(price!=""){filtersApplied=filtersApplied.filter(function(item){return filterId!==item;});this.removeFilters(filterId,filtersApplied.length);filtersApplied.push(filterId);this.addFilters(filterId);}}}else{if(callFrom=="date"){filtersApplied=filtersApplied.filter(function(item){return"date-range"!==item;});this.removeFilters("date-range",filtersApplied.length);if(startdate!=""||enddate!=""){filtersApplied.push("date-range");this.addFilters("date-range");}}else{if(callFrom=="Clear-Date"){filtersApplied=filtersApplied.filter(function(item){return"date-range"!==item;
});this.removeFilters("date-range",filtersApplied.length);}else{if(callFrom=="cloud-tag"){filtersApplied=filtersApplied.filter(function(item){return"cloud-tag"!==item;});this.removeFilters("cloud-tag",filtersApplied.length);filtersApplied.push("cloud-tag");this.addFilters("cloud-tag");}else{if(callFrom=="Clear-Tag"){filtersApplied=filtersApplied.filter(function(item){return"cloud-tag"!==item;});this.removeFilters("cloud-tag",filtersApplied.length);}else{if(callFrom=="location"){filtersApplied=filtersApplied.filter(function(item){return"srch_criteria_location"!==item;});this.removeFilters("srch_criteria_location",filtersApplied.length);filtersApplied.push("srch_criteria_location");this.addFilters("srch_criteria_location");}else{if(callFrom=="Clear-Location"){filtersApplied=filtersApplied.filter(function(item){return"srch_criteria_location"!==item;});this.removeFilters("srch_criteria_location",filtersApplied.length);}else{if(callFrom=="top-search"){filtersApplied=filtersApplied.filter(function(item){return"top-search"!==item;
});this.removeFilters("top-search",filtersApplied.length);if(title!=""){filtersApplied.push("top-search");this.addFilters("top-search");}}}}}}}}}}}this.getGetJSONCookie("catalogAppliedFilters",filtersApplied);searchStr="&title="+encodeURIComponent(title)+"&dl_type="+dl_type+"&lg_type="+lg_type+"&all_lg_type="+all_lg_type+"&ob_type="+ob_type+"&location="+encodeURIComponent(location)+"&tag="+encodeURIComponent(tag)+"&price="+price+"&startdate="+startdate+"&enddate="+enddate+"&jr_type="+jr_type+"&all_jr_type="+all_jr_type+"&cy_type="+cy_type+"&all_cy_type="+all_cy_type+"&sortby="+sortby+"&mro_type="+mro_type+"&all_mro_type="+all_mro_type+"&rating_type="+rating_type+"&catalogAppliedFilters="+JSON.stringify(filtersApplied);$.cookie("catalog_searchStr",searchStr);this.createLoader("lnr-catalog-search");$("#paintContentResults").setGridParam({url:this.constructUrl("learning/catalog-search/search/all/"+searchStr)});$("#paintContentResults").trigger("reloadGrid",[{page:1}]);$(".ac_results").css("display","none");
this.checkboxValidation();if(className!=null){$(".sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});$("."+className).addClass("sortype-high-lighter");}else{$(".sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});if(this.sortbyValue!=""){if(this.sortbyValue=="ZA"){$(".type2").addClass("sortype-high-lighter");}else{if(this.sortbyValue=="Time"){$(".type3").addClass("sortype-high-lighter");}else{if(this.sortbyValue=="ClassStartDate"){$(".type4").addClass("sortype-high-lighter");}else{if(this.sortbyValue=="Mandatory"){$(".type5").addClass("sortype-high-lighter");}else{$(".type1").addClass("sortype-high-lighter");}}}}}else{$(".type1").addClass("sortype-high-lighter");}}}catch(e){}},searchActionLocation:function(){try{var location=$("#srch_criteria_location").val();if(location!=Drupal.t("LBL1321")){this.searchAction("location");}}catch(e){}},clearField:function(txt,searchAction){try{if(typeof searchAction=="undefined"){searchAction=true;
}if(txt=="Location"){this.clearSearchParam("location");$("#srch_criteria_location").val(Drupal.t("LBL1321")).css("color","#999999").css("fontSize","11px");$("#location-clr").css("display","none");}else{if(txt=="Tag"){this.clearSearchParam("tag");$("#srch_criteria_tag").val("");$(".tagscloud-tag").css("text-decoration","");$("#tag-clr").css("display","none");}else{this.clearSearchParam("startdate");this.clearSearchParam("enddate");$("#ad_startdate1").val(Drupal.t("LBL251")+":"+Drupal.t("LBL112")).css("color","#999999").css("fontSize","11px");$("#ad_startdate2").val(Drupal.t("LBL113")).css("color","#999999").css("fontSize","11px");$("#date-clr").css("display","none");}}$("#date-validate-newid").remove();if(searchAction){this.searchAction("Clear-"+txt);}}catch(e){}},clearSearchParam:function(clearField){try{var param=unserialize(Drupal.settings.refer_course.share_details);param[clearField]="";var clearStr=Object.keys(param).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(param[key]);
}).join("&");Drupal.settings.refer_course.share_details=clearStr;}catch(e){}},showHide:function(strOne,strTwo,closeTarget){try{if(closeTarget){$("#"+strTwo).hide();}else{$("#"+strTwo).toggle();}var classShowHide=$("#"+strOne).hasClass("cls-show");if(classShowHide){$("#"+strOne).removeClass("cls-show");$("#"+strOne).addClass("cls-hide");}else{$("#"+strOne).removeClass("cls-hide");$("#"+strOne).addClass("cls-show");}var filters=(($.cookie("filters-state")!==undefined&&$.cookie("filters-state")!=null)?JSON.parse($.cookie("filters-state")):{});filters[strOne]=$("#"+strOne).hasClass("cls-show");$.cookie("filters-state",JSON.stringify(filters));}catch(e){}},checkboxValidation:function(){try{$("#searchopts-content").find("input[type=checkbox]").each(function(){if($(this).is(":checked")){if($(this).val()!="All"){$(this).parent().next("label").removeClass("highlight-light-blue");$(this).parent().next("label").addClass("highlight-light-gray");checkboxSelectedUnselectedCommon(this);}}else{if($(this).val()!="All"){$(this).parent().next("label").removeClass("highlight-light-gray");
$(this).parent().next("label").addClass("highlight-light-blue");checkboxSelectedUnselectedCommon(this);}}});}catch(e){}},moreListDisplay:function(recLen,dispId){try{for(i=0;i<=recLen;i++){$("#"+dispId+"_"+i).css("display","block");}$("#"+dispId+"_more").css("display","none");$("#"+dispId+"_short").css("display","block");}catch(e){}vtip();},shortListDisplay:function(recLen,dispId){try{for(i=0;i<=recLen;i++){if(i<=4){$("#"+dispId+"_"+i).css("display","block");}else{$("#"+dispId+"_"+i).css("display","none");}}$("#"+dispId+"_short").css("display","none");$("#"+dispId+"_more").css("display","block");}catch(e){}vtip();},hidePageControls:function(hideAll){try{$("#paintCatalog-show_more").hide();var lastDataRow=$("#paintContentResults tr.ui-widget-content").filter(":last");if(lastDataRow.length!=0){lastDataRow.children("td").css("border","0 none");}return;if(hideAll){if(this.currTheme=="expertusoneV2"){$("#paintContent .block-footer-left").show();}$("#pager").hide();if(lastDataRow.length!=0){lastDataRow.children("td").css("border","0 none");
}}else{$("#pager").show();if(this.currTheme=="expertusoneV2"){$("#paintContent .block-footer-left").hide();}$("#pager #pager_center #first_pager").hide();$("#pager #pager_center #last_pager").hide();$("#pager #pager_center #next_pager").hide();$("#pager #pager_center #prev_pager").hide();$("#pager #pager_center #sp_1_pager").parent().hide();}}catch(e){}},showPageControls:function(){try{$("#paintCatalog-show_more").show();var lastDataRow=$("#paintContentResults tr.ui-widget-content").filter(":last");if(lastDataRow.length!=0){lastDataRow.children("td").css("border","0 none");}return;$("#pager").show();if(this.currTheme=="expertusoneV2"){$("#paintContent .block-footer-left").hide();}$("#pager #pager_center #first_pager").show();$("#pager #pager_center #last_pager").show();$("#pager #pager_center #next_pager").show();$("#pager #pager_center #prev_pager").show();$("#pager #pager_center #sp_1_pager").parent().show();}catch(e){}},renderSearchResults:function(searchStr){try{this.createLoader("lnr-catalog-search");
var obj=this;if(this.currTheme=="expertusoneV2"){var gridWidth=762;var detailsWidth=521;var actionWidth=150;var iconsWidth=70;}else{var detailsWidth=595;var actionWidth=130;var gridWidth=764;var iconsWidth=54;}var urlStr=(searchStr!="")?searchStr:"";if(Drupal.settings.refer_course.share_details!==undefined){urlStr=Drupal.settings.refer_course.share_details;}var objStr='$("#lnr-catalog-search").data("lnrcatalogsearch")';var pagenumber=1;var learnerId=obj.getLearnerId();var rownumber=10;var rowlist=[10,20,30];if(learnerId!=0&&learnerId!=""&&learnerId!=null&&learnerId!=undefined){var user_selected_page_number=$.cookie("user_selected_page_number");if(user_selected_page_number!=null&&user_selected_page_number!=undefined){pagenumber=user_selected_page_number;$.cookie("user_selected_page_number","",{expires:-300});}var user_selected_row_number=$.cookie("user_selected_row_number");if(user_selected_row_number!=null&&user_selected_row_number!=undefined){if(user_selected_row_number==20){rownumber=20;
rowlist=[20,40,60];}else{if(user_selected_row_number==30){rownumber=30;rowlist=[30,60,90];}}$.cookie("user_selected_row_number","",{expires:-300});}}if(Drupal.settings.WIDGETMODULEVARIABLE.page_number!=undefined){pagenumber=Drupal.settings.WIDGETMODULEVARIABLE.page_number;}if(Drupal.settings.WIDGETMODULEVARIABLE.row_number!=undefined){if(Drupal.settings.WIDGETMODULEVARIABLE.row_number==20){rownumber=20;rowlist=[20,40,60];}else{if(Drupal.settings.WIDGETMODULEVARIABLE.row_number==30){rownumber=30;rowlist=[30,60,90];}}}if(Drupal.settings.widget.widgetCallback==true){urlStr=Drupal.settings.widget.widget_details.widget_parameters+"&callfrom=widget";var displayParams=Drupal.settings.widget.widget_details.catalog_display_parameters;if(typeof displayParams!="undefined"){var colNamesArray=[];var colModelsArray=[];if(displayParams.show_icon==true){colNamesArray.push("Icons");colModelsArray.push({name:"Icons",index:"Icons",align:"left",title:false,fixed:true,width:iconsWidth,widgetObj:objStr,formatter:obj.paintLPSearchIcons});
}colNamesArray.push("Details");colModelsArray.push({name:"Details",index:"Details",align:"left",title:false,widgetObj:objStr,formatter:obj.paintLPSearchResults});if(displayParams.show_button==true){colNamesArray.push("Action");colModelsArray.push({name:"Action",index:"Action",align:"left",title:false,fixed:true,width:actionWidth,widgetObj:objStr,formatter:obj.paintLPSearchResultsAction});}}else{var colNamesArray=["Icons","Details","Action"];var colModelsArray=[{name:"Icons",index:"Icons",align:"left",title:false,fixed:true,width:iconsWidth,widgetObj:objStr,formatter:obj.paintLPSearchIcons},{name:"Details",index:"Details",align:"left",title:false,widgetObj:objStr,formatter:obj.paintLPSearchResults},{name:"Action",index:"Action",align:"left",title:false,fixed:true,width:actionWidth,widgetObj:objStr,formatter:obj.paintLPSearchResultsAction}];}$("#paintContentResults").jqGrid({url:obj.constructUrl("learning/catalog-search/search/all/"+urlStr),datatype:"json",mtype:"GET",colNames:["Cell"],colModel:[{name:"cell",index:"cell",title:false,width:iconsWidth,widgetObj:objStr,formatter:obj.testReturn}],page:pagenumber,rowNum:rownumber,rowList:rowlist,pager:"#pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,hoverrows:false,loadComplete:obj.callbackLoader,jsonReader:{id:"jqgrid-rowid"}}).navGrid("#pager",{add:false,edit:false,del:false,search:false,refreshtitle:true});
this.paintAfterReady();}else{if($.cookie("catalog_searchStr_passurl")!==undefined&&$.cookie("catalog_searchStr_passurl")!=""&&$.cookie("catalog_searchStr_passurl")!=null){if(learnerId!=0&&learnerId!=""&&learnerId!=null&&learnerId!=undefined){urlStr=urlStr+$.cookie("catalog_searchStr_passurl")+"&language="+Drupal.settings.user.language+"&callfrom=passurl";}else{urlStr=urlStr+$.cookie("catalog_searchStr_passurl")+"&callfrom=passurl";}}else{if($.cookie("catalog_searchStr")!==undefined&&$.cookie("catalog_searchStr")!=""&&$.cookie("catalog_searchStr")!=null){if(learnerId!=0&&learnerId!=""&&learnerId!=null&&learnerId!=undefined){urlStr=urlStr+$.cookie("catalog_searchStr")+"&language="+Drupal.settings.user.language+"&callfrom=passurl";}else{urlStr=urlStr+$.cookie("catalog_searchStr")+"&callfrom=passurl";}}}$("#paintContentResults").jqGrid({url:obj.constructUrl("learning/catalog-search/search/all/"+urlStr),datatype:"json",mtype:"GET",colNames:["Cell"],colModel:[{name:"cell",index:"cell",title:false,width:iconsWidth,widgetObj:objStr,formatter:obj.testReturn}],page:pagenumber,rowNum:rownumber,rowList:rowlist,pager:"#pager",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,hoverrows:false,loadComplete:obj.callbackLoader,jsonReader:{id:"jqgrid-rowid"}}).navGrid("#pager",{add:false,edit:false,del:false,search:false,refreshtitle:true});
}$(".sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});if(this.sortbyValue!=""){if(this.sortbyValue=="ZA"){$(".type2").addClass("sortype-high-lighter");}else{if(this.sortbyValue=="Time"){$(".type3").addClass("sortype-high-lighter");}else{if(this.sortbyValue=="ClassStartDate"){$(".type4").addClass("sortype-high-lighter");}else{if(this.sortbyValue=="Mandatory"){$(".type5").addClass("sortype-high-lighter");}else{$(".type1").addClass("sortype-high-lighter");}}}}}else{$(".type1").addClass("sortype-high-lighter");}}catch(e){}},callbackLoader:function(response,postdata,formid,updateShowMore){try{var obj=$("#lnr-catalog-search").data("lnrcatalogsearch");var prefSet=Drupal.settings.user_preferences.catalog_refine;var userId=obj.getLearnerId();if(response.user_preferences!=undefined&&userId>0){Drupal.settings.user_preferences=response.user_preferences;}if(prefSet!=Drupal.settings.user_preferences.catalog_refine){obj.pinUnpinFilterCriteria("","toggle");}$("#paintContentResults").show();
var recs=parseInt($("#paintContentResults").getGridParam("records"),10);if(recs==0){$("#no-records").css("display","block");var html=Drupal.t("MSG381");$("#no-records").html(html);}else{$("#no-records").css("display","none");$("#no-records").html("");}Drupal.attachBehaviors();var reccount=parseInt($("#paintContentResults").getGridParam("reccount"),10);var hideAllPageControls=true;if(recs>10){hideAllPageControls=false;}var recs=response.records;var showMore=$("#paintCatalog-show_more");updateShowMore=((updateShowMore==undefined||updateShowMore==null)?true:updateShowMore);if(updateShowMore){$("#paintContentResults").data("totalrecords",recs);if($("#paintContentResults").getGridParam("reccount")<recs){showMore.show();}else{showMore.hide();}}$("#paintContentResults").find("tr.ui-widget-content").filter(":last").addClass("ui-widget-content-last-row");$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("lnr-catalog-search");$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("searchRecordsPaint");
$(".loadercontent").remove();if($("#lnr-catalog-search").data("lnrcatalogsearch").defaults.start){$("#search-filter-content").html(response.filter);$("#find-trng-sort-display").show();$("#lnr-catalog-search").data("lnrcatalogsearch").defaults.start=false;var req=window.location.search;req=req.substring(3,req.length);var reqArr=req.split("/");if($("#lang_list").val()>6){$("#paintLanguage").css({height:"160px",width:"135px","margin-top":"10px"});$("#paintLanguage").jScrollPane({});}var trunk8options=[];trunk8options.push({selector:".content-title .limit-title",lines:trunk8.embedwidget_title});trunk8options.push({selector:".content-description .limit-desc",lines:trunk8.embedwidget_desc});obj.truncateTitleDescription(trunk8options);if($("#filterlist_language").val()>6){$("#paintLanguage .searchtext").css("display","block");$("#language_searchtext").css("display","block");$("#paintLanguagescroll").css({height:"160px",width:"130px"});$("#paintLanguagescroll").jScrollPane({});}if($("#filterlist_country").val()>6){$("#paintCountry .searchtext").css("display","block");
$("#country_searchtext").css("display","block");$("#paintCountryscroll").css({height:"160px",width:"130px"});$("#paintCountryscroll").jScrollPane({});}}else{$("#lnr-catalog-search").data("lnrcatalogsearch").unselectFilter(response);var trunk8options=[];trunk8options.push({selector:".content-title .limit-title",lines:trunk8.embedwidget_title});trunk8options.push({selector:".content-description .limit-desc",lines:trunk8.embedwidget_desc});obj.truncateTitleDescription(trunk8options);}$(".jqgrow").bind("mouseover",function(e){ptr=$(e.target).closest("tr.jqgrow");if($(ptr).attr("class")!=="subgrid"){$(ptr).addClass("ui-state-hover");}}).bind("mouseout",function(e){ptr=$(e.target).closest("tr.jqgrow");$(ptr).removeClass("ui-state-hover");});if(document.getElementById("launch-content-container")){var dataObj=$("#paintContentResults").jqGrid("getGridParam","postData");if(dataObj.enrollmentId!=""&&dataObj.enrollmentId!=undefined){$("#launch"+dataObj.enrollmentId).click();}}vtip();resetFadeOutByClass("#paintContentResults","content-detail-code","line-item-container","catalog");
if($("#jobrole_list").val()>4){$("#paintJobrole").css("height","90px").css("width","130px");if(!$("#paintJobrole").hasClass("jspScrollable")){$("#paintJobrole").jScrollPane({});}}var learnerId=obj.getLearnerId();if(learnerId!=0&&learnerId!=""&&learnerId!=null&&learnerId!=undefined){var user_selected_class_id=$.cookie("user_selected_class_id");if(user_selected_class_id!=null&&user_selected_class_id!=undefined){$(window).scrollTop($("#"+user_selected_class_id).offset().top);$("#"+user_selected_class_id).focus();var onclickprop=$("#"+user_selected_class_id).attr("onclick");if(onclickprop!=null&&onclickprop!=""&&onclickprop!=undefined){$("#"+user_selected_class_id).click();}else{if($.trim($("#"+user_selected_class_id).html())==Drupal.t("Register")&&$("#"+user_selected_class_id).hasClass("action-btn-disable")){var status_msg=Drupal.t("MSG829");obj.callMessageWindow(Drupal.t("LBL721"),status_msg);}else{var status_msg=Drupal.t("ERR047");if(user_selected_class_id.indexOf("object-registerCls")>-1==true){status_msg=Drupal.t("MSG430");
}obj.callMessageWindow(Drupal.t("LBL721"),status_msg);}}$.cookie("user_selected_class_id","",{expires:-300});$.cookie("user_selected_url","",{expires:-300});}}if(Drupal.settings.WIDGETMODULEVARIABLE.click_id!=undefined&&Drupal.settings.WIDGETMODULEVARIABLE.click_id!=null){$("#"+Drupal.settings.WIDGETMODULEVARIABLE.click_id).click();Drupal.settings.WIDGETMODULEVARIABLE.click_id=undefined;history.pushState(null,Drupal.t("CATALOG"),"?q=learning/catalog-search");}if(Drupal.settings.widget.widgetCallback==true){if($.browser.msie&&parseInt($.browser.version,10)=="10"){$("#lnr-catalog-search .ui-jqgrid .ui-jqgrid-bdiv").css("height","auto");}$("#pager").css("width","auto");}obj.checkboxValidation();if((Drupal.settings.refer_course.share_details!==undefined&&$.cookie("widget_searchstr")==true)||($.cookie("catalog_searchStr_passurl")!==undefined&&$.cookie("catalog_searchStr_passurl")!=null&&$.cookie("catalog_searchStr_passurl")!="")||($.cookie("catalog_temp_searchStr")!==undefined&&$.cookie("catalog_temp_searchStr")!=null&&$.cookie("catalog_temp_searchStr")!="")){if(Drupal.settings.refer_course.share_details!==undefined&&$.cookie("widget_searchstr")==true){var param=unserialize(Drupal.settings.refer_course.share_details);
Drupal.settings.refer_course.share_details=undefined;}else{if($.cookie("catalog_searchStr_passurl")!==undefined&&$.cookie("catalog_searchStr_passurl")!=null&&$.cookie("catalog_searchStr_passurl")!=""){var param=unserialize($.cookie("catalog_searchStr_passurl"));if(learnerId!=0&&learnerId!=""&&learnerId!=null&&learnerId!=undefined){$.cookie("catalog_searchStr_passurl","",{path:"/",expires:-5});}}else{if(($.cookie("catalog_temp_searchStr")!==undefined&&$.cookie("catalog_temp_searchStr")!=null&&$.cookie("catalog_temp_searchStr")!="")){var cookie_arr=$.cookie("catalog_temp_searchStr").split("&");var param=[];var search_str_arr="";var cnt=cookie_arr.length;var i=0;for(i=0;i<cnt;i++){if(cookie_arr[i]!=""){search_str_arr=cookie_arr[i].split("=");if(search_str_arr[0]=="price"){search_str_arr[1]=decodeURIComponent(search_str_arr[1]);}param[search_str_arr[0]]=search_str_arr[1];}}$.cookie("catalog_temp_searchStr","",{path:"/",expires:-5});}}}if(param.lg_type!=""&&param.lg_type!=undefined){$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.lg_type);
var lang_arr=param.lg_type.split("|");var seemore_check=false;if(lang_arr.length>0){$.each(lang_arr,function(index,value){if($("#lrn_srch_lang_"+value).parents(".srch-checkbox-container-cls").css("display")=="none"){seemore_check=true;return false;}});if(seemore_check==true){$lng_cnt=$("#paintLanguage").find(".srch-label-cls").length;$("#lnr-catalog-search").data("lnrcatalogsearch").moreListDisplay($lng_cnt,"lang_hideshow");}}}if((param.dl_type!=""&&param.dl_type!=undefined)||(param.ob_type!=""&&param.ob_type!=undefined)){$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.dl_type);$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.ob_type);}if(param.mro_type!=""&&param.mro_type!=undefined){$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.mro_type);}if(param.jr_type!=""&&param.jr_type!=undefined){$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.jr_type);}if(param.cy_type!=""&&param.cy_type!=undefined){$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.cy_type);
}if(param.location!=""&&param.location!=undefined){var tmpval=decodeURIComponent(unescape(param.location));tmpval=decodeURIComponent(tmpval);$("#srch_criteria_location").val(tmpval.trim());$("#srch_criteria_location").css({color:"#333333","font-style":"normal"});$("#location-clr").show();}if(param.tag!=""&&param.tag!=undefined){$("#srch_criteria_tag").val(decodeURIComponent(param.tag.trim()));$(".tagscloud-tag").filter(function(){return $(this).text()===param.tag.trim();}).css("text-decoration","underline");$("#tag-clr").show();}if(param.startdate!=""&&param.startdate!=undefined){$("#ad_startdate1").val(param.startdate);$("#ad_startdate1").css({color:"#333333","font-style":"normal"});$("#date-clr").show();}if(param.enddate!=""&&param.enddate!=undefined){$("#ad_startdate2").val(param.enddate);$("#ad_startdate2").css({color:"#333333","font-style":"normal"});$("#date-clr").show();}if(param.price!=""&&param.price!=undefined){var symbol=Drupal.settings.user_prefference.currency_sym;if(symbol==""){symbol="";
}param.price=replaceAll(symbol,"",param.price);var priceStr=param.price.split("-");var minPrice=parseInt(priceStr[0].replace(/[^\d]/g,""));var maxPrice=parseInt(priceStr[1].replace(/[^\d]/g,""));var range=maxPrice-minPrice;if($.cookie("preferredcurrencychange")==1){var min_price=0;$("#price-slide-left").val(symbol+min_price);$("#price-slide-right").val(symbol+price_max_value);obj.clearPriceSlider(false);setTimeout(function(){obj.searchAction("clearprice");},100);$.cookie("preferredcurrencychange","0");}else{$("#price-slider-range .ui-slider-range").css({left:(minPrice/parseInt(price_max_value))*100+"%",width:(range/parseInt(price_max_value))*100+"%"});$("#price-slider-range a").eq(0).css("left",(minPrice/parseInt(price_max_value))*100+"%");$("#price-slider-range a").eq(1).css("left",(maxPrice/parseInt(price_max_value))*100+"%");$("#price-slide-left").val(symbol+minPrice);$("#price-slide-right").val(symbol+maxPrice);}}if(param.title!=""&&param.title!=undefined){$("#search_searchtext").val(unescape(param.title));
$("#search_searchtext").css("color","#333333");}if(param.rating_type!=""&&param.rating_type!=undefined){$("#lnr-catalog-search").data("lnrcatalogsearch").selectFormCheckbox(param.rating_type);}if(param.sortby!=""&&param.sortby!=undefined){$("#lnr-catalog-search").data("lnrcatalogsearch").setSortByValue(param.sortby);}$.cookie("widget_searchstr","",{path:"/",expires:-5});}if(Drupal.settings.widget.widgetCallback==true){$(".top-record-div-left").each(function(){var imageWidth=$(this).find(".catalog-course-compliance-role-bg").width();var imageRole=$(this).find(".catalog-course-role-access-bg").width();if(imageWidth==null){if(imageRole!=null){imageWidth=imageRole;}}var divWidth=$(this).width();var fadeout=$(this).find(".widget-catalog-page-fadeout-container").width();if(imageWidth!=null){var fadeout_imagewidth=imageWidth+fadeout;if(fadeout_imagewidth>divWidth||fadeout==415){var compliace_change=divWidth-(imageWidth+30);$(this).find(".widget-catalog-page-fadeout-container").css("max-width",compliace_change);
}}else{if(fadeout!=415){if(fadeout>divWidth){var value=divWidth-20;$(this).find(".widget-catalog-page-fadeout-container").css("max-width",value);}}else{value=divWidth-20;$(this).find(".widget-catalog-page-fadeout-container").css("max-width",value);}}});}$(".catalog-criteria-refine-icon").addClass("click-binded").mouseenter(function(){obj.showHideFilterCriteria(1);datePickerOpen=false;if($("#filterlist_language").val()>6){$("#paintLanguagescroll").jScrollPane({}).data("jsp").destroy();$("#paintLanguagescroll").jScrollPane();}if($("#filterlist_country").val()>6){$("#paintCountryscroll").jScrollPane({}).data("jsp").destroy();$("#paintCountryscroll").jScrollPane();}if($("#jobrole_list").val()>4){$("#paintJobrole").jScrollPane({}).data("jsp").destroy();$("#paintJobrole").jScrollPane({});}afterRenderRefineIcon("#paintContent");});$("#search-filter-content").mouseenter(function(){if(!$("#ad_startdate1, #ad_startdate2").datepicker("widget").is(":visible")){datePickerOpen=false;}});$(".catalog-criteria-refine-icon, #search-filter-content").mouseout(function(event){try{afterRenderRefineIcon("#paintCriteriaResults");
var comingfrom=event.toElement||event.relatedTarget;var isVtip=($(comingfrom).attr("id")=="vtip"||$(comingfrom).attr("id")=="vtipArrow");var isAutoCompl=($(comingfrom).parents(".ac_results").length>0||$(comingfrom).is(".ac_results"))?true:false;if(!isVtip&&!isAutoCompl&&$(comingfrom).parents("#search-filter-content").length==0&&!$(comingfrom).is(".block-title-middle")&&$(comingfrom).parents(".catalog-criteria-refine-icon").length==0&&!$(comingfrom).is(".catalog-criteria-refine-icon")&&(!datePickerOpen)){obj.showHideFilterCriteria(0);$(".ac_results").hide();}}catch(e){}});obj.collapseFilters("filters-state");if(filtersAdded==false){var filters=obj.getGetJSONCookie("catalogAppliedFilters");var langFilters=filters.filter(function(item){return item.indexOf("lrn_srch_lang_cre_sys_lng_")!=-1;});if(filters.length==0||langFilters.length==0){var filterId=$(".lang-others:checked").data("filter-id");if(filterId!==undefined){filters.push(filterId);obj.getGetJSONCookie("catalogAppliedFilters",filters);
}}obj.addFilters(filters);filtersAdded=true;}$("#paintContentResults").showmore({showAlways:true,grid:"#paintContentResults",gridWrapper:"#searchRecordsPaint",showMore:"#paintCatalog-show_more"});}catch(e){}},preAssMsgBox:function(enrID,vodType){try{var callMsgFlag=true;var contentLaunchFlag=true;if(document.getElementById("launch-content-container")){var dataObj="";if(document.getElementById("paintContentResults")){var dataObj=$("#paintContentResults").jqGrid("getGridParam","postData");}if(document.getElementById("tbl-paintCatalogContentResults")){var dataObj=$("#tbl-paintCatalogContentResults").jqGrid("getGridParam","postData");}if(document.getElementById("paint-classes-list")){var dataObj=$("#paint-classes-list").jqGrid("getGridParam","postData");}if(dataObj.enrollmentId!=""&&dataObj.enrollmentId!=undefined){var callMsgFlag=false;}}if(callMsgFlag){$("#commonMsg-wizard").remove();var html="";html+='<div id="commonMsg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';
html+='<tr><td height="30"></td></tr>';html+="<tr>";html+='<td align="center"><span class="select-greyed-out-text">'+SMARTPORTAL.t("MSG708")+"</span></td>";html+="</tr>";html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#commonMsg-wizard").remove();contentLaunchFlag=false;if(vodType=="sinVod"){$("#dummylaunch"+enrID).click();}else{eval($("#launch"+enrID).attr("alt"));}};$("#commonMsg-wizard").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:520,resizable:false,modal:true,title:SMARTPORTAL.t("Assessment"),buttons:closeButt,closeOnEscape:false,draggable:true,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();this.currTheme=Drupal.settings.ajaxPageState.theme;if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").before('<div class="white-btn-bg-left"></div>');
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass(" white-btn-bg-middle");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").after('<div class="white-btn-bg-right"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");}if(this.currTheme=="expertusoneV2"){$("#select-class-equalence-dialog").prevAll().removeAttr("select-class-equalence-dialog");$("#commonMsg-wizard").closest(".ui-dialog").wrap("<div id='select-class-equalence-dialog'></div>");$("#select-class-equalence-dialog").find(".ui-dialog-content").addClass("commonMsg-select-class");changeChildDialogPopUI("select-class-equalence-dialog");if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$("#select-class-equalence-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").prev(".white-btn-bg-left").remove();
$("#select-class-equalence-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").remove();}}else{$("#select-class-equalence-dialog").prevAll().removeAttr("select-class-equalence-dialog");$("#commonMsg-wizard").closest(".ui-dialog").wrap("<div id='select-class-equalence-dialog'></div>");changeChildDialogPopUI("select-class-equalence-dialog");}$("#commonMsg-wizard").show();$(".ui-dialog-titlebar-close,.removebutton").click(function(){$("#commonMsg-wizard").remove();if(contentLaunchFlag){eval($("#launch"+enrID).attr("alt"));}contentLaunchFlag=false;});}}catch(e){}},selectFormCheckbox:function(inputStr){try{var tempStr=inputStr.split("|");for(var tempVal in tempStr){var tempLabel=tempStr[tempVal].trim();$("input:checkbox[value='"+tempLabel+"']").attr("checked","checked");$("input:checkbox[value='"+tempLabel+"']").parent().removeClass("checkbox-unselected").addClass("checkbox-selected");}}catch(e){}},callMessageWindow:function(title,message){try{if(title=="registertitle"){title=Drupal.t("LBL721");
}$("#commonMsg-wizard").remove();var html="";html+='<div id="commonMsg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';html+='<tr><td height="30"></td></tr>';html+="<tr>";html+='<td align="center"><span class="select-greyed-out-text">'+SMARTPORTAL.t(unescape(message))+"</span></td>";html+="</tr>";html+="</table>";html+="</div>";$("body").append(html);var closeButt={};closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#commonMsg-wizard").remove();};$("#commonMsg-wizard").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:520,resizable:false,modal:true,title:SMARTPORTAL.t(title),buttons:closeButt,closeOnEscape:false,draggable:true,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();this.currTheme=Drupal.settings.ajaxPageState.theme;if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").before('<div class="white-btn-bg-left"></div>');
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass(" white-btn-bg-middle");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").after('<div class="white-btn-bg-right"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");}if(this.currTheme=="expertusoneV2"){$("#select-class-equalence-dialog").prevAll().removeAttr("select-class-equalence-dialog");$("#commonMsg-wizard").closest(".ui-dialog").wrap("<div id='select-class-equalence-dialog'></div>");$("#select-class-equalence-dialog").find(".ui-dialog-content").addClass("commonMsg-select-class");changeChildDialogPopUI("select-class-equalence-dialog");$("#select-class-equalence-dialog").prev(".ui-widget-overlay").css("display","none");if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$("#select-class-equalence-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").prev(".white-btn-bg-left").remove();
$("#select-class-equalence-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").remove();}}else{$("#select-class-equalence-dialog").prevAll().removeAttr("select-class-equalence-dialog");$("#commonMsg-wizard").closest(".ui-dialog").wrap("<div id='select-class-equalence-dialog'></div>");changeChildDialogPopUI("select-class-equalence-dialog");$("#select-class-equalence-dialog").prev(".ui-widget-overlay").css("display","none");}$("#commonMsg-wizard").show();$(".ui-dialog-titlebar-close,.removebutton").click(function(){$("#commonMsg-wizard").remove();$("#select-class-dialog").next(".ui-widget-overlay").css("display","block");});}catch(e){}},setSortByValue:function(sortVal){try{$(".sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});switch(sortVal){case"ZA":$(".type2").addClass("sortype-high-lighter");break;case"Time":$(".type3").addClass("sortype-high-lighter");break;case"ClassStartDate":$(".type4").addClass("sortype-high-lighter");
break;case"Mandatory":$(".type5").addClass("sortype-high-lighter");break;default:$(".type1").addClass("sortype-high-lighter");break;}}catch(e){}},fiveStarCheckCompStatus:function(node_id,entity_type,crs_level_class_id){try{if(typeof(crs_level_class_id)=="undefined"){crs_level_class_id="";}Drupal.attachBehaviors();$("body").data("learningcore").disableFiveStarOnVoting();var obj=$("#lnr-catalog-search").data("lnrcatalogsearch");$("#cls-node-"+node_id+" .fivestar-click").click(function(){var fivestarClick=this;var fiveStarClass=$(this).attr("class");var pattern=/[0-9]+/;var rating=fiveStarClass.match(pattern);var nodeId=node_id;var param={rating:rating,nodeId:crs_level_class_id,entityType:entity_type};url=obj.constructUrl("learning/five-star-submit");$.ajax({type:"POST",url:url,data:param,success:function(result){if(result.average_rating=="AlreadyRated"){return false;}else{$("body").data("learningcore").fiveStarCheck(nodeId,"cls-node-");var average_stars=(result.average.value*5)/100;average_stars=average_stars.toFixed(1);
var voteText=(result.count.value==1)?result.votemsg:result.votesmsg;var avgRating='<span class="total-votes"> (<span>'+result.count.value+"</span> "+voteText+")</span>";$(fivestarClick).parent("div").next("div.description").children("div.fivestar-summary").html(avgRating);}}});});}catch(e){}},checkBoxSelected:function(response){try{$(".dt-others").each(function(){var previousObj=this;$.each(response.delivery_type,function(key,value){if($(previousObj).val()==key){$(previousObj).attr("checked","true");}});});this.checkboxValidation();}catch(e){}},typeCheckboxUnSelect:function(){try{$(".dt-others").each(function(){$(this).removeAttr("checked");});}catch(e){}},unselectFilter:function(response){try{}catch(e){}},paintLPSearchIcons:function(cellvalue,options,rowObject){try{return rowObject.image;}catch(e){}},testReturn:function(cellvalue,options,rowObject){try{return(typeof rowObject.cell!="undefined"?rowObject.cell:rowObject);}catch(e){}},paintLPSearchResults:function(cellvalue,options,rowObject){try{return rowObject.details;
}catch(e){}},paintLPSearchResultsAction:function(cellvalue,options,rowObject){try{return rowObject.action;}catch(e){}},priceSlider:function(priceMin,priceMax){try{obj=this;var symbol=Drupal.settings.user_prefference.currency_sym;if(symbol==""){symbol="";}if(priceMax==0){$("#search_price").css("display","none");}else{$("#price-slider-range").slider({range:true,min:priceMin,max:priceMax,values:[priceMin,priceMax],slide:function(event,ui){$("#price-slide-left").val(symbol+ui.values[0]);$("#price-slide-right").val(symbol+ui.values[1]);$.cookie("priceLftCkValue",ui.values[0]);$.cookie("priceRgtCkValue",ui.values[1]);},change:function(e,ui){if(e.originalEvent){$("#lnr-catalog-search").data("lnrcatalogsearch").searchAction(this);}}});$("#price-slide-left").val(symbol+$("#price-slider-range").slider("values",0));$("#price-slide-right").val(symbol+$("#price-slider-range").slider("values",1));var priceLft="";var priceRgt="";priceLft=$.cookie("priceLftCkValue");priceRgt=$.cookie("priceRgtCkValue");
priceLft=(priceLft==""||priceLft==null)?"":priceLft.replace("","");priceRgt=(priceRgt==""||priceRgt==null)?"":priceRgt.replace("","");priceLft=priceLft==""?priceMin:priceLft;priceRgt=priceRgt==""?priceMax:priceRgt;$("#price-slider-range").slider({values:[priceLft,priceRgt]});$("#price-slide-left").val(symbol+priceLft);$("#price-slide-right").val(symbol+priceRgt);$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("lnr-catalog-search");$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("searchRecordsPaint");}}catch(e){}},clearPriceSlider:function(searchAction){try{if(typeof searchAction=="undefined"){var searchAction=true;}obj=this;var priceMin=$("div#price-slider-range").slider("option","min");var priceMax=$("div#price-slider-range").slider("option","max");$.cookie("priceLftCkValue","");$.cookie("priceRgtCkValue","");$("div#price-slider-range").slider("destroy");obj.priceSlider(priceMin,priceMax);if(searchAction){obj.searchAction("clearprice");}}catch(e){}},locationEnterKey:function(){try{obj=this;
$("#srch_criteria_location").keyup(function(event){if(event.keyCode==13){obj.searchAction("location");}});}catch(e){}},paintLocationAutocomplete:function(){try{$("#srch_criteria_location").autocomplete("/?q=learning/location-autocomplete",{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading"});}catch(e){}},paintAutocomplete:function(inputId,ValuesEnabled){try{$("#"+inputId).autocomplete(ValuesEnabled,{minLength:2});$("#"+inputId).focus(function(event){try{if($(this).val()==Drupal.t("LBL304")){$(this).css({color:"#474747","font-size":"12px"}).val("");}}catch(e){}}).blur(function(event){try{if($(this).val()==""){$(this).css({color:"#999999","font-size":"12px"}).val(Drupal.t("LBL304"));}if($(this).val()!=Drupal.t("LBL304")){$(this).css({color:"#333333","font-size":"12px"});}}catch(e){}});}catch(e){}},searchActionCheck:function(){try{var req=window.location.search;req=req.substring(3,req.length);var reqArr=req.split("/");var searchStr="";
if(this.currTheme=="expertusoneV2"){var passSearchValue=Drupal.t("LBL304");}else{var passSearchValue=Drupal.t("LBL304").toUpperCase();}if(reqArr.length>2){searchStr=(reqArr[2]!=null&&reqArr[2]!=undefined&&reqArr[2]!="undefined")?reqArr[2]:"";reqTitleSearch=searchStr.split("|");if(reqTitleSearch!=""&&reqTitleSearch!=null&&reqTitleSearch!=undefined&&reqTitleSearch!="undefined"){if(reqTitleSearch.length==1){reqTitleSearch=searchStr.split("%7C");}passSearchTitle=reqTitleSearch[0];passSearchValue=reqTitleSearch[1];}}passSearchValue=passSearchValue.replace("@@","/");var searchTerm=$("#search_searchtext").val(unescape(passSearchValue)).val();if((searchTerm.toLowerCase())!=(Drupal.t("LBL304").toLowerCase())){$("#search_searchtext").css({color:"#333333","font-size":"13px"});}if((passSearchValue.toLowerCase())==(Drupal.t("LBL304").toLowerCase())){return"";}else{return unescape(passSearchValue);}}catch(e){}},hightlightedText:function(event,ID,textType){try{var crrTheme=Drupal.settings.ajaxPageState.theme;
var fontStyle=(crrTheme=="expertusoneV2")?"normal":"italic";if(event.type=="blur"){if($("#"+ID).val()!=textType){$("#"+ID).css("color","#333333").css("fontSize","11px").css("fontStyle","normal");}if($("#"+ID).val()==""){$("#"+ID).val(textType).css("color","#999999").css("fontSize","10px").css("fontStyle",fontStyle);}}else{if(event.type=="focus"){if($("#"+ID).val()!=textType){$("#"+ID).css("color","#333333").css("fontSize","11px").css("fontStyle","normal");}if($("#"+ID).val()==textType){$("#"+ID).val("").css("color","#333333").css("fontSize","11px").css("fontStyle",fontStyle);}}else{if(event.type=="change"){if($("#"+ID).val()!=textType){$("#"+ID).css("color","#333333").css("fontSize","11px").css("fontStyle","normal");}if($("#"+ID).val()==""){$("#"+ID).val(textType).css("color","#999999").css("fontSize","11px").css("fontStyle",fontStyle);}}}}}catch(e){}},dateValidationCheck:function(){try{var v1=$("#ad_startdate1").val();var v2=$("#ad_startdate2").val();if($("#ad_startdate1").val()=="Start: mm-dd-yyyy"){v1="";
}if($("#ad_startdate2").val()=="End: mm-dd-yyyy"){v2="";}var v1Split=v1.split("-");var v2Split=v2.split("-");var date1=v1Split[2]+"-"+v1Split[0]+"-"+v1Split[1];var date2=v2Split[2]+"-"+v2Split[0]+"-"+v2Split[1];var d1=new Date(date1);var d2=new Date(date2);var currentTime=new Date();var month=currentTime.getMonth()+1;var day=currentTime.getDate();var year=currentTime.getFullYear();var date3=year+"-"+month+"-"+day;var today=new Date(date3);var end_date_less_diff=d2-d1;var start_date_less_currdate=d1-today;var end_date_less_currdate=d2-today;$("#date-validate-newid").remove();if((v1!="")&&(v2!="")){if(start_date_less_currdate<0){newDiv=document.createElement("div");newDiv.id="date-validate-newid";$(newDiv).css({color:"red",display:"none","float":"left","font-size":"11px"});$(newDiv).html(SMARTPORTAL.t("Start date cannot be before current date."));$(".catalog-date-format").before(newDiv);$("#date-validate-newid").show();}else{if(end_date_less_diff<0){newDiv=document.createElement("div");newDiv.id="date-validate-newid";
$(newDiv).css({color:"red",display:"none","float":"left","font-size":"11px"});$(newDiv).html(SMARTPORTAL.t("End date cannot be less than the Start date."));$(".catalog-date-format").before(newDiv);$("#date-validate-newid").show();}else{this.searchAction("date");}}}else{if((v1!="")&&(v2=="")){if(start_date_less_currdate<0){newDiv=document.createElement("div");newDiv.id="date-validate-newid";$(newDiv).css({color:"red",display:"none","float":"left","font-size":"11px"});$(newDiv).html(SMARTPORTAL.t("Start date cannot be before current date."));$(".catalog-date-format").before(newDiv);$("#date-validate-newid").show();}else{this.searchAction("date");}}else{if((v2!="")&&(v1=="")){if(end_date_less_currdate<0){newDiv=document.createElement("div");newDiv.id="date-validate-newid";$(newDiv).css({color:"red",display:"none","float":"left","font-size":"11px"});$(newDiv).html(SMARTPORTAL.t("End date cannot be before current date."));$(".catalog-date-format").before(newDiv);$("#date-validate-newid").show();
}else{this.searchAction("date");}}else{this.searchAction("date");}}}}catch(e){}},customRangeDate:function(input){try{var dateMin=null;var dateMax=null;if(input.id=="ad_startdate1"&&$("#ad_startdate2").datepicker("getDate")!=null){dateMin=new Date();dateMax=$("#ad_startdate2").datepicker("getDate");dateMax.setDate(dateMin.getDate()+20000);}else{if(input.id=="ad_startdate2"){dateMax=new Date();if($("#ad_startdate1").datepicker("getDate")!=null){dateMin=$("#ad_startdate1").datepicker("getDate");dateMax=$("#ad_startdate1").datepicker("getDate");dateMax.setDate(dateMax.getDate()+20000);}}}return{minDate:dateMin,maxDate:dateMax};}catch(e){}},displayTagTip:function(elementid,messagecontent){try{$(".qtip-contentWrapper").css("border","0px none");if(!document.getElementById("tooltip"+elementid)){$("#"+elementid).qtip({content:'<div id="tooltip'+elementid+'" class="tooltiptop"></div><div class="tooltipmid"><div style="width:220px;">'+messagecontent+'</div></div><div class="tooltipbottom"></div>',show:{when:{event:"mouseover"},effect:"slide"},hide:{when:{event:"mouseout"},effect:"slide"},position:{adjust:{x:-75,y:0}},style:{width:325,background:"none","font-size":12,color:"#333333"}});
}}catch(e){}},paintAfterReady:function(){try{var dates=$("#ad_startdate1").datepicker({duration:"",showTime:false,constrainInput:false,stepMinutes:5,stepHours:1,time24h:true,dateFormat:"mm-dd-yy",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true,firstDay:0,showOn:"both",buttonText:Drupal.t("LBL675"),showButtonPanel:true,changeMonth:true,changeYear:true,beforeShow:$("#lnr-catalog-search").data("lnrcatalogsearch").customRangeDate});var dates=$("#ad_startdate2").datepicker({duration:"",showTime:false,constrainInput:false,stepMinutes:5,stepHours:1,time24h:true,dateFormat:"mm-dd-yy",buttonImage:themepath+"/expertusone-internals/images/calendar_icon.JPG",buttonImageOnly:true,firstDay:0,showOn:"both",buttonText:Drupal.t("LBL676"),showButtonPanel:true,changeMonth:true,changeYear:true,beforeShow:$("#lnr-catalog-search").data("lnrcatalogsearch").customRangeDate});if(document.getElementById("lnr-catalog-search")){$("#first_pager").click(function(e){if(!$("#first_pager").hasClass("ui-state-disabled")){$("#paintContentResults").hide();
$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});$("#prev_pager").click(function(e){if(!$("#prev_pager").hasClass("ui-state-disabled")){$("#paintContentResults").hide();$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});$("#next_pager").click(function(e){if(!$("#next_pager").hasClass("ui-state-disabled")){$("#paintContentResults").hide();$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});$("#last_pager").click(function(e){if(!$("#last_pager").hasClass("ui-state-disabled")){$("#paintContentResults").hide();$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});$(".ui-pg-selbox").bind("change",function(){$("#paintContentResults").hide();
$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").hidePageControls(false);$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");});$(".ui-pg-input").keyup(function(event){if(event.keyCode==13){$("#paintContentResults").hide();$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});if(this.currTheme=="expertusoneV2"){$(".page-show-prev").bind("click",function(){if(parseInt($("#pg_pager .page_count_view").attr("id"))<0){$("#pg_pager .page_count_view").attr("id","0");}else{$("#paintContentResults").hide();$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").hidePageControls(false);$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});$(".page-show-next").bind("click",function(){if(parseInt($("#pg_pager .page_count_view").attr("id"))>=parseInt($("#pg_pager .page-total-view").attr("id"))){$("#pg_pager .page_count_view").attr("id",($("#pg_pager .page_count_view").attr("id")-1));
}else{$("#paintContentResults").hide();$("#gview_paintContentResults").css("min-height","100px");$("#lnr-catalog-search").data("lnrcatalogsearch").hidePageControls(false);$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");}});}}}catch(e){}},showSelectClass:function(userId,courseId){try{this.currTheme=Drupal.settings.ajaxPageState.theme;var chgClassWidth=688;if(this.currTheme=="expertusoneV2"){chgClassWidth=750;}$("#lnr-catalog-search").data("lnrcatalogsearch").defaults.catStart=true;this.renderSelectClassPopup(userId);$("#paintCatalogContentResults"+userId).css("min-height","auto").css("overflow","visible");this.createLoader("paintCatalogContentResults"+userId);$("#loaderdivpaintCatalogContentResults"+userId).css("height","250px");var nAgt=navigator.userAgent;var verOffset;var DetailsW=465;var actionW=85;if((verOffset=nAgt.indexOf("Chrome"))!=-1){DetailsW=420;actionW=100;}var obj=this;var objStr='$("#lnr-catalog-search").data("lnrcatalogsearch")';if(Drupal.settings.widget.widgetCallback==true){$("#tbl-paintCatalogContentResults").jqGrid({url:this.constructUrl("learning/courselevel-search/catalog/"+userId+"/"+courseId),datatype:"json",mtype:"GET",colNames:["Icons","Details","Action"],colModel:[{name:"Icons",index:"Icons",title:false,widgetObj:objStr,formatter:obj.paintSelectClsSearchIcons},{name:"Details",index:"Details",title:false,widgetObj:objStr,formatter:obj.paintSelectClsSearchResults},{name:"Action",index:"Action",title:false,widgetObj:objStr,formatter:obj.paintSelectClsSearchResultsAction}],rowNum:5,rowList:[5,10,15],pager:"#pager1",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:false,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:obj.callbackCatalogSelectClassLoader,gridComplete:obj.callbackGridSelectClassComplete}).navGrid("#pager1",{add:false,edit:false,del:false,search:false,refreshtitle:true});
}else{$("#tbl-paintCatalogContentResults").jqGrid({url:this.constructUrl("learning/courselevel-search/catalog/"+userId+"/"+courseId),datatype:"json",mtype:"GET",colNames:["Icons","Details","Action"],colModel:[{name:"Icons",index:"Icons",title:false,width:55,widgetObj:objStr,formatter:obj.paintSelectClsSearchIcons},{name:"Details",index:"Details",title:false,width:DetailsW,widgetObj:objStr,formatter:obj.paintSelectClsSearchResults},{name:"Action",index:"Action",title:false,width:actionW,widgetObj:objStr,formatter:obj.paintSelectClsSearchResultsAction}],rowNum:5,rowList:[5,10,15],pager:"#pager1",viewrecords:true,emptyrecords:"",sortorder:"desc",toppager:false,height:"auto",width:chgClassWidth,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadui:false,loadComplete:obj.callbackCatalogSelectClassLoader,gridComplete:obj.callbackGridSelectClassComplete}).navGrid("#pager1",{add:false,edit:false,del:false,search:false,refreshtitle:true});}$("#shareoption #bubble-face-table").hide();
$("#shareoption .qtip-popup-visible").hide();$("#multishareoption #bubble-face-table").hide();$("#multishareoption .bottom-qtip-tip-up-visible").hide();this.paintCatalogSelectClassAfterReady(userId);}catch(e){}},paintSelectClsSearchIcons:function(cellvalue,options,rowObject){try{return rowObject.image;}catch(e){}},paintSelectClsSearchResults:function(cellvalue,options,rowObject){try{return rowObject.details;}catch(e){}},paintSelectClsSearchResultsAction:function(cellvalue,options,rowObject){try{return rowObject.action;}catch(e){}},renderSelectClassPopup:function(id){try{var obj=this;this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){var chgclassqtipWidth=750;}else{var chgclassqtipWidth=712;}if(Drupal.settings.widget.widgetCallback==true){var iwidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0);chgclassqtipWidth=iwidth-40;}var html="<div id='paintCatalogContentResults"+id+"'></div>";$("#paintCatalogContentResults"+id).remove();$("body").append(html);
var nHtml="<div id='show_expertus_message'></div><div id='paintCatalogHeader'></div><div id='catalog-no-records' style='display: none'></div><table id='tbl-paintCatalogContentResults'></table><div id='paintCatalogFooter'><div id='pager1' style='display:none;'></div></div>";$("#paintCatalogContentResults"+id).html(nHtml);var closeButt={};$("#paintCatalogContentResults"+id).dialog({autoResize:true,position:[(getWindowWidth()-chgclassqtipWidth)/2,100],bgiframe:true,width:chgclassqtipWidth,resizable:false,draggable:false,closeOnEscape:false,modal:true,title:SMARTPORTAL.t('<span class="myteam-header-text">'+Drupal.t("LBL716")+'</span><div id="search-cat-keyword"></div>'),buttons:closeButt,close:function(){$("#paintCatalogContentResults"+id).remove();$("#select-class-dialog").remove();if($(".location-session-detail-clone").size()>0){$(".location-session-detail-clone").remove();}},overlay:{opacity:0.5,background:"#000000"},open:function(){if((typeof(Drupal.settings.widget.widgetCallback)=="undefined"&&Drupal.settings.widget.widgetCallback==null)||Drupal.settings.widget.widgetCallback==false){$(".ui-widget-overlay").eq(-1).css("width",getWindowWidth()-1+"px");
}}});$(".ui-dialog").wrap("<div id='select-class-dialog'></div>");$("#paintCatalogContentResults"+id).css("position","");this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){$("#select-class-dialog").find(".ui-dialog-content").addClass("assign-learning-team");$("#select-class-dialog").find(".ui-dialog").css("overflow","visible");changeDialogPopUI();$("#select-class-dialog").next(".ui-widget-overlay").css("display","block");}}catch(e){}},callbackCatalogSelectClassLoader:function(response,postdata,formid){try{$("#tbl-paintCatalogContentResults").show();$("#select-class-dialog").find("#tbl-paintCatalogContentResults > tbody > tr > td:first-child").addClass("assign-learn-first-row");$("#select-class-dialog").find("#tbl-paintCatalogContentResults > tbody > tr > td:nth-child(2)").addClass("assign-learn-second-row");$("#select-class-dialog").find("#tbl-paintCatalogContentResults > tbody > tr > td:last-child").addClass("assign-learn-last-row");var recs=parseInt($("#tbl-paintCatalogContentResults").getGridParam("records"),10);
if(recs==0){$("#catalog-no-records").css("display","block");var html=Drupal.t("MSG381")+".";$("#catalog-no-records").html(html);}else{$("#catalog-no-records").css("display","none");$("#catalog-no-records").html("");}var obj=$("#lnr-catalog-search").data("lnrcatalogsearch");var reccount=parseInt($("#tbl-paintCatalogContentResults").getGridParam("reccount"),10);var hideAllPageControls=true;if(recs>reccount){hideAllPageControls=false;$("#select-class-dialog .popupBotLeftCorner").hide();}if(recs<=reccount){obj.hideCatalogSelectClassPageControls(hideAllPageControls);$("#select-class-dialog .popupBotLeftCorner").show();}else{obj.showCatalogSelectClassPageControls();$("#select-class-dialog .popupBotLeftCorner").hide();}if($("#lnr-catalog-search").data("lnrcatalogsearch").defaults.catStart){$("#paintCatalogHeader").html(response.header);$("#myteam-find-trng-sort-display").show();$("#lnr-catalog-search").data("lnrcatalogsearch").defaults.catStart=false;}var curHeight=parseInt($(".ui-dialog").eq(-1).css("height"))+parseInt($(".ui-dialog").eq(-1).css("top"));
var curOlay=parseInt($(".ui-widget-overlay").eq(-1).css("height"));if(curOlay<curHeight){$(".ui-widget-overlay").eq(-1).css("height",(curHeight+50)+"px");}if(Drupal.settings.widget.widgetCallback==true){if(Drupal.settings.ajaxPageState.theme!="expertusoneV2"){var leftval=$("#select-class-dialog .ui-dialog").offset().left;$("#select-class-dialog .ui-dialog").css("left",Math.floor(leftval/2)+"px");}}$("#tbl-paintCatalogContentResults tr.ui-widget-content:last td").css("border","0px none");$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("paintCatalogContentResults"+response.userId);if(document.getElementById("launch-content-container")){var dataObj=$("#tbl-paintCatalogContentResults").jqGrid("getGridParam","postData");if(dataObj.enrollmentId!=""&&dataObj.enrollmentId!=undefined){$("#launch"+dataObj.enrollmentId).click();}}vtip();resetFadeOutByClass("#tbl-paintCatalogContentResults","find-training-list-course","line-item-container","catalog");$(".limit-title").trunk8(trunk8.catalogclsmul_title);
$(".limit-desc").trunk8(trunk8.catalogclsmul_desc);scrollBar_Refresh("catalog");}catch(e){}},callbackGridSelectClassComplete:function(response,postdata,formid){try{$(".limit-title").trunk8(trunk8.catalogclsmul_title);$(".limit-desc").trunk8(trunk8.catalogclsmul_desc);scrollBar_Refresh("catalog");}catch(e){}},hideCatalogSelectClassPageControls:function(hideAll){try{var lastDataRow=$("#tbl-paintCatalogContentResults tr.ui-widget-content").filter(":last");if(hideAll){$("#pager-lp").hide();$("#pager1").hide();if(lastDataRow.length!=0){lastDataRow.children("td").css("border","0 none");}}else{$("#pager1").show();$("#pager1 #pager1_center #first_pager1").hide();$("#pager1 #pager1_center #last_pager1").hide();$("#pager1 #pager1_center #next_pager1").hide();$("#pager1 #pager1_center #prev_pager1").hide();$("#pager1 #pager1_center #sp_1_pager1").parent().hide();}}catch(e){}},showCatalogSelectClassPageControls:function(){try{$("#pager1").show();$("#pager1 #pager1_center #first_pager1").show();$("#pager1 #pager1_center #last_pager1").show();
$("#pager1 #pager1_center #next_pager1").show();$("#pager1 #pager1_center #prev_pager1").show();$("#pager1 #pager1_center #sp_1_pager1").parent().show();}catch(e){}},paintCatalogSelectClassAfterReady:function(userId){try{if(document.getElementById("select-class-dialog")!=null){$("#first_pager1").click(function(e){if(!$("#first_pager1").hasClass("ui-state-disabled")){$("#tbl-paintCatalogContentResults").hide();$("#loaderdivpaintCatalogContentResults"+userId).css("min-height","250px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+userId);}});$("#prev_pager1").click(function(e){if(!$("#prev_pager1").hasClass("ui-state-disabled")){$("#tbl-paintCatalogContentResults").hide();$("#loaderdivpaintCatalogContentResults"+userId).css("min-height","250px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+userId);}});$("#next_pager1").click(function(e){if(!$("#next_pager1").hasClass("ui-state-disabled")){$("#tbl-paintCatalogContentResults").hide();
$("#loaderdivpaintCatalogContentResults"+userId).css("min-height","250px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+userId);}});$("#last_pager1").click(function(e){if(!$("#last_pager1").hasClass("ui-state-disabled")){$("#tbl-paintCatalogContentResults").hide();$("#loaderdivpaintCatalogContentResults"+userId).css("min-height","250px");$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+userId);}});$("#pager1 .ui-pg-selbox").bind("change",function(){$("#tbl-paintCatalogContentResults").hide();$("#loaderdivpaintCatalogContentResults"+userId).css("min-height","250px");$("#lnr-catalog-search").data("lnrcatalogsearch").hideCatalogSelectClassPageControls(false);$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+userId);});$("#pager1 .ui-pg-input").keyup(function(event){if(event.keyCode==13){$("#tbl-paintCatalogContentResults").hide();$("#loaderdivpaintCatalogContentResults"+userId).css("min-height","250px");
$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+userId);}});}}catch(e){}},paintCatSltClskeywordAutocomplete:function(userId,courseId){try{var obj=this;var delType=$("#myteam-cat-delivery-type-hidden").val();url=obj.constructUrl("learning/select-class/catalog-autocomplete/"+delType+"/"+userId+"/"+courseId+"/");$("#srch_criteria_catkeyword").autocomplete(url,{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading"});}catch(e){}},deliverySelectClsHideShow:function(){try{$("#myteam-cat-delivery-type-list").slideToggle();$("#myteam-cat-delivery-type-list li:last").css("border-bottom","0px none");}catch(e){}},deliveryTypeSelectClsText:function(dCode,dText,userId,courseId){try{$("#myteam-cat-delivery-type-list").hide();$("#myteam-cat-delivery-type").text(dText);$("#myteam-cat-delivery-type-hidden").val(dCode);$("#lnr-catalog-search").data("lnrcatalogsearch").paintCatSltClskeywordAutocomplete(userId,courseId);
}catch(e){}},highlightedSelectClassText:function(ID,textType){try{$("#"+ID).blur(function(){if($("#"+ID).val()!=textType){$(this).css("color","#333333").css("fontSize","13px").css("fontStyle","normal");}if($("#"+ID).val()==""){$(this).val(textType).css("color","#999999").css("fontSize","12px").css("fontStyle","normal");}});$("#"+ID).focus(function(){if($("#"+ID).val()!=textType){$(this).css("color","#333333").css("fontSize","13px").css("fontStyle","normal");}if($("#"+ID).val()==textType){$(this).val("").css("color","#333333").css("fontSize","11px").css("fontStyle","normal");}});$("#"+ID).change(function(){if($("#"+ID).val()!=textType){$(this).css("color","#333333").css("fontSize","13px").css("fontStyle","normal");}if($("#"+ID).val()==""){$(this).val(textType).css("color","#999999").css("fontSize","12px").css("fontStyle","normal");}});}catch(e){}},catkeywordSelectClassEnterKey:function(userId,courseId){try{obj=this;$("#srch_criteria_catkeyword").keyup(function(event){if(event.keyCode==13){obj.catalogSearchSelectClassAction("","",userId,courseId);
}});}catch(e){}},catalogSearchSelectClassAction:function(sortbytxt,className,userId,courseId){try{var searchStr="";var title=$("#srch_criteria_catkeyword").val();if(title==Drupal.t("LBL545")){title="";}else{$("#cat-title-clr").css("display","block");}var dl_type=$("#myteam-cat-delivery-type-hidden").val();if(dl_type==Drupal.t("LBL428")){dl_type="";}else{$("#cat-title-clr").css("display","block");}var sortby=sortbytxt;if(title==undefined){title="";}searchStr="&title="+encodeURIComponent(title)+"&dl_type="+encodeURIComponent(dl_type)+"&sortby="+sortby;this.searchStrValue=searchStr;$("#lnr-catalog-search").data("lnrcatalogsearch").hideCatalogSelectClassPageControls(true);$("#tbl-paintCatalogContentResults").hide();this.createLoader("paintCatalogContentResults"+userId);$("#loaderdivpaintCatalogContentResults"+userId).css("height","250px");$("#tbl-paintCatalogContentResults").setGridParam({url:this.constructUrl("learning/courselevel-search/catalog/"+userId+"/"+courseId+"/"+searchStr)});$("#tbl-paintCatalogContentResults").trigger("reloadGrid",[{page:1}]);
$("."+className).parents("li").siblings().find("a").removeClass("sortype-high-lighter");if(className!=""){$("."+className).addClass("sortype-high-lighter");}else{$("#paintCatalogHeader .catalog-type1").addClass("sortype-high-lighter");}}catch(e){}},underlineTagAndTriggerSearch:function(tagName,currElem){try{$(".tagscloud-tag").css("text-decoration","");$(".hovertag").css("text-decoration","");$(currElem).css("text-decoration","underline");$("#srch_criteria_tag").val(tagName);this.searchAction("cloud-tag");}catch(e){}},underlineTagCloudAndTriggerSearch:function(tagName,currElem,tagWeight){try{$(".tagscloud-tag").css("text-decoration","");$(".hovertag").css("text-decoration","");$(currElem).css("text-decoration","underline");$("#srch_criteria_tag").val(tagName);this.searchAction("cloud-tag");var tagpos=$.inArray($(currElem).html(),existtagArr,0);if(tagpos==-1){$tagText=$(currElem).html();existtagArr.unshift($tagText);existtagArr.pop();$("#tagcloudcontainerid").find("span:last-child").remove();
$(currElem).html(descController("FADE OUT",$tagText,weightArr[tagWeight-1]));var selectedTag=$(currElem).parent().html();$("#tagcloudcontainerid").prepend('<span class="tagscloud-term">'+selectedTag+"</span>");$(currElem).html($tagText);}else{if(tagpos>=0){$tagText=$(currElem).html();$("#tagcloudcontainerid").find("span:nth-child("+(tagpos+1)+")").remove();if(tagpos>-1){existtagArr.splice(tagpos,1);}existtagArr.unshift($tagText);$(currElem).html(descController("FADE OUT",$tagText,weightArr[tagWeight-1]));var selectedTag=$(currElem).parent().html();$("#tagcloudcontainerid").prepend('<span class="tagscloud-term">'+selectedTag+"</span>");$(currElem).html($tagText);}}}catch(e){}},truncateTitleDescription:function(trunk8options){try{if(trunk8options===undefined){var trunk8options=[];trunk8options.push({selector:".content-title .limit-title",lines:trunk8.embedwidget_title});trunk8options.push({selector:".content-description .limit-desc",lines:trunk8.embedwidget_desc});$(trunk8options).each(function(){$(this.selector).trunk8("revert");
$(this.selector).trunk8();});}else{$(trunk8options).each(function(){$(this.selector).trunk8(this.lines);});}}catch(e){}},pinUnpinFilterCriteria:function(options,type){try{var _this=this;$("#paintContent").toggleClass("catalog-extended");_this.showHideFilterCriteria(!$("#paintContent").hasClass("catalog-extended"));$("#page-container .searchcriteria-div").toggleClass("searchcriteria-div-unpinned");$("#paintContentResults").jqGrid("setGridWidth",($("#paintContent").width()-2));_this.truncateTitleDescription();var userId=_this.getLearnerId();var refineHidden=$("#paintContent").hasClass("catalog-extended");if(type!="toggle"){$.ajax({type:"POST",url:_this.constructUrl("learning/save-preference/1"),data:{catalog_refine:(refineHidden?1:0)},success:function(result){if(userId==0){Drupal.settings.user_preferences.catalog_refine=refineHidden?1:0;}else{Drupal.settings.user_preferences=result;}}});}$("#paintContentResults .content-detail-code").find(".fadeout-applied").removeClass("fadeout-applied");
setTimeout(function(){resetFadeOutByClass("#paintContentResults","content-detail-code","line-item-container","catalog");},100);}catch(e){}},showHideFilterCriteria:function(show,toggleCompleteHandler){try{if(show==true){$("#page-container .searchcriteria-div").addClass("active");}else{if(show==false){$("#page-container .searchcriteria-div").removeClass("active");}else{$("#page-container .searchcriteria-div").toggleClass("active");}}$("#paintCriteriaResults").find(".fade-out-title-container:not(.title-processed)").each(function(){if($(this).width()>=$(this).find(".title-lengthy-text").width()&&$(this).find(".title-lengthy-text").width()!=0){$(this).find(".fade-out-image").remove();}}).addClass("title-processed");}catch(e){}},collapseFilters:function(cookieName,count){try{var obj=this;if(cookieName!==undefined&&$.cookie(cookieName)!==undefined&&$.cookie(cookieName)!==null){var filters=JSON.parse($.cookie("filters-state"));for(var handlerId in filters){if(filters[handlerId]){$("#"+handlerId).removeClass("cls-hide").addClass("cls-show").parents(".find-list-items").siblings(".catalog-criteria-filter-set").show();
}else{$("#"+handlerId).removeClass("cls-show").addClass("cls-hide").parents(".find-list-items").siblings(".catalog-criteria-filter-set").hide();}}}else{(count===undefined)&&(count=-5);$("#paintCriteriaResults").find(".catalog-criteria-filter-set").slice(count).each(function(){var handlerId=$(this).siblings().find(".cls-show").attr("id");var targetId=$(this).attr("id");obj.showHide(handlerId,targetId,true);});}}catch(e){}},parseParams:function(paramString){try{var result={};paramString.split("&").forEach(function(part){var item=part.split("=");result[item[0]]=decodeURIComponent(item[1]);});return result;}catch(e){}},addFilters:function(filters){try{var filtersList=[];if($.isArray(filters)){filtersList=filters;}else{filtersList.push(filters);}var filterLength=0;$(filtersList).each(function(index,filterId){var selector='[data-filter-id="'+filterId+'"]';var filter=$(selector);var filterId=filter.data("filter-id");var filterName=filter.data("filter-name");var displayName=filter.data("filter-label");
var menustr='<span class="cls-filtermenu-wrapper"><span class="cls-filtermenu">';var showFilter=false;if(filter.is(":checkbox")){if(filter.is(":checked")){var delAction='<label data-filter-tag-name="'+filterName+'" class="enable-delete-icon" id="filter-delete-handler-'+filterId+'" for="'+filterId+'"></label>';if(filterName=="rating"){displayName='<span class="lrn_srch_rating">'+filter.parent().siblings("span.lrn_srch_rating").html()+"</span>";}menustr+=displayName;showFilter=true;filterLength++;}}else{if(filterName=="price-slider"){var Lprice=$("#price-slide-left").val();if(Lprice!=undefined&&Lprice!="undefined"){Lprice=encodeURIComponent(Lprice.charAt(0))+Lprice.substring(1);}var Rprice=$("#price-slide-right").val();if(Rprice!=undefined&&Rprice!="undefined"){Rprice=encodeURIComponent(Rprice.charAt(0))+Rprice.substring(1);}var price=$.trim(Lprice+"-"+Rprice);price=price.replace(/ /g,"");if(price=="undefined-undefined"||price==undefined-undefined||price=="-"){price="";}var displayName=decodeURIComponent(price.replace(/-/g," - "));
var delAction='<label data-filter-tag-name="'+filterName+'" class="enable-delete-icon" id="filter-delete-handler-'+filterId+"\"  onclick=\"$('#lnr-catalog-search').data('lnrcatalogsearch').clearPriceSlider();\"></label>";menustr+=displayName;if(($("#price-slider-range").slider("option","min")!=$("#price-slider-range").slider("option","values")[0])||($("#price-slider-range").slider("option","max")!=$("#price-slider-range").slider("option","values")[1])){showFilter=true;filterLength++;}else{var symbol=Drupal.settings.user_prefference.currency_sym;var minPrice=replaceAll(symbol,"",$("#price-slide-left").val());var maxPrice=replaceAll(symbol,"",$("#price-slide-right").val());minPrice=parseInt(minPrice.replace(/[^\d]/g,""));maxPrice=parseInt(maxPrice.replace(/[^\d]/g,""));if(($("#price-slider-range").slider("option","min")!=minPrice)||($("#price-slider-range").slider("option","max")!=maxPrice)){showFilter=true;filterLength++;}}}else{if(filterName=="date-range"){var startdate=$("#ad_startdate1").val();
var enddate=$("#ad_startdate2").val();if(startdate==Drupal.t("LBL251")+":"+Drupal.t("LBL112")){startdate="";}if(enddate==Drupal.t("LBL113")){enddate="";}if(startdate!=""&&enddate!=""){var displayName=startdate+"<span class='lower-case'> "+Drupal.t("LBL621")+" </span>"+enddate;showFilter=true;filterLength++;}else{if(startdate!=""||enddate!=""){var displayName=(startdate!=""?startdate:enddate);showFilter=true;filterLength++;}}var delAction='<label data-filter-tag-name="'+filterName+'" class="enable-delete-icon" id="filter-delete-handler-'+filterId+"\"  onclick=\"$('#lnr-catalog-search').data('lnrcatalogsearch').clearField('Date');\"></label>";menustr+=displayName;}else{if(filterName=="cloud-tag"){var delAction='<label data-filter-tag-name="'+filterName+'" class="enable-delete-icon" id="filter-delete-handler-'+filterId+"\"  onclick=\"$('#lnr-catalog-search').data('lnrcatalogsearch').clearField('Tag');\"></label>";menustr+=decodeURIComponent($("#srch_criteria_tag").val());if($("#srch_criteria_tag").length>0&&$("#srch_criteria_tag").val()!=""){showFilter=true;
filterLength++;}}else{if(filterName=="location"){var delAction='<label data-filter-tag-name="'+filterName+'" class="enable-delete-icon" id="filter-delete-handler-'+filterId+"\"  onclick=\"$('#lnr-catalog-search').data('lnrcatalogsearch').clearField('Location');\"></label>";menustr+=decodeURIComponent($("#srch_criteria_location").val());if($.trim($("#srch_criteria_location").val())!=Drupal.t("LBL1321")){showFilter=true;filterLength++;}}else{if(filterName=="top-search"){var delAction='<label data-filter-tag-name="'+filterName+'" class="enable-delete-icon" id="filter-delete-handler-'+filterId+"\"  onclick=\"$('#search_searchtext').val('');$('#lnr-catalog-search').data('lnrcatalogsearch').searchAction('top-search');\"></label>";menustr+=$("#search_searchtext").val();if($("#search_searchtext").val().toLowerCase()!=Drupal.t("LBL304").toLowerCase()){showFilter=true;filterLength++;}}}}}}}menustr+="</span></span>"+delAction;if($("#paintContent .catalog-applied-filters").length==0&&filterLength!=0){$('<div class="catalog-applied-filters-wrapper"><div id="catalog-applied-filter-grid" class="catalog-applied-filters"></div></div>').insertBefore("#paintContent #no-records");
}if(filterName!=undefined&&displayName!=undefined&&showFilter){$("#paintContent #catalog-applied-filter-grid").append("<div class='checkedmenu' id='filter-"+filterId+"'>"+menustr+"</div>");}});$(".checkedmenu").each(function(){try{if($(this).find(".cls-filtermenu-wrapper").width()<$(this).find(".cls-filtermenu").width()){$(this).find(".cls-filtermenu-wrapper").append('<span class="cls-filtermenu-fade"></span>');}var displayName=$(this).find(".cls-filtermenu").contents().get(0).nodeValue;if(displayName!=null&&displayName!=""){$(this).find(".cls-filtermenu-wrapper").attr("title",displayName).addClass("vtip");}}catch(e){}});vtip(".checkedmenu");if($("#catalog-applied-filter-grid").find(".cls-filter-clear").length==0&&$("#paintContent #catalog-applied-filter-grid").find(".checkedmenu").length>0){var clearAllStr=Drupal.t("clear all");$("<a class=\"cls-filter-clear\" onclick=\"$('#lnr-catalog-search').data('lnrcatalogsearch').clearAllSearch();\">"+clearAllStr+"</a>").appendTo("#catalog-applied-filter-grid");
}else{$("#catalog-applied-filter-grid .cls-filter-clear").appendTo("#catalog-applied-filter-grid");}}catch(e){}},removeFilters:function(filters,filterCounter){try{var filtersList=[];if($.isArray(filters)){filtersList=filters;}else{filtersList.push(filters);}$(filtersList).each(function(index,filterId){$("#filter-"+filterId).remove();});if($("#catalog-applied-filter-grid").find(".checkedmenu").length==0){$("#catalog-applied-filter-grid").find(".cls-filter-clear").remove();$(".catalog-applied-filters-wrapper").remove();}}catch(e){}},getGetJSONCookie:function(cookieName,value){try{if(value!==undefined){value=value.filter(function(item,i,ar){return ar.indexOf(item)===i;});Drupal.settings.catalog_variables[cookieName]=value;}else{var cookie=[];if(typeof Drupal.settings.catalog_variables[cookieName]!="undefined"&&Drupal.settings.catalog_variables[cookieName]!=null){cookie=(Drupal.settings.catalog_variables[cookieName]);}return cookie;}}catch(e){}},clearAllSearch:function(triggerSearch){try{var obj=this;
$(".ot-others, .mro-others, .dt-others, .lang-others, .jobrole-others, .country-others, .rating-others").each(function(){$(this).attr("checked",false);$(this).parent().removeClass("checkbox-selected").addClass("checkbox-unselected");});obj.clearPriceSlider(false);obj.clearField("Date",false);obj.clearField("Location",false);obj.clearField("Tag",false);$("#search_searchtext").css({color:"#999999","font-size":"12px"}).val(Drupal.t("LBL304"));if(triggerSearch===undefined||triggerSearch!=false){obj.searchAction("clearAll");}}catch(e){}},refreshLastAccessedCatalogRow:function(gridRow){try{var rowFound=false;var grid=$("#paintContentResults");if(gridRow===undefined){var gridRow=grid.jqGrid("getGridParam","lastAccessedRow");}if(gridRow!==undefined&&gridRow!=null){var rowData=((typeof gridRow.id!="undefined"&&gridRow.id)?gridRow.id.split("-"):null);var options={data:{ent_id:rowData[0],ent_type:rowData[1]}};grid.jqGrid("updateRowByRowId",options);rowFound=true;grid.jqGrid("setGridParam",{lastAccessedRow:null});
}else{rowFound=false;}}catch(e){rowFound=false;}return rowFound;}});$.extend($.ui.lnrcatalogsearch.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget,{defaults:{start:true,catStart:true}});})(jQuery);$(function(){try{$("#lnr-catalog-search").lnrcatalogsearch();var d=window.location.search.substring(1);var c=d.split("/");var b=c[1];$("#search_searchtext").keyup(function(g){try{if(g.keyCode==13){if(b!="catalog-search"){var j=$("#search_searchtext").val();var f="Search";if(j!=undefined){j=j.replace("/","@@");}aUrl=resource.base_url;aUrl+="?q=learning/catalog-search/"+escape(f)+"|"+escape(j);location.href=aUrl;}else{$("#lnr-catalog-search").data("lnrcatalogsearch").searchAction("top-search");}}}catch(h){}}).attr("data-filter-id","top-search").attr("data-filter-name","top-search").attr("data-filter-label",Drupal.t("LBL304"));$("#searchTxtFrmPages").click(function(){try{if(b!="catalog-search"){var j=$("#search_searchtext").val();var h=Drupal.t("LBL304").toUpperCase();
if((j.toLowerCase())==(h.toLowerCase())){j="";}var f="Search";if(j!=undefined){j=j.replace("/","@@");}aUrl=resource.base_url;aUrl+="?q=learning/catalog-search/"+escape(f)+"|"+escape(j);location.href=aUrl;}else{$("#lnr-catalog-search").data("lnrcatalogsearch").clearSearchParam("title");$("#lnr-catalog-search").data("lnrcatalogsearch").searchAction("top-search");}}catch(g){}});if($("#search_searchtext")){try{$("#search_searchtext").autocomplete("/?q=learning/catalog-autocomplete",{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading"});}catch(a){}}datePickerOpen=false;$("#ad_startdate1, #ad_startdate2").live("focus",function(){try{datePickerOpen=true;}catch(f){}});}catch(a){}});function preventBackspace(c){var a=c||window.event;if(a){var b=a.charCode||a.keyCode;if(b===8||b===13){if(a.preventDefault){a.preventDefault();}else{a.returnValue=false;}}}}function passUrlCommonCall(e){var d=window.location.href;var f=d.substring(0,d.indexOf("&"));
var a=f.replace("widget/catalog-search","share/training");var c=$(".ui-pg-input").val();var b=$(".ui-corner-bottom #data-table-page-view .page_count_view").html();a=a+"&page_number="+c+"&click_id="+e+"&row_number="+b;window.open(a,"_blank");}function replaceAll(c,a,b){return b.replace(new RegExp(c,"g"),a);}function filtersearch(c){try{var g="";var a="";var f="";if(c.id=="language"||c=="language"){g=$("#search_language input.language").val();a=$(".search_filter_language");f=$(".languagefilter").attr("id");}else{if(c.id=="country"||c=="country"){g=$("#search_country input.country").val();a=$(".search_filter_country");f=$(".countryfilter").attr("id");}}if(g&&g!=Drupal.t("LBL304")){g=g.replace(/\s+/g,"");a.hide();var d=$("#"+f+" div[id*="+g+"]");d.show();}else{a.show();}}catch(b){}}function searchKeyPress(a,c){try{if(a.keyCode==13||srch==1){if(c.id=="language_searchtext"){filtersearch("language");}else{if(c.id=="country_searchtext"){filtersearch("country");}}}}catch(b){}};
(function($){$.widget("ui.prerequisite",{_init:function(){try{var self=this;this.referObj='$("body").data("prerequisite")';}catch(e){}},render_popup:function(id){try{var html="<div id='prereqCatalog"+id+"' style='height:250px;width:600px;overflow:visible;'></div>";$("#prereqCatalog"+id).remove();$("body").append(html);var nHtml="<div id='show_expertus_message' style='display:none;'></div><div id='lnr-prerequisite-container'><table id='lnr-prerequisite'></table></div>";$("#prereqCatalog"+id).html(nHtml);var closeButt={};var prewidth=780;if(Drupal.settings.widget.widgetCallback==true){var iwidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0);var lesswidth=20;if(iwidth>=800){lesswidth=40;}prewidth=iwidth-lesswidth;}$("#prereqCatalog"+id).dialog({bgiframe:true,position:[(getWindowWidth()-750)/2,100],width:prewidth,resizable:false,draggable:false,closeOnEscape:false,modal:true,title:(Drupal.t("LBL716")+" <span id='preReqTitle'></span>"),buttons:closeButt,close:function(){$("#prereqCatalog"+id).remove();
if($(".location-session-detail-clone").size()>0){$(".location-session-detail-clone").remove();}},overlay:{opacity:0.5,background:"#000000"}});}catch(e){}},preMsgBox:function(msgTitle,msgTxt){try{$("#preMsgBox-wizard").remove();var html="";html+='<div id="preMsgBox-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';html+='<tr><td height="30"></td></tr>';html+="<tr>";html+='<td align="center"><i>'+msgTxt+"</i></td>";html+="</tr>";html+="</table>";html+="</div>";$("body").append(html);$("#preMsgBox-wizard").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:500,resizable:false,modal:true,title:SMARTPORTAL.t(msgTitle),closeOnEscape:false,draggable:true,overlay:{opacity:0.9,background:"black"}});$("#msgTitle-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#msgTitle-wizard").remove();});}catch(e){}},getPrerequisites:function(id,divId){try{var userId=this.getLearnerId();if(!userId){this.preMsgBox(Drupal.t("LBL721"),SMARTPORTAL.t("MSG027"));
}else{this.render_popup(id);this.createLoader("prereqCatalog"+id);$("#prereqCatalog"+id).css("min-height","120px");var obj=this;var urlStr=this.constructUrl("learning/catalog-prerequisite/"+id+"/"+divId);var objStr='$("#lnr-prerequisite").data("prerequisite")';if(Drupal.settings.widget.widgetCallback==true){$("#lnr-prerequisite").jqGrid({url:obj.constructUrl("learning/catalog-prerequisite/"+id+"/"+divId),datatype:"json",mtype:"GET",colNames:["Name","Code","Status"],colModel:[{name:"Name",index:"name",title:false,widgetObj:objStr,formatter:obj.paintPrereqResults},{name:"Code",index:"code",title:false,widgetObj:objStr,formatter:obj.paintPrereqResults},{name:"Status",index:"status",title:false,widgetObj:objStr,formatter:obj.paintPrereqResults}],rowNum:10,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",loadui:false,loadComplete:obj.callbackLoaderClass});}else{$("#lnr-prerequisite").jqGrid({url:obj.constructUrl("learning/catalog-prerequisite/"+id+"/"+divId),datatype:"json",mtype:"GET",colNames:["Name","Code","Status"],colModel:[{name:"Name",index:"name",title:false,width:600,widgetObj:objStr,formatter:obj.paintPrereqResults},{name:"Code",index:"code",title:false,width:200,widgetObj:objStr,formatter:obj.paintPrereqResults},{name:"Status",index:"status",title:false,width:200,widgetObj:objStr,formatter:obj.paintPrereqResults}],rowNum:10,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",width:756,loadtext:"",recordtext:"",loadui:false,loadComplete:obj.callbackLoaderClass});
}$("#lnr-prerequisite_toppager").css("display","none");$(".ui-jqgrid-bdiv").css("overflow","hidden");}}catch(e){}},callbackLoaderClass:function(response,postdata,formid){try{var crsId=response.rows[0].cell.crsId;$("body").data("prerequisite").destroyLoader("prereqCatalog"+crsId);var len=response.rows.length-1;$("#"+response.rows[len].id+":last > td ").css("border-bottom","0px solid");$("#gview_lnr-prerequisite").css("border-bottom","0px solid");$("body").data("learningcore").refreshJScrollPane("#lnr-prerequisite-container #gview_lnr-prerequisite");$(".limit-title").trunk8(trunk8.Prerequisite_title);$(".limit-desc").trunk8(trunk8.Prerequisite_desc);vtip();}catch(e){}},getTpPrerequisites:function(id,divId,preLevel){try{var userId=this.getLearnerId();var initReq=(preLevel=="course")?"initClassPrereq":"initPrereq";this.currTheme=Drupal.settings.ajaxPageState.theme;if(Drupal.settings.widget.widgetCallback!=true){if(this.currTheme=="expertusoneV2"){var dWidth=780;}else{var dWidth=756;}}if(!userId){this.preMsgBox(Drupal.t("LBL721"),SMARTPORTAL.t("MSG027"));
}else{this.render_popup(id);this.createLoader("prereqCatalog"+id);$("#prereqCatalog"+id).css("min-height","120px");var obj=this;var urlStr=this.constructUrl("learning/catalog-tpprerequisite/"+id+"/"+initReq+"/"+divId+"/"+preLevel);var objStr='$("#lnr-prerequisite").data("prerequisite")';if(Drupal.settings.widget.widgetCallback==true){$("#lnr-prerequisite").jqGrid({url:obj.constructUrl("learning/catalog-tpprerequisite/"+id+"/"+initReq+"/"+divId+"/"+preLevel),datatype:"json",mtype:"GET",colNames:[""],colModel:[{name:"tName",index:"preReqTpDetails",title:false,widgetObj:objStr,formatter:obj.paintPrereqResults}],rowNum:-1,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",loadui:false,loadComplete:obj.callbackLoaderClass,gridComplete:obj.callbackGridPreSelectClassComplete});}else{$("#lnr-prerequisite").jqGrid({url:obj.constructUrl("learning/catalog-tpprerequisite/"+id+"/"+initReq+"/"+divId+"/"+preLevel),datatype:"json",mtype:"GET",colNames:[""],colModel:[{name:"tName",index:"preReqTpDetails",title:false,width:610,widgetObj:objStr,formatter:obj.paintPrereqResults}],rowNum:-1,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:false,height:"auto",width:dWidth,loadtext:"",recordtext:"",loadui:false,loadComplete:obj.callbackLoaderClass,gridComplete:obj.callbackGridPreSelectClassComplete});
}$("#lnr-prerequisite_toppager").css("display","none");$(".ui-jqgrid-hbox").css("display","none");$(".ui-jqgrid-hdiv").css("display","none");$(".ui-jqgrid-bdiv").css("overflow","hidden");if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$(".ui-dialog .ui-dialog-content").addClass("pre-select-class");changeDialogPopUI();}}vtip();}catch(e){}},callbackGridPreSelectClassComplete:function(response,postdata,formid){try{scrollBar_Refresh("prerequisite");$(".limit-title").trunk8(trunk8.Prerequisite_title);$(".limit-desc").trunk8(trunk8.Prerequisite_desc);resetFadeOutByClass("#lnr-prerequisite","content-detail-code","line-item-container","select");}catch(e){}},paintPrereqResults:function(cellvalue,options,rowObject){try{var index=options.colModel.index;if(index=="name"){$("#preReqTitle").html(" "+rowObject.parentTitle);return rowObject.details1;}else{if(index=="code"){return rowObject.details2;}else{if(index=="status"){return rowObject.details3;}else{if(index=="preReqTpDetails"){return rowObject.preReqTpDetails;
}else{return"";}}}}vtip();}catch(e){}},getPrereqClass:function(currTr,divId){try{var crsId=currTr;currTr="prereq"+currTr;if(!document.getElementById(currTr+"SubGrid")){$("#"+currTr).after("<tr id='"+currTr+"SubGrid' class='subClassRow'><td colspan='4' id='"+crsId+"preReqclassSubGrid' class='classSubGrid'><table id='"+currTr+"ClassSubGrid' class='subRow'></table></td></tr>");$("#"+currTr+"SubGrid").show();$("#preReqTitle"+crsId).removeClass("title_close");$("#"+crsId+"prereq").addClass("subClassGridRow");$("#preReqTitle"+crsId).addClass("title_open");$("#prereq"+crsId+" > td ").addClass("cls-grid-row-open");$("#prereq"+crsId).removeClass("ui-widget-content");$("#"+currTr+".jqgrow").next().children().css("border-bottom","solid 1px #ccc");var classPrereq=this.classPrereqFun(crsId,currTr,divId);}else{var clickStyle=$("#"+currTr+"SubGrid").css("display");if((clickStyle=="none")||(clickStyle=="undefined")){$("#"+currTr+"SubGrid").show();$("#"+currTr+"SubGrid").slideDown(1000);$("#preReqTitle"+crsId).removeClass("title_close");
$("#preReqTitle"+crsId).addClass("title_open");$("#prereq"+crsId+" > td ").removeClass("cls-grid-row-open");$("#prereq"+crsId+" > td ").addClass("cls-grid-row-close");$("#"+crsId).removeClass("ui-widget-content");var classPrereq=this.classPrereqFun(crsId,currTr,divId);this.destroyLoader(crsId+"preReqclassSubGrid");}else{$("#"+currTr+"SubGrid").hide();$("#"+currTr+"SubGrid").slideUp(1000);$("#preReqTitle"+crsId).removeClass("title_open");$("#preReqTitle"+crsId).addClass("title_close");$("#"+crsId).removeClass("ui-widget-content");$("#prereq"+crsId+" > td ").removeClass("cls-grid-row-open");$("#prereq"+crsId+" > td ").addClass("cls-grid-row-close");$("#"+crsId).addClass("ui-widget-content");this.destroyLoader(crsId+"preReqclassSubGrid");}}vtip();}catch(e){}},classPrereqFun:function(crsId,clsDisp,divId){try{var html="";this.createLoader(crsId+"preReqclassSubGrid");var obj=this;var objStr='$("#lnr-prerequisite").data("prerequisite")';if(Drupal.settings.widget.widgetCallback==true){$("#"+clsDisp+"ClassSubGrid").jqGrid({url:obj.constructUrl("learning/class-catalog-prerequisite/"+crsId+"/"+divId),datatype:"json",mtype:"GET",colNames:["Name","Date","Start","End","Type",""],colModel:[{name:"Name",index:"name",title:false,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"Date",index:"date",title:false,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"Start",index:"start",title:false,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"End",index:"end",title:false,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"Type",index:"type",title:false,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"action",index:"action",title:false,widgetObj:objStr,formatter:obj.paintPrereqClsResult}],rowNum:10,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",loadui:false,loadComplete:obj.callbackLoaderPreReq});
}else{$("#"+clsDisp+"ClassSubGrid").jqGrid({url:obj.constructUrl("learning/class-catalog-prerequisite/"+crsId+"/"+divId),datatype:"json",mtype:"GET",colNames:["Name","Date","Start","End","Type",""],colModel:[{name:"Name",index:"name",title:false,width:300,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"Date",index:"date",title:false,width:120,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"Start",index:"start",title:false,width:90,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"End",index:"end",title:false,width:90,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"Type",index:"type",title:false,width:100,widgetObj:objStr,formatter:obj.paintPrereqClsResult},{name:"action",index:"action",title:false,width:160,widgetObj:objStr,formatter:obj.paintPrereqClsResult}],rowNum:10,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",width:745,loadtext:"",recordtext:"",loadui:false,loadComplete:obj.callbackLoaderPreReq});}$("#prereq"+crsId+"ClassSubGrid_toppager").css("display","none");
$(".prereq-enrolled-txt").parent().parent().css("border","none");vtip();}catch(e){}},callbackLoaderPreReq:function(response,postdata,formid){try{var crsId=response.rows[0].cell.crsId;$("body").data("prerequisite").destroyLoader(crsId+"preReqclassSubGrid");var clsDisp="prereq"+crsId;$("#"+clsDisp+"ClassSubGrid tr.jqgrow").eq(-1).addClass("last").children("td").css("border-bottom","0px none");$("table.search-register-btn td").css("border-bottom","0px none");$(".limit-title").trunk8(trunk8.Prerequisite_title);$(".limit-desc").trunk8(trunk8.Prerequisite_desc);vtip();}catch(e){}},paintPrereqClsResult:function(cellvalue,options,rowObject){try{var index=options.colModel.index;if(index=="name"){return rowObject.details4;}else{if(index=="date"){return rowObject.details5;}else{if(index=="start"){return rowObject.details6;}else{if(index=="end"){return rowObject.details7;}else{if(index=="type"){return rowObject.details8;}else{if(index=="action"){return rowObject.clsaction;}}}}}}vtip();}catch(e){}},getPrereqClassDetail:function(currTr){try{var crsId=currTr;
currTr="preReqClassDet"+currTr;if(!document.getElementById(crsId+"ClassSubGrid")){$("#"+currTr).after("<tr id='"+crsId+"ClassSubGrid'><td colspan='6'><span id='"+crsId+"clsDesc'>Loading . . . </span></td></tr>");$("#preReqClsTitle"+crsId).removeClass("title_close");$("#preReqClsTitle"+crsId).addClass("title_open");if($("#"+currTr).hasClass("last")==false){$("#"+currTr+" td").css("border-bottom","0px none");$("#"+currTr+" td").parents("tr.jqgrow").next().children().css("border-bottom","solid 1px #ccc");}var classPrereq=this.showClassDetails(crsId);}else{var clickStyle=$("#"+crsId+"ClassSubGrid").css("display");if((clickStyle=="none")||(clickStyle=="undefined")){$("#"+crsId+"ClassSubGrid").slideDown(1000);$("#preReqClsTitle"+crsId).removeClass("title_close").addClass("title_open");$("#"+crsId).removeClass("ui-widget-content");$("#"+currTr+".jqgrow").children().css("border-bottom","0px none");var classPrereq=this.showClassDetails(crsId);}else{$("#"+crsId+"ClassSubGrid").slideUp(1000);$("#preReqClsTitle"+crsId).removeClass("title_open").addClass("title_close");
$("#"+crsId).removeClass("ui-widget-content").addClass("ui-widget-content");if($("#"+currTr).hasClass("last")==false){$("#"+currTr+".jqgrow").children().css("border-bottom","solid 1px #ccc");}}}vtip();}catch(e){}},getTpPrereqCatalog:function(id,divId,catalogType,preLevel,parentId){try{var crsId=id;var gridRowId=catalogType+id+preLevel;var newGridId=gridRowId+"SubGrid";var loaderDivId=gridRowId+"level";var jqGridTabId=gridRowId+"jgGrid";var jgTitleId="preTitle"+gridRowId;$.fn.extend({toggleText:function(a,b){return this.text(this.text()==b?a:b);}});if(!document.getElementById(newGridId)){$("#"+jgTitleId).before("<div id='"+newGridId+"' class='subClassRow' 	><div id='"+loaderDivId+"' class='classSubGrid'><div id='gview_lnr-tpprerequisite' class='gview_lnr-tpprerequisite'><table id='"+jqGridTabId+"' class='subRow'></table></div></div></div>");$("#"+newGridId).show();$("#"+jgTitleId).toggleText(Drupal.t("LBL713"),Drupal.t("LBL3042"));$("#"+gridRowId+" > td ").addClass("cls-grid-row-open");$("#"+gridRowId+" > td ").css("border-bottom","solid 0px #ccc");
$("#"+gridRowId+" tr:last > td ").css("border-bottom","solid 0px #ccc");$("#lnr-prerequisite tr:last > td ").css("border-bottom","solid 0px #ccc");var classPrereq=this.getTpPrereqList(id,divId,catalogType,preLevel);$("#gview_"+jqGridTabId).css("border-bottom","solid 0px #ccc");if(this.currTheme=="expertusoneV2"){if(navigator.userAgent.indexOf("Chrome")>0||navigator.userAgent.indexOf("Safari")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","25px");if(navigator.userAgent.indexOf("Safari")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","12px");}$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","42px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","25px");
$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","25px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","42px");}else{$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","24px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","42px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","0px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","0");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","42px");
}$("#gview_"+jqGridTabId+" .ui-jqgrid-hdiv").css("border-bottom","solid 1px #EDEDED");}else{if(navigator.userAgent.indexOf("Chrome")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","7px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","15px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","30px");}else{$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","-6px");
$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","0");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","30px");}$("#gview_"+jqGridTabId+" .ui-jqgrid-hdiv").css("border-bottom","solid 1px #ccc");}$("body").data("prerequisite").createLoader("gview_"+jqGridTabId);}else{var clickStyle=$("#"+newGridId).css("display");if((clickStyle=="none")||(clickStyle=="undefined")){$("#"+newGridId).slideDown(1000,function(){$("body").data("learningcore").refreshJScrollPane("#lnr-prerequisite-container #gview_lnr-prerequisite");});$("#"+jgTitleId).toggleText(Drupal.t("LBL713"),Drupal.t("LBL3042"));
if(this.currTheme=="expertusoneV2"){if(navigator.userAgent.indexOf("Chrome")>0||navigator.userAgent.indexOf("Safari")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","25px");if(navigator.userAgent.indexOf("Safari")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","12px");}$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","42px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","25px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","25px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","42px");
}else{$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","24px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","42px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","0px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","0");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","42px");}$("#"+gridRowId+" > td ").css("border-bottom","solid 0px #EDEDED");}else{if(navigator.userAgent.indexOf("Chrome")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","7px");
$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","15px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","30px");}else{$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","-6px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","30px");
$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","0");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","30px");}$("#"+gridRowId+" > td ").css("border-bottom","solid 0px #ccc");}}else{$("#"+newGridId).slideUp(1000,function(){$("body").data("learningcore").refreshJScrollPane("#lnr-prerequisite-container #gview_lnr-prerequisite");});$("#"+jgTitleId).toggleText(Drupal.t("LBL713"),Drupal.t("LBL3042"));if(this.currTheme=="expertusoneV2"){if(navigator.userAgent.indexOf("Chrome")>0||navigator.userAgent.indexOf("Safari")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","25px");if(navigator.userAgent.indexOf("Safari")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","12px");
}$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","42px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","25px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","25px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","42px");}else{$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","24px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","42px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","0px");
$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","0");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","42px");}$("#"+gridRowId+" > td ").css("border-bottom","solid 1px #EDEDED");$("#lnr-prerequisite").find("tr:last-child td ").css("border-bottom","solid 0px #EDEDED");}else{if(navigator.userAgent.indexOf("Chrome")>0){$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","7px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","15px");
$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","30px");}else{$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").find(".radio-btn:not(input)").css("margin-right","-6px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find(".top-record-div-left:not(.title_close)").css("margin-right","30px");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr").find("#coursel2").find(".top-record-div-left").css("margin-right","0");$(".title_open").parents(".cls-grid-row-open").parent("tr").next("tr.subClassRow").next("#coursel2").find(".top-record-div-left").css("margin-right","30px");}$("#"+gridRowId+" > td ").css("border-bottom","solid 1px #ccc");$("#lnr-prerequisite").find("tr:last-child td ").css("border-bottom","solid 0px #ccc");
}}}vtip();resetFadeOutByClass("#lnr-prerequisite .tp-prereq-select-class-level-container","content-detail-code","line-item-container","select");}catch(e){}},styleSwap:function(classId,addClass,removeClass){try{$("#"+classId).removeClass(removeClass);$("#"+classId).addClass(addClass);}catch(e){}},getTpPrereqList:function(id,divId,catalogType,preLevel){try{var divId=((divId==preLevel)?"lnr-catalog-search":divId);var dispGridId,constructUrl,colNames,colModel,loadCompleteCall;var dispGridId=catalogType+id+preLevel+"jgGrid";var constructUrl=this.constructUrl("learning/catalog-tpprerequisite/"+id+"/"+catalogType+"/"+divId+"/"+preLevel);var colNames=[""];var obj=this;var objStr='$("#lnr-prerequisite").data("prerequisite")';if(Drupal.settings.widget.widgetCallback==true){var colModel=[{name:"tName",index:"preReqTpDetails",title:false,widgetObj:objStr,formatter:obj.paintPrereqResults}];}else{var colModel=[{name:"tName",index:"preReqTpDetails",title:false,width:600,widgetObj:objStr,formatter:obj.paintPrereqResults}];
}var loadCompleteCall=obj.prereqCallback;this.jqGridFun(dispGridId,constructUrl,colNames,colModel,loadCompleteCall);vtip();}catch(e){}},getTpPrereqCatalogRegister:function(tpCrsId,objectId,str){try{var tpCrsId=tpCrsId.split("-");var tpCrsIdV,selectedClass,inc=0,v=0;var checkedClass=new Array();var tpCrsIdLen=tpCrsId.length;var tpAction=$("#tpaction-"+objectId).val();var tpActionV=tpAction.split("-");tpActionType=tpActionV[0];tpNodeId=tpActionV[1];var tpSelectedClass="";var params="selectedItem={";for(var n=0;n<tpCrsIdLen;n++){tpCrsIdV=tpCrsId[n];inc=inc+1;selectedClass=$('input[name="cls-'+tpCrsIdV+'"]:radio:checked').val();if(selectedClass!=undefined){checkedClass[n]=selectedClass;tpSelectedClass=selectedClass+tpSelectedClass;}checkedClass=checkedClass;if(selectedClass==undefined||selectedClass=="undefined"){selectedClass="NULL";break;}params+='"'+v+'":{';params+='"tpid":"'+objectId+'",';params+='"courseid":"'+tpCrsIdV+'",';params+='"classid":"'+selectedClass+'"';params+="}";if(inc<tpCrsIdLen){params+=",";
tpSelectedClass=","+tpSelectedClass;}v=v+1;}params+="}";if(tpCrsIdLen!=checkedClass.length){var errMsgPre=new Array();errMsgPre[0]=str;var message_call=expertus_error_message(errMsgPre,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}else{if(tpActionType=="cart"){this.addToCartFun("tp",tpNodeId,objectId,tpSelectedClass);}else{var isAdminSide="N";var userListIds="";var fromPage="catalogpopup";var MasterMandatory="N";var url=this.constructUrl("ajax/trainingplan/class-list-register/"+isAdminSide+"/"+userListIds+"/"+fromPage+"/"+MasterMandatory);var obj=this;$.ajax({type:"POST",url:url,data:params,datatype:"text",success:function(result){result=$.trim(result);var resultErr=new Array();if(result=="Registered"){resultErr[0]=Drupal.t("Registered Successfully");var message_call=expertus_error_message(resultErr,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}else{resultErr[0]=result;var message_call=expertus_error_message(resultErr,"error");
$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}}});}}}catch(e){}},getPrereqCatalogRegister:function(tpCrsIdv,courseId,str){try{var tpCrsId=tpCrsIdv.split("-");var tpCrsIdLen=tpCrsId.length;var inc=0;var selectedClass,clsaction;var clsActionType,clsNodeId;if(tpCrsIdLen==1){selectedClass=$('input[name="cls-'+tpCrsId[0]+'"]:radio:checked').val();if(selectedClass!=undefined){clsaction=$("#clsaction-"+selectedClass).val();var clsactionV=clsaction.split("-");clsActionType=clsactionV[0];clsNodeId=clsactionV[1];if(clsActionType=="cart"&&availableFunctionalities.exp_sp_commerce!=undefined&&availableFunctionalities.exp_sp_commerce!=""){this.addToCartFun("class",clsNodeId,tpCrsId[0],selectedClass);}else{this.prereqCatalogRegister(tpCrsId[0],selectedClass);}}}else{for(var n=0;n<tpCrsId.length;n++){tpCrsIdV=tpCrsId[n];courseId=tpCrsIdV;selectedClass=$('input[name="cls-'+tpCrsIdV+'"]:radio:checked').val();if(selectedClass!=undefined){if($("#cls-"+courseId).attr("disabled")==false){clsaction=$("#clsaction-"+courseId).val();
var clsactionV=clsaction.split("-");clsActionType=clsactionV[0];clsNodeId=clsactionV[1];if(clsActionType=="cart"){this.addToCartFun("class",clsNodeId,courseId,selectedClass);}else{this.prereqCatalogRegister(courseId,selectedClass);}inc=inc+1;}}}}if(((tpCrsIdLen==1)&&(selectedClass==undefined))||((tpCrsIdLen>1)&&(inc==0))){var MsgErr=new Array();MsgErr[0]=str;var message_call=expertus_error_message(MsgErr,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}var currentPage=$(".ui-pg-input").val();if(typeof $("#lnr-catalog-search").data("lnrcatalogsearch")=="undefined"||$("#lnr-catalog-search").data("lnrcatalogsearch").refreshLastAccessedCatalogRow()==false){$("#lnr-catalog-search #paintContentResults").trigger("reloadGrid",[{page:currentPage}]);}}catch(e){}},prereqCatalogRegister:function(courseId,classId){try{var obj=this;var userId=this.getLearnerId();var isAdminSide="N";var waitlist=1;url=obj.constructUrl("ajax/learningcore/register/"+userId+"/"+courseId+"/"+classId+"/"+waitlist+"/"+isAdminSide);
$.ajax({type:"POST",url:url,success:function(result){result=$.trim(result);var preMsg=new Array();if(result=="Registered"){preMsg[0]=Drupal.t("Registered Successfully");var message_call=expertus_error_message(preMsg,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();$('input[name="cls-'+courseId+'"]:radio').attr("disabled",true);if(document.getElementById("clsStatus-"+courseId)){$("#clsStatus-"+courseId).html(SMARTPORTAL.t("Registered"));$("#clsStatus-"+courseId).attr("title",SMARTPORTAL.t("Registered"));}}else{if(result=="Waitlisted"){preMsg[0]=Drupal.t("Waitlisted Successfully");var message_call=expertus_error_message(preMsg,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();$('input[name="cls-'+courseId+'"]:radio').attr("disabled",true);if(document.getElementById("clsStatus-"+courseId)){$("#clsStatus-"+courseId).html(SMARTPORTAL.t("Waitlisted"));$("#clsStatus-"+courseId).attr("title",SMARTPORTAL.t("Waitlisted"));
}}else{preMsg[0]=result;var message_call=expertus_error_message(preMsg,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}}}});}catch(e){}},addToCartFun:function(actionType,nodeId,courseId,classId){try{var waitlist=0;var programId=(actionType=="tp")?courseId:0;if(actionType=="tp"){url=this.constructUrl("ajax/cart/tpproduct/add/"+nodeId+"/"+programId+"/null/"+classId);}else{url=this.constructUrl("ajax/cart/product/add/"+nodeId+"/"+classId+"/"+courseId+"/"+waitlist);}$.ajax({type:"POST",url:url,success:function(result){var MsgPre=new Array();if(result.cart_msg=="CartAdded"){MsgPre[0]=Drupal.t("Added to your Cart");var message_call=expertus_error_message(MsgPre,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}else{MsgPre[0]=result.cart_msg;var message_call=expertus_error_message(MsgPre,"error");$("#show_expertus_message").html(message_call);$("#show_expertus_message").show();}if(parseInt(result.total_product)>0){$("#ShoppingCartItemsId").addClass("filled");
$("#ShoppingCartItemsId").html(result.total_product);}else{$("#ShoppingCartItemsId").removeClass("filled");$("#ShoppingCartItemsId").html("");}}});}catch(e){}},jqGridFun:function(dispGridId,constructUrl,colNames,colModel,loadCompleteCall){try{this.createLoader(dispGridId);if(Drupal.settings.widget.widgetCallback==true){$("#"+dispGridId).jqGrid({url:constructUrl,datatype:"json",mtype:"GET",colNames:colNames,colModel:colModel,rowNum:10,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",loadui:false,loadComplete:loadCompleteCall});}else{$("#"+dispGridId).jqGrid({url:constructUrl,datatype:"json",mtype:"GET",colNames:colNames,colModel:colModel,rowNum:10,viewrecords:true,emptyrecords:"",sortorder:"asc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",loadui:false,loadComplete:loadCompleteCall});}$("#"+dispGridId+"_toppager").css("display","none");$(".ui-jqgrid-hbox").css("display","none");
}catch(e){}},prereqCallback:function(response,postdata,formid){try{var crsId=response.rows[0].cell.crsId;if(document.getElementById("cls-"+crsId)){if($('input[name="cls-'+crsId+'"]:radio').is(":checked")==true){$('input[name="cls-'+crsId+'"]:radio').attr("disabled",true);}}var len=response.rows.length-1;var len1=response.rows.length-2;$("tr #"+response.rows[len].id+":last > td ").css("border-bottom","0px solid");if(response.rows[len].id=="coursel3"||response.total==0){var parentId=$("#lnr-prerequisite .loadercontent").parent().attr("id");}else{var parentId=$("tr #"+response.rows[0].id+"").parent().parent().parent().parent().parent().attr("id");}$("body").data("prerequisite").destroyLoader(parentId);$(".limit-title").trunk8(trunk8.Prerequisite_title);$(".limit-desc").trunk8(trunk8.Prerequisite_desc);$(".lmt-des-prereq-title").trunk8(trunk8.Prerequisite_title);$("body").data("learningcore").refreshJScrollPane("#lnr-prerequisite-container #gview_lnr-prerequisite");vtip();resetFadeOutByClass("#lnr-prerequisite .tp-prereq-select-class-level-container","content-detail-code","line-item-container","select");
resetFadeOutByClass("#lnr-prerequisite .tp-prereq-select-course-level-container","content-detail-code","line-item-container","select");}catch(e){}},getPreqClassId:function(classId,crsId){try{var seatsleft=$("#hidden-seatleft-cls-"+classId).html();$("#seatleftcount"+crsId).html(seatsleft);}catch(e){}},showClassDetails:function(clsId){try{var oHtml="";var currTr="preReqClassDetils"+clsId;if(document.getElementById(currTr)){var data=eval($("#"+currTr).attr("data"));var dataInfo=data;var desc=data.description;oHtml+="<table cellpadding='2' cellspacing='2' width='100%'>";if(data.cls_code){oHtml+="<tr><td class='class-code-heading'>"+SMARTPORTAL.t("Class Code")+": "+data.cls_code+"</td></tr>";}oHtml+="<tr><td class='cls-description'>"+desc+"</td></tr><tr><td class='cls-description'>";if(dataInfo.sessionDetails.length>0){oHtml+='<div class="enroll-session-details">'+SMARTPORTAL.t("Session Details")+":</div>";var inc=1;$(dataInfo.sessionDetails).each(function(){if($(this).attr("sessionTitle")){var sesionsH=($(this).attr("sessionTitle")!="")?$(this).attr("sessionTitle"):"&nbsp;";
var sesionsHead=titleRestricted(sesionsH,15);oHtml+='<div class="sessionDet"><div class="sessName vtip" title="'+(($(this).attr("sessionTitle")!="")?$(this).attr("sessionTitle"):"&nbsp;")+'">'+sesionsHead+"</div>";oHtml+='<div class="sessDay">'+$(this).attr("sessionDay")+"</div>";oHtml+='<div class="sessDate">'+$(this).attr("sessionSDate")+" <span class='time-zone-text'>"+$(this).attr("sessionSDayForm")+"</span> to "+$(this).attr("sessionEDate")+" <span class='time-zone-text'>"+$(this).attr("sessionEDayForm")+"</span></div></div>";inc++;}});}if(data.language){oHtml+="<div class='cls-lang'>"+SMARTPORTAL.t("Language")+": "+data.language+"</div>";}var LocationName=dataInfo.locationDetails.locationName;if(LocationName!=""){oHtml+='<table border="0" cellpadding="0" class="enroll-loc-details" cellspacing="0"><tr><td class="enroll-location-head" valign="top"><div class="enroll-loc-head">'+SMARTPORTAL.t("Location")+":</div></td><td></td></tr><tr><td>";oHtml+="<div class='enroll-location-text'>"+LocationName+"</div>";
if(dataInfo.locationDetails.locationAddr1!=""&&dataInfo.locationDetails.locationAddr1!=null){oHtml+="<div class='enroll-location-text'>"+dataInfo.locationDetails.locationAddr1+"</div>";}if(dataInfo.locationDetails.locationAddr2!=""&&dataInfo.locationDetails.locationAddr2!=null){oHtml+="<div class='enroll-location-text'>"+dataInfo.locationDetails.locationAddr2+"</div>";}if(dataInfo.locationDetails.locationCity!=""&&dataInfo.locationDetails.locationCity!=null){oHtml+="<div class='enroll-location-text'>"+dataInfo.locationDetails.locationCity;if(dataInfo.locationDetails.locationState==""&&dataInfo.locationDetails.locationState!=null){oHtml+="<br />";}}if(dataInfo.locationDetails.locationState!=""&&dataInfo.locationDetails.locationState!=null){if(dataInfo.locationDetails.locationCity!=""&&dataInfo.locationDetails.locationCity!=null){oHtml+=" , ";}oHtml+=dataInfo.locationDetails.locationState+"</div>";}if(dataInfo.locationDetails.locationZipcode!=""&&dataInfo.locationDetails.locationZipcode!=null){oHtml+="<div class='enroll-location-text'>zip"+dataInfo.locationDetails.locationZipcode+"</div>";
}oHtml+="</td></tr></table>";}oHtml+="</td></tr></table>";$("#"+clsId+"clsDesc").html(oHtml);}vtip();}catch(e){}}});$.extend($.ui.prerequisite.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("body").prerequisite();}catch(a){}});;
jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1;}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000));}else{f=m.expires;}e="; expires="+f.toUTCString();}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("");}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break;}}}return d;}};;
(function(a){a.fn.qtipPopup=function(o){try{var f=o.postype;if(f.indexOf("custom")!=-1){a(this).qtipCustomLeft(o);}else{var t=Drupal.settings.ajaxPageState.theme;var d=o.wid;var q=o.poslwid;var n=o.posrwid;var h=o.heg;var m=o.popupDispId;var s=o.onClsFn;var j=o.entityId;var p=o.disp;var g=o.linkid;var i=o.dispDown;var b;var k=o.top;var c=o.catalogVisibleId;var u=o.beforeShow;var v=o.afterShow;var l=o.afterPosition;setTimeout(function(){var L=a("#"+g).height();var M=a("#"+g).width();var G=a("#"+g).offset();var D=a("#"+g).position();var H=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?"bottom-qtip-tip-visible":"bottom-qtip-tip-up-visible";a(this).qtipPopupShow(m,H,d,h,j,s,o);var J=a("."+H).height();var K=a("."+H).width();var x=M/2;var A=D.top+(L+J-12);var I=a("."+H).position();if(k===undefined||k===null){var y=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?(D.top-L):(D.top+L);}else{var y=k;}var F=D.left+(parseInt(x)-(K/2));a(this).tipPositioning(H,y,F,m);if(m.indexOf("qtip_owner_disp")===0){if(a("div[id^='qtip_owner_disp']").find("span[class='qtip-popup-visible']").length>0){a("div[id^='qtip_owner_disp']").find("span[class='qtip-popup-visible']").addClass("qtip-popup-visible_for_ie");
}}if(t=="expertusoneV2"){var w=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))?true:false;if(c=="enrolled-all-exempted-disp"||c=="qtipAttachIdqtip_exempted_disp_all"||c=="qtipAttachIdqtip_exempted_single_disp"){b=a(this).qtipExemptedPosition(c);}else{if(a.browser.msie&&a.browser.version==10){b=8;}else{if(a.browser.msie&&a.browser.version==11){b=8;}else{if(a.browser.msie&&a.browser.version==9){b=8;}else{if(a.browser.msie&&a.browser.version==8){b=8;}else{if(navigator.userAgent.indexOf("Chrome")>0){b=8;}else{b=8;}}}}}}}var C=(D.top==0)?D.top:D.top-L;if(g.indexOf("widget-share-")==0){C=(parseInt(D.top)==0)?D.top:D.top-L;}var B=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?(C+J-b):A;var N=(((G.top-h)>=(h/2)||p=="ctool")&&i!="Y")?"bottom":"top";if(f=="middle"){try{a(this).qtipMiddle(B,d,I,q,n,x,K,D,m,j,N);}catch(E){alert(E);}}else{if(f=="bottomleft"||f=="topleft"){try{a(this).qtipLeft(B,d,I,q,x,K,D,m,j,N);}catch(E){alert(E);}}else{if(f=="bottomright"||f=="topright"){try{a(this).qtipRight(B,d,I,q,x,K,D,m,j,N);
}catch(E){alert(E);}}}}if(o.afterPosition!==undefined){o.afterPosition.call();}},10);}}catch(r){}};a.fn.qtipPopupShow=function(k,i,f,g,m,j,c){try{var b='<div class="'+i+'"></div> <table cellspacing="0" cellpadding="0" style="z-index:100;" height="'+g+'px" width="'+f+'px" id="bubble-face-table"> <tbody><tr><td class="bubble-tl"></td><td class="bubble-t"></td><td class="bubble-tr"><a id="admin-bubble-close" class="qtip-close-button-visible" onclick="closeQtip(\''+k+"','"+m+"',"+j+');"></a></td></tr><tr><td class="bubble-cl"></td><td valign="top" class="bubble-c">';var l='</td><td class="bubble-cr"></td></tr><tr><td class="bubble-bl"></td><td class="bubble-b-visible"></td><td class="bubble-br"></td></tr></tbody></table>';var d=b+"<div id='paintContentVisiblePopup'><div id='show_expertus_message'></div><div id='paintContent"+k+"'></div></div>"+l;a("#"+k+" #visible-popup-"+m).html(d);if(c.beforeShow!==undefined){c.beforeShow.call();}a("#"+k+" #visible-popup-"+m).show();if(c.afterShow!==undefined){c.afterShow.call();
}}catch(h){alert(h);}};a.fn.tipPositioning=function(d,b,g,c){try{a("#"+c+" ."+d).css("position","absolute").css("top",b+"px").css("left",g+"px");}catch(f){alert(f);}};a.fn.qtipMiddle=function(i,h,n,f,p,g,o,j,r,t,q){try{var l=0;var d=(h-40)/3;if(f==""&&p==""){var c=d/3;var s=c/2;l=d+parseInt(c)+parseInt(s)-(g-(o/2));}else{if(f!=""){l=d+parseInt(f);}else{l=d-p;}}var b=n.left-l+j.left;if(q=="bottom"){a("#"+r+" #visible-popup-"+t+" #bubble-face-table").css("position","absolute").css("bottom",i+"px").css("left",b+"px");}else{a("#"+r+" #visible-popup-"+t+" #bubble-face-table").css("position","absolute").css("top",i+"px").css("left",b+"px");}}catch(k){alert(k);}};a.fn.qtipLeft=function(i,h,n,f,g,o,j,q,s,p){try{var l=0;var d=(h-40)/3;if(f==""){var c=d/3;var r=c/2;l=(c)+(r)-(g-(o/2));}else{tipleft1=f;if(tipleft1>0){l=tipleft1;}}var b=n.left-l+j.left;if(p=="bottom"){a("#"+q+" #visible-popup-"+s+" #bubble-face-table").css("position","absolute").css("bottom",i+"px").css("left",b+"px");}else{a("#"+q+" #visible-popup-"+s+" #bubble-face-table").css("position","absolute").css("top",i+"px").css("left",b+"px");
}}catch(k){alert(k);}};a.fn.qtipRight=function(v,h,u,q,f,o,i,k,j,p){try{var l=0;var b=(h-40)/3;if(q==""){var n=b/3;var c=n/2;l=(b*2)+parseInt(n)+parseInt(c)-(f-(o/2));}else{var t=(b*2);var g=h-(f+(o/2)+10);tipleft1=t+parseInt(q);if(tipleft1>g){l=(f+(o/2))+t;}else{l=tipleft1;}}var r=u.left-l-10+i.left;if(p=="bottom"){a("#"+k+" #visible-popup-"+j+" #bubble-face-table").css("position","absolute").css("bottom",v+"px").css("left",r+"px");}else{a("#"+k+" #visible-popup-"+j+" #bubble-face-table").css("position","absolute").css("top",v+"px").css("left",r+"px");}}catch(s){alert(s);}};a.fn.qtipExemptedPosition=function(b){try{var d=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))?true:false;if(b=="enrolled-all-exempted-disp"){if(a.browser.msie&&a.browser.version==10){posmin=32;}else{if(d){posmin=32;}else{if(a.browser.msie&&a.browser.version==9){posmin=12;}else{if(navigator.userAgent.indexOf("Chrome")>0){posmin=32;}else{posmin=8;}}}}}else{if(b=="qtipAttachIdqtip_exempted_single_disp"){if(a.browser.msie&&a.browser.version==10){posmin=18;
}else{if(d){posmin=18;}else{if(a.browser.msie&&a.browser.version==9){posmin=18;}else{posmin=15;}}}}else{if(b=="qtipAttachIdqtip_exempted_disp_all"){if(a.browser.msie&&a.browser.version==10){posmin=21;}else{if(d){posmin=21;}else{if(a.browser.msie&&a.browser.version==9){posmin=8;}else{posmin=21;}}}}}}return posmin;}catch(c){alert(c);}};a.fn.qtipCustomLeft=function(c){try{var g=Drupal.settings.ajaxPageState.theme;var i=c.wid;var f=c.poslwid;var m=c.posrwid;var j=c.heg;var q=c.popupDispId;var o=c.onClsFn;var r=c.entityId;var n=c.disp;var l=c.linkid;var p=c.dispDown;var b;var d=c.catalogVisibleId;var h=c.possubtype;setTimeout(function(){h=(h==null||h==undefined)?"middleLeft":h;var v=a("#"+l).position();var A=a("#"+l).height();var B=a("#"+l).width();var w=a("#"+l).offset();var x="qtip-tip-point-right";a(this).qtipPopupShow(q,x,i,j,r,o,c);var y=a("."+x).height();var z=a("."+x).width();var C=parseInt(y/2)-20;var t=parseInt(z/2)-z;a("."+x).css("top",C+"px").css("left",t+"px");var e=a("."+x).position();
var s=e.left-i+20;var u=(v.top==0)?v.top:y+(y/2)-j;if(h=="middleLeft"){u=parseInt(j/2)-(y/2)+10;s=e.left-i+20;}else{if(h=="bottomleft"||h=="topleft"){}else{if(h=="bottomright"||h=="topright"){}}}a("#"+q+" #visible-popup-"+r+" #bubble-face-table").css("position","absolute").css("top","-"+u+"px").css("left",s+"px");},10);}catch(k){alert(k);}};})(jQuery);;
(function($){var dWidth="";$.widget("ui.enrollment",{_init:function(){try{var DrupalLocale={failed:Drupal.t("failed"),passed:Drupal.t("passed"),unknown:Drupal.t("unknown"),incomplete:Drupal.t("Incomplete"),completed:Drupal.t("Completed")};var self=this;this.enrUserId=this.getLearnerId();dWidth=$("#enroll-result-container").width();if(dWidth==1000){$("#block-exp-sp-lnrenrollment-tab-my-enrollment").addClass("enroll-disable-right-region");$("#block-exp-sp-lnrenrollment-tab-my-enrollment").removeClass("enroll-enable-right-region");}else{$("#block-exp-sp-lnrenrollment-tab-my-enrollment").addClass("enroll-enable-right-region");$("#block-exp-sp-lnrenrollment-tab-my-enrollment").remove("enroll-enable-right-region");}this.renderEnrollResults();this.prevObj;this.prevMoreObj;if(document.getElementById("learner-enrollment-tab-inner")){this.widgetObj='$("#learner-enrollment-tab-inner").data("enrollment")';}else{this.widgetObj='$("#lnr-catalog-search").data("enrollment")';}this.qtipListArr=new Array();
}catch(e){}},hidePageControls:function(hideAll){try{var lastDataRow=$("#paintEnrollmentResults tr.ui-widget-content").filter(":last");if(hideAll){if(this.currTheme=="expertusoneV2"){$("#block-exp-sp-lnrenrollment-tab-my-enrollment .block-footer-left").show();}$("#pager").hide();$("#gview_paintEnrollmentResults").css("padding","0");if(lastDataRow.length!=0){lastDataRow.children("td").css("border","0 none");}}else{$("#pager").show();if(this.currTheme=="expertusoneV2"){$("#block-exp-sp-lnrenrollment-tab-my-enrollment .block-footer-left").hide();}$("#pager #pager_center #first_pager").hide();$("#pager #pager_center #prev_pager").hide();$("#pager #pager_center #next_pager").hide();$("#pager #pager_center #last_pager").hide();$("#pager #pager_center #sp_1_pager").parent().hide();}}catch(e){}},showPageControls:function(){try{var lastDataRow=$("#paintEnrollmentResults tr.ui-widget-content").filter(":last");lastDataRow.children("td").css("border","0 none");$("#pager").show();if(this.currTheme=="expertusoneV2"){$("#block-exp-sp-lnrenrollment-tab-my-enrollment .block-footer-left").hide();
}$("#gview_paintEnrollmentResults").css("padding-bottom","0px");$("#pager #pager_center #first_pager").show();$("#pager #pager_center #prev_pager").show();$("#pager #pager_center #next_pager").show();$("#pager #pager_center #last_pager").show();$("#pager #pager_center #sp_1_pager").parent().show();}catch(e){}},renderEnrollResults:function(){try{this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){var dWidth=663;}else{var dWidth=667;}if(document.getElementById("learner-enrollment-tab-inner")){if(Drupal.settings.last_left_panel==true){rowNumValue=20;rowListValue=[20,30,40];}else{rowNumValue=10;rowListValue=[10,15,20];}$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");var searchEnrollStr="";var getRegStatus="lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att";var obj=$("#learner-enrollment-tab-inner").data("enrollment");var objStr='$("#learner-enrollment-tab-inner").data("enrollment")';}else{$("#lnr-catalog-search").data("enrollment").createLoader("enroll-result-container");
var searchEnrollStr="";var getRegStatus="lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att";var obj=$("#lnr-catalog-search").data("enrollment");var objStr='$("#lnr-catalog-search").data("enrollment")';}var userId=this.enrUserId;var enrStr=Drupal.settings.myenrolmentSearchStr;if(typeof enrStr==="undefined"||enrStr==null||enrStr==undefined){searchEnrollStr="&UserID="+userId+"&regstatuschk="+getRegStatus+"&sortBy=AZ";}else{searchEnrollStr="&UserID="+userId+enrStr;}var url=this.constructUrl("learning/enrollment-search/all/"+searchEnrollStr);if(Drupal.settings.mylearning_right===false){$("#paintEnrollmentResults").jqGrid({url:url,datatype:"json",mtype:"GET",colNames:["","",""],colModel:[{name:"Image",index:"learning_type_image",title:false,align:"center",widgetObj:objStr,sortable:false,formatter:$("body").data("learningcore").paintLearningImage,hidden:((obj.currTheme=="expertusoneV2")?false:true)},{name:"Name",index:"cls_title",classes:"enroll-datatable-column1",title:false,align:"left",widgetObj:objStr,sorttype:"text",formatter:obj.paintEnrollmentTitle},{name:"Action",index:"Action",classes:"enroll-datatable-column2",title:false,align:"right",sortable:false,widgetObj:objStr,formatter:obj.paintActions}],rowNum:rowNumValue,rowList:rowListValue,pager:"#pager",rowTotal:0,viewrecords:true,emptyrecords:"No Search Results Found",sortorder:"asc",toppager:true,height:"auto",autowidth:true,shrinkToFit:true,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadComplete:obj.callbackLoader}).navGrid("#pager",{add:false,edit:false,del:false,search:false,refreshtitle:true});
}else{$("#paintEnrollmentResults").jqGrid({url:url,datatype:"json",mtype:"GET",colNames:["","",""],colModel:[{name:"Image",index:"learning_type_image",title:false,align:"center",widgetObj:objStr,sortable:false,formatter:$("body").data("learningcore").paintLearningImage,hidden:((obj.currTheme=="expertusoneV2")?false:true)},{name:"Name",index:"cls_title",classes:"enroll-datatable-column1",title:false,align:"left",widgetObj:objStr,sorttype:"text",formatter:obj.paintEnrollmentTitle},{name:"Action",index:"Action",classes:"enroll-datatable-column2",title:false,align:"right",sortable:false,widgetObj:objStr,formatter:obj.paintActions}],rowNum:rowNumValue,rowList:rowListValue,pager:"#pager",rowTotal:0,viewrecords:true,emptyrecords:"No Search Results Found",sortorder:"asc",toppager:true,height:"auto",width:dWidth,loadtext:"",recordtext:"",pgtext:"{0} "+Drupal.t("LBL981")+" {1}",loadComplete:obj.callbackLoader}).navGrid("#pager",{add:false,edit:false,del:false,search:false,refreshtitle:true});}obj.hidePageControls(true);
$(".ui-jqgrid").addClass("myenrollment-table");$(".jqgfirstrow td:first-child").addClass("enroll-datatable-column-img");$(".jqgfirstrow td:nth-child(2)").addClass("enroll-datatable-column1");$(".jqgfirstrow td:last-child").addClass("enroll-datatable-column2");$("#paintEnrollmentResults .jqgfirstrow").hide();$(".ui-jqgrid-bdiv > div").css("position","static");$(".launch-content-status").each(function(){if(parseInt($(this).css("width"))<72){$(this).css({width:"72px",display:"inline-block","text-align":"center"});}});$("#pager").find("#pg_pager .ui-pg-table").css("table-layout","auto");$("#pager").find("#pg_pager .ui-pg-table #pager_center").removeAttr("style");this.setSortTypeData("lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att");$("#enroll-result-container .sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});$("#enroll-result-container .add-high-lighter").addClass("sortype-high-lighter");$(".iframe-mylearning #innerWidgetTagEnroll #pager").css("width","948px");
$(".iframe-mylearning #innerWidgetTagEnroll #pager-lp").css("width","948px");if(this.currTheme!="expertusoneV2"){$(".iframe-mylearning #innerWidgetTagEnroll .enroll-action").css("right","321px");}}catch(e){}},enrollSortForm:function(sort,className){try{$("#enroll-result-container .sort-by-links li").each(function(){$(this).find("a").removeClass("sortype-high-lighter");});$("#enroll-result-container ."+className).addClass("sortype-high-lighter");var getEnrData=eval($("#sort-by-enroll").attr("data"));var currEnrMode=getEnrData.currEnrMode;var userId=this.enrUserId;var getRegStatus="";var searchStr="";searchStr="&UserID="+userId+"&regstatuschk="+currEnrMode+"&sortBy="+sort;var url=this.constructUrl("learning/enrollment-search/all/"+searchStr);$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#paintEnrollmentResults").setGridParam({url:url});$("#paintEnrollmentResults").trigger("reloadGrid",[{page:1}]);}catch(e){}},updateMultiContentLaunchDialog:function(enrollmentId,lessonId,lessonInfo,contentQuizStatusConsolidated){try{var widgetObj=this;
lessonInfo.LessonLocation=lessonInfo.LessonLocation==null||lessonInfo.LessonLocation=="null"?"":lessonInfo.LessonLocation;lessonInfo.LaunchData=lessonInfo.LaunchData==null||lessonInfo.LaunchData=="null"?"":lessonInfo.LaunchData;lessonInfo.SuspendData=lessonInfo.SuspendData==null||lessonInfo.SuspendData=="null"?"":lessonInfo.SuspendData;lessonInfo.CmiExit=lessonInfo.CmiExit==null||lessonInfo.CmiExit=="null"?"":lessonInfo.CmiExit;var relaunchInfo=[{lessonlocation:lessonInfo.LessonLocation,launchData:lessonInfo.LaunchData,suspendData:lessonInfo.SuspendData,exit:lessonInfo.CmiExit}];var status=Drupal.t("MSG511");if(lessonInfo.Status!=""){status='<div class="line-item-container float-left"><span title="'+Drupal.t("LBL102")+": "+Drupal.t(lessonInfo.Status)+'" class="vtip">'+titleRestrictionFadeoutImage(Drupal.t("LBL102")+": "+Drupal.t(lessonInfo.Status),"exp-sp-lnrenrollment-status",200)+"</span>";}var lesDiv=lessonId+"_"+enrollmentId+"_launch_button";if(document.getElementById(lesDiv)!=null){$("#"+lessonId+"_"+enrollmentId+"_launch_button").data("relaunch",relaunchInfo);
$("#"+lessonId+"_"+lessonInfo.ContentId+"_"+enrollmentId+"_status").html(status);}var lesnscore="";var pipe1='<span class="enroll-pipeline">|</span>';if(lessonInfo.LesScore!=null&&lessonInfo.LesScore!=undefined&&lessonInfo.LesScore!=""&&lessonInfo.LesScore!="0.00"){lesnscore='<div class="line-item-container float-left">'+pipe1+'<span title="'+Drupal.t("LBL668")+": "+lessonInfo.LesScore+'" class="vtip">'+titleRestrictionFadeoutImage(Drupal.t("LBL668")+": "+lessonInfo.LesScore,"exp-sp-lnrenrollment-score",200)+"</span></div>";}var contentQuizStatus="";if(lessonInfo.contentQuizStatus!=null&&lessonInfo.contentQuizStatus!=undefined&&lessonInfo.contentQuizStatus!=""){contentQuizStatus='<div class="line-item-container float-left">'+pipe1+'<span class="vtip" title="'+Drupal.t("LBL1284")+" : "+Drupal.t(lessonInfo.contentQuizStatus)+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL1284")+" : "+Drupal.t(lessonInfo.contentQuizStatus),"exp-sp-lnrenrollment-sucstatus")+"</span>";}$("#"+lessonId+"_"+lessonInfo.ContentId+"_"+enrollmentId+"_lessonScore").html(lesnscore);
$("#"+lessonId+"_"+lessonInfo.ContentId+"_"+enrollmentId+"_lessonQuizStatus").html(contentQuizStatus);var contentStatus=Drupal.t("MSG511");var Dstatus=Drupal.t("In progress");var Dstatus1=Drupal.t("Incomplete");var Dstatus2=Drupal.t("Completed");if(lessonInfo.ContentStatus!=""){contentStatus='<div class="line-item-container float-left"><span title="'+Drupal.t("LBL102")+": "+Drupal.t(lessonInfo.ContentStatus)+'" class="vtip">'+titleRestrictionFadeoutImage(Drupal.t("LBL102")+" : "+Drupal.t(lessonInfo.ContentStatus),"exp-sp-lnrenrollment-status",200)+"</span></div>";}else{contentStatus='<div class="line-item-container float-left"><span title="'+Drupal.t("LBL102")+": "+Drupal.t(lessonInfo.ContentStatus)+'" class="vtip">'+titleRestrictionFadeoutImage(Drupal.t("LBL102")+" : "+contentStatus,"exp-sp-lnrenrollment-status",200)+"</span></div>";}if(lessonInfo.LaunchType=="VOD"&&lessonInfo.Status!=""){contentStatus='<div class="line-item-container float-left"><span title="'+Drupal.t("LBL102")+": "+Drupal.t(lessonInfo.Status)+'" class="vtip">'+titleRestrictionFadeoutImage(Drupal.t("LBL102")+" : "+Drupal.t(lessonInfo.Status),"exp-sp-lnrenrollment-status",200)+"</span></div>";
}var score="";var pipe='<span class="enroll-pipeline">|</span>';if(lessonInfo.ContScore!=null&&lessonInfo.ContScore!=undefined&&lessonInfo.ContScore!=""&&lessonInfo.ContScore!="0.00"){score='<div class="line-item-container float-left">'+pipe+'<span class="vtip" title="'+Drupal.t("LBL668")+": "+lessonInfo.ContScore+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL668")+": "+lessonInfo.ContScore,"exp-sp-lnrenrollment-score",200)+"</span></div>";}var attemptsLeft=(lessonInfo.AttemptLeft=="notset")?"":lessonInfo.AttemptLeft;if(attemptsLeft!==""){attemptsLeft='<div class="line-item-container float-left">'+pipe+'<span class="vtip" title="'+Drupal.t("LBL202")+" :  "+attemptsLeft+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL202")+" :  "+attemptsLeft,"exp-sp-lnrenrollment-attemptsleft",200)+"</span></div>";}var versionNo=lessonInfo.VersionNum;if(versionNo!==""){versionNo='<div class="line-item-container float-left">'+pipe+'<span class="vtip" title="'+Drupal.t("LBL1123")+" :  "+versionNo+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL1123")+" :  "+versionNo,"exp-sp-lnrenrollment-version",200)+"</span></div>";
}var validityDay=(lessonInfo.ValidityDays=="")?"":lessonInfo.ValidityDays;var diffDays=lessonInfo.remDays;if(validityDay!==""){var remValidityDays=(lessonInfo.daysLeft!==undefined&&lessonInfo.daysLeft!=null)?lessonInfo.daysLeft:"";if(remValidityDays<=0){var daysLBL=Drupal.t("Expired");remValidityDays="";}else{if(remValidityDays==1){var daysLBL=Drupal.t("LBL910");}else{if(remValidityDays>1){var daysLBL=Drupal.t("LBL605");}}}validityDay='<div class="line-item-container float-left">'+pipe+'<span class="vtip" title="'+Drupal.t("LBL604")+" : "+remValidityDays+" "+daysLBL+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL604")+" : "+remValidityDays+" "+daysLBL,"exp-sp-lnrenrollment-validitydays",200)+"</span></div>";}contentQuizStatus=lessonInfo.contentQuizStatus;var data=eval($("#launch"+enrollmentId).attr("data"));contentQuizStatus=(data!==undefined?widgetObj.getConsolidatedQuizStatus(lessonInfo.ContentId,data):(contentQuizStatusConsolidated!==undefined?contentQuizStatusConsolidated:""));if(document.getElementById("lnr-catalog-search")){var success_status=lessonInfo.contentQuizStatus;
if(success_status=="failed"||success_status=="incomplete"||success_status==""){contentQuizStatus=success_status;}else{if((lessonInfo.contentQuizStatus=="completed"||lessonInfo.contentQuizStatus=="Completed")&&(lessonInfo.ContentType=="Knowledge Content"||lessonInfo.ContentType=="Tin Can")){contentQuizStatus=Drupal.t("passed");}}}if(contentQuizStatus!=null&&contentQuizStatus!=undefined&&contentQuizStatus!=""){contentQuizStatus='<div class="line-item-container float-left">'+pipe1+'<span class="vtip" title="'+Drupal.t("LBL1284")+" : "+Drupal.t(contentQuizStatus)+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL1284")+" : "+Drupal.t(contentQuizStatus),"exp-sp-lnrenrollment-percentCompletion",200)+"</span></div>";}var percentCompleted="";if(lessonInfo.LaunchType=="VOD"){var suspend_data=(lessonInfo.SuspendData!=null&&lessonInfo.SuspendData!=""&&lessonInfo.SuspendData!=undefined)?JSON.parse(unescape(lessonInfo.SuspendData)):null;var progress=suspend_data!=null?suspend_data.progress:0;progress=isNaN(parseFloat(progress))?0:Math.round(progress);
percentCompleted='<div class="line-item-container float-left">'+pipe1+'<span class="vtip" title="'+progress+"% "+Drupal.t("Completed")+'">'+titleRestrictionFadeoutImage(progress+"% "+Drupal.t("Completed"),"exp-sp-lnrenrollment-percentCompletion",200)+"</span></div>";}$("#lesson_status_"+lessonInfo.ContentId).html(contentStatus+score+contentQuizStatus+attemptsLeft+validityDay+percentCompleted+versionNo);if(lessonInfo.AttemptLeft==0){$("#lesson-launch-"+lessonInfo.ContentId+" .launch_button_lbl").removeClass("enroll-launch-full").addClass("enroll-launch-empty");$("#lesson-launch-"+lessonInfo.ContentId+" .enroll-launch").removeClass("actionLink");$("#lesson-launch-"+lessonInfo.ContentId+" .enroll-launch").removeAttr("onclick");$("#"+lessonInfo.ContentId+"LessonSubGrid .launch_button_lbl").removeClass("enroll-launch-full").addClass("enroll-launch-empty");$("#"+lessonInfo.ContentId+"LessonSubGrid .enroll-launch").removeClass("actionLink");$("#"+lessonInfo.ContentId+"LessonSubGrid .enroll-launch").removeAttr("onclick");
$("#lesson-launch-"+lessonInfo.ContentId+" .enroll-launch").each(function(){var launchButtonId=$(this).attr("id");if(Drupal.ajax[launchButtonId]){if(Drupal.ajax[launchButtonId].element_settings.event){$("#"+launchButtonId).unbind(Drupal.ajax[launchButtonId].element_settings.event);}if(Drupal.ajax[launchButtonId].element_settings.keypress){$("#"+launchButtonId).unbind("keypress");}delete Drupal.ajax[launchButtonId];$("#"+launchButtonId).attr("href","#");$("#"+launchButtonId).click(function(){return false;});$("#"+launchButtonId).removeClass("use-ajax");$("#"+launchButtonId).removeClass("ctools-modal-ctools-video-style");$("#"+launchButtonId).removeClass("ajax-processed");}});}if(lessonInfo.LaunchType=="VOD"){$("#lesson-launch-"+lessonInfo.ContentId+" .enroll-launch").each(function(){var launchButtonId=$(this).attr("id");var href=$("#"+launchButtonId).attr("href");href_suspend=href.substr(0,href.lastIndexOf("/"));href=href_suspend.substr(0,href_suspend.lastIndexOf("/"));var suspend_data=(lessonInfo.SuspendData!=null&&lessonInfo.SuspendData!=""&&lessonInfo.SuspendData!=undefined)?JSON.parse(unescape(lessonInfo.SuspendData)):null;
if(lessonInfo.AttemptLeft!=0){if(Drupal.ajax[launchButtonId].element_settings.url){var url=Drupal.ajax[launchButtonId].element_settings.url.substr(0,Drupal.ajax[launchButtonId].element_settings.url.lastIndexOf("/"));var url=url.substr(0,url.lastIndexOf("/"));Drupal.ajax[launchButtonId].element_settings.url=url+"/"+lessonInfo.StatusCode+"/"+lessonInfo.SuspendData;}if(Drupal.ajax[launchButtonId].url){var url=Drupal.ajax[launchButtonId].url.substr(0,Drupal.ajax[launchButtonId].url.lastIndexOf("/"));var url=url.substr(0,url.lastIndexOf("/"));Drupal.ajax[launchButtonId].url=url+"/"+lessonInfo.StatusCode+"/"+lessonInfo.SuspendData;}if(Drupal.ajax[launchButtonId].options.url){var url=Drupal.ajax[launchButtonId].options.url.substr(0,Drupal.ajax[launchButtonId].options.url.lastIndexOf("/"));var url=url.substr(0,url.lastIndexOf("/"));Drupal.ajax[launchButtonId].options.url=url+"/"+lessonInfo.StatusCode+"/"+lessonInfo.SuspendData;}$("#"+launchButtonId).attr("href",href+"/"+lessonInfo.StatusCode+"/"+lessonInfo.SuspendData);
}});}}catch(e){}},callbackLoader:function(data,postdata,formid,updateShowMore){try{var default_cookie="&regstatuschk=lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att&del_type=&tra_type=&price=&scheduled=&reg=&due=&assignedby=&location=&selectedLocID=&searchText=&sortBy=AZ";if(document.getElementById("learner-enrollment-tab-inner")){var obj=$("#learner-enrollment-tab-inner").data("enrollment");}else{var obj=$("#lnr-catalog-search").data("enrollment");}obj.destroyLoader("enroll-result-container");if(Drupal.settings.mylearning_right===false){$(".clsenroll-result-container #pager").width($(".clsenroll-result-container").width()+4);}var postData=$("#paintEnrollmentResults").getGridParam("postData");delete postData.enrollmentId;delete postData.lessonId;if(document.getElementById("launch-content-container")&&data.triggering_enrollment_id&&data.triggering_lesson&&data.triggering_lesson_details){obj.updateMultiContentLaunchDialog(data.triggering_enrollment_id,data.triggering_lesson,data.triggering_lesson_details,data.triggering_content_quiz_status);
}$("#paintEnrollmentResults")[0].p.rowTotal=data.records;var recs=data.records;updateShowMore=((updateShowMore==undefined||updateShowMore==null)?true:updateShowMore);if(updateShowMore){$("#paintEnrollmentResults").data("totalrecords",recs);var showMore=$("#paintEnrollmentResults-show_more");if($("#paintEnrollmentResults").getGridParam("reccount")<recs){showMore.show();}else{showMore.hide();}}var data_from_sf=$("#salesforce_canvas_widget").attr("data-from-salesforce");if(typeof data_from_sf!==typeof undefined&&data_from_sf!==false&&data_from_sf=="1"){setTimeout(function(){if(recs<=0){if(Drupal.settings.myenrolmentSearchStr===default_cookie){$("#enroll-noresult-msg").show();}else{$("#enroll-nosearchresult-msg").show();}$("#enroll-result-container .sort-by-text").hide();$("#enroll-result-container .sort-by-links").hide();}else{$("#enroll-result-container .sort-by-text").show();$("#enroll-result-container .sort-by-links").show();}},100);}else{if(recs<=0){if(Drupal.settings.myenrolmentSearchStr===default_cookie){$("#enroll-noresult-msg").show();
}else{$("#enroll-nosearchresult-msg").show();}$("#enroll-result-container .sort-by-text").hide();$("#enroll-result-container .sort-by-links").hide();}else{$("#enroll-result-container .sort-by-text").show();$("#enroll-result-container .sort-by-links").show();}}var reccount=parseInt($("#paintEnrollmentResults").getGridParam("reccount"),10);var hideAllPageControls=true;if(recs>10){hideAllPageControls=false;}if(recs<=reccount){obj.hidePageControls(hideAllPageControls);}else{obj.showPageControls();}Drupal.attachBehaviors();$("body").data("learningcore").disableFiveStarOnVoting();$(".fivestar-click").click(function(){var fivestarClick=this;var fiveStarClass=$(this).attr("class");var pattern=/[0-9]+/;var rating=fiveStarClass.match(pattern);var nodeId=$(this).parents("form").siblings("input:hidden").val();var entity_type="Class";var param={rating:rating,nodeId:nodeId,entityType:entity_type};url=obj.constructUrl("learning/five-star-submit");$.ajax({type:"POST",url:url,data:param,success:function(result){if(result.average_rating=="AlreadyRated"){return false;
}else{$("body").data("learningcore").fiveStarCheck(nodeId,"enroll-node-");var average_stars=(result.average.value*5)/100;average_stars=average_stars.toFixed(1);var voteText=(result.count.value==1)?result.votemsg:result.votesmsg;var avgRating='<span class="total-votes"> (<span>'+result.count.value+"</span> "+voteText+")</span>";$(fivestarClick).parent("div").next("div.description").children("div.fivestar-summary").html(avgRating);}}});});$("#learner-enrollment-tab-inner").data("enrollment").shapeTheButton("paintEnrollmentResults");$("#enroll-result-container .ui-jqgrid-hdiv").css("display","none");$("#paintEnrollmentResults .jqgfirstrow").css("display","none");if(Drupal.settings.salesforce.type=="canvas"||Drupal.settings.salesforce.type=="iframe"){if(Drupal.settings.mylearning_right===false){var currentWidth=942;$("#paintEnrollmentResults").jqGrid("setGridWidth",currentWidth);}}var data_from_sf=$("#salesforce_canvas_widget").attr("data-from-salesforce");if(typeof data_from_sf!==typeof undefined&&data_from_sf!==false&&data_from_sf=="1"&&(navigator.userAgent.indexOf("Edge/")!=-1)){RefreshFadeoutForSF("#paintEnrollmentResults","item-title-code","line-item-container","mylearning");
Refreshtrunk8("myenrollments","limit-title-enr");}else{resetFadeOutByClass("#paintEnrollmentResults","item-title-code","line-item-container","mylearning");$(".limit-title-enr").trunk8(trunk8.myenroll_title);$(".limit-desc-enr").trunk8(trunk8.myenroll_desc);}vtip();$("#paintEnrollmentResults").showmore({grid:"#paintEnrollmentResults",gridWrapper:"#enroll-result-container",showMore:"#paintEnrollmentResults-show_more"});}catch(e){}},shapeTheButton:function(parentId){try{$("#"+parentId).find(".enroll-main-list").each(function(){var avlBtn=0;avlBtn+=($(this).children(".enroll-launch-gray").length>0)?1:0;avlBtn+=($(this).children(".enroll-launch-more-gray").length>0)?2:0;switch(avlBtn){case 2:$(this).children(".enroll-launch-more-gray").hide().siblings(".enroll-launch").wrap("<label class='enroll-launch-full'></label>");case 3:$(this).children(".enroll-launch-more-gray").hide().siblings(".enroll-launch-gray").wrap("<label class='enroll-launch-empty'></label>");}resetFadeOutByClass("#launch-wizard #paintEnrollmentResults","item-title-code","line-item-container","mylearning");
});}catch(e){}},paintLPSearchIcons:function(cellvalue,options,rowObject){try{var type="cre_sys_obt_cls";var deliverytypecode=rowObject.delivery_type_code;var html="";var iconType="";if(type=="cre_sys_obt_cls"){if(deliverytypecode=="lrn_cls_dty_ilt"){iconType="iltIcon";html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}else{if(deliverytypecode=="lrn_cls_dty_wbt"){iconType="wbtIcon";html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}else{if(deliverytypecode=="lrn_cls_dty_vcl"){iconType="vclIcon";html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}else{if(deliverytypecode=="lrn_cls_dty_vod"){iconType="vodIcon";html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}}}}}else{if(type=="cre_sys_obt_crt"){iconType="Cert_Icon";
html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}else{if(type=="cre_sys_obt_cur"){iconType="Curr_Icon";html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}else{if(type=="cre_sys_obt_trp"){iconType="TP Icon";html+="<div class="+iconType+">";html+='<div class="Crs_IconTitle"></div>';html+='<div class="Crs_IconTxt"></div>';html+="</div>";}}}}return html;}catch(e){}},setEnrStateInMsg:function(regActive){try{switch(regActive){case"Enrollmentpart":$("#enrollment-state").html((Drupal.t("Enrolled")).toLowerCase());break;case"EnrollCompleted":$("#enrollment-state").html(Drupal.t("Completed"));break;case"EnrollInCompleted":$("#enrollment-state").html((Drupal.t("Incomplete")).toLowerCase());break;case"EnrollExpired":$("#enrollment-state").html((Drupal.t("Expired")).toLowerCase());break;case"EnrollCanceled":$("#enrollment-state").html(Drupal.t("Canceled"));
break;case"EnrollPayments":$("#enrollment-state").html((Drupal.t("Pending")).toLowerCase());break;}}catch(e){}},callEnrollment:function(regStatus,regActive){try{$("#enroll-noresult-msg").hide();$("#enroll-nosearchresult-msg").hide();this.setEnrStateInMsg(regActive);var userId=this.enrUserId;var getRegStatus=(regStatus)?regStatus:"lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att";var searchStr="";searchStr="&UserID="+userId+"&regstatuschk="+getRegStatus;var url=this.constructUrl("learning/enrollment-search/all/"+searchStr);this.setSortTypeData(getRegStatus);$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#paintEnrollmentResults").setGridParam({url:url});$("#paintEnrollmentResults").trigger("reloadGrid",[{page:1}]);this.highlightCourseTab(regActive);$("#enroll-result-container .sort-by-links").find("li a").removeClass("sortype-high-lighter");$("#enroll-result-container .sort-by-links").find("li:first-child a").addClass("sortype-high-lighter");
if(this.currTheme=="expertusoneV2"){$("#learner-enrollment .sort-by-links").find("li a").removeClass("sortype-high-lighter");$("#learner-enrollment .sort-by-links").find("li:first-child a").addClass("sortype-high-lighter");}}catch(e){}},setSortTypeData:function(getRegStatus){try{var setdata="data={'currEnrMode':'"+getRegStatus+"'}";$("#sort-by-enroll").attr("data",setdata);}catch(e){}},highlightCourseTab:function(highlightId){try{var curTheme=themepath.split("/");var resTheme=curTheme[curTheme.length-1];if(resTheme=="expertusoneV2"){$("#learner-maincontent_tab3 ul li a#"+highlightId).parent("li").siblings("li").removeClass("selected");$("#learner-maincontent_tab3 ul li a#"+highlightId).parent("li").addClass("selected");}else{$("#learner-maincontent_tab3 ul li a").each(function(){$(this).removeClass("orange");});$("#learner-maincontent_tab3 ul li a#"+highlightId).addClass("orange");}}catch(e){}},paintEnrollmentTitle:function(cellvalue,options,rowObject){try{this.currTheme=Drupal.settings.ajaxPageState.theme;
var htmlVal="";var wobj=eval(options.colModel.widgetObj);var obj1=options.colModel.widgetObj;var baseType=rowObject.basetype;var dateValidTo=rowObject.valid_to;var dataDelType=rowObject.delivery_type;var dataDelTypeCode=rowObject.delivery_type_code;var dataRegStatus=rowObject.reg_status;var dataRegStatusCode=rowObject.reg_status_code;var RegStatusCode=rowObject.reg_status_code;var courseComplitionStatus=rowObject.reg_status;var RegStatusDate=rowObject.reg_status_date;var courseScore=rowObject.score;var quizStatus=rowObject.quiz_status;var dataId=rowObject.id;var courseId=rowObject.course_id;var classId=rowObject.class_id;var classTitle=rowObject.cls_title;var classCode=rowObject.cls_code;var courseTitle=rowObject.course_title;var courseTempId=rowObject.courseid;var session_id=rowObject.session_id;var SessStartDate=rowObject.session_start;var sessionStartDay=rowObject.session_start_day;var SessEndDate=rowObject.session_end;var shortDescription=encodeURIComponent(rowObject.description);var descriptionFull=encodeURIComponent(rowObject.descriptionfull);
var language=rowObject.language;var usertimezonecode=rowObject.usertimezonecode;var session_code=rowObject.session_code;var user_tzcode=rowObject.user_tzcode;var LocationName=rowObject.location_name;var LocationId=rowObject.location_id;var LocationAddr1=rowObject.location_addr1;var LocationAddr2=rowObject.location_addr2;var LocationCity=rowObject.location_city;var LocationState=rowObject.location_state;var LocationCountry=rowObject.location_country;var LocationZip=rowObject.location_zip;var LocationPhone=rowObject.location_phone;var regDate=rowObject.reg_date;var remDays=rowObject.remDays;var compDate=rowObject.comp_date;var updateDate=rowObject.updated_on;var startDateFormat=rowObject.session_start_format;var lnrAttach=rowObject.show_lnr_attach;var show_events=rowObject.show_events;var LessonLocation=rowObject.LessonLocation;var launch_data=rowObject.LaunchData;var suspend_data=rowObject.SuspendData;var exit=rowObject.CmiExit;var labelmsg=rowObject.labelmsg;var updated_by_ins_mngr_slf=rowObject.updated_by_ins_mngr_slf;
var created_by_ins_mngr_slf=rowObject.created_by_ins_mngr_slf;var compliance_compl_days=rowObject.compliance_complete_days;var compliance_compl_date=rowObject.compliance_complete_date;var compliance_val_days=rowObject.compliance_validity_days;var compliance_val_date=rowObject.compliance_validity_date;var compliance_expire=rowObject.compliance_expire;var usrId=rowObject.user_id;var compliance_expired_on_validity=rowObject.compliance_expired_on_validity;var daysRemaining="";var dayRemainVal="";var daysLeft="";var AttemptLeft="";var ValidityDays="";var contValidateMsg="";var classScore="";var mro=rowObject.mro;var mro_id=rowObject.mro_id;var assigned_by=unescape(rowObject.assigned_by).replace(/"/g,"&quot;");var FullName=rowObject.full_name.replace(/'/g,"\\'");var MandatoryOption=rowObject.mandatory;var IsCompliance=rowObject.is_compliance;var Managerid=rowObject.managerid;var UpdatedBy=rowObject.updated_by;var CreatedBy=rowObject.created_by;var UpdatedByName=rowObject.updated_by_name.replace(/'/g,"\\'");
var waitlist_priority=rowObject.waitlist_priority;var isLastRec=(typeof rowObject.is_last_rec!="undefined"&&rowObject.is_last_rec=="last")?"last":"";var diffDays=remDays;var complianceCompDate=(compliance_compl_days)?compliance_compl_days:compliance_compl_date;var is_exempted=rowObject.is_exempted;var exempted_by=rowObject.exempted_by.replace(/'/g,"\\'");var exempted_on=rowObject.exempted_on;var VersionNo="";var mroImageClass="";var mroImageClassArr=new Array();mroImageClassArr.cre_sys_inv_com='<span class="course-compliance-bg vtip" id="'+classId+mro_id+'" title="'+Drupal.t("Compliance")+'">'+Drupal.t("LBL743")+"</span>";mroImageClassArr.cre_sys_inv_man='<span class="course-mandatory-bg vtip" id="'+classId+mro_id+'" title="'+Drupal.t("Mandatory")+'">'+Drupal.t("M")+"</span>";mroImageClassArr.cre_sys_inv_opt='<span id="'+classId+mro_id+'" title="'+Drupal.t("Optional")+'"></span>';mroImageClassArr.cre_sys_inv_rec='<span class="course-recommended-bg vtip" id="'+classId+mro_id+'" title="'+Drupal.t("Recommended")+'">'+Drupal.t("LBL746")+"</span>";
if(IsCompliance==1){mroImageClass=mroImageClassArr.cre_sys_inv_com;}else{if(MandatoryOption=="Y"){mroImageClass=mroImageClassArr.cre_sys_inv_man;}else{mroImageClass=(mro==""||mro==null)?"":mroImageClassArr[mro_id];}}if(session_id==null){session_id="";}if(courseScore&&courseScore!=0&&courseScore!="0"&&dataRegStatusCode=="lrn_crs_cmp_cmp"){classScore=Drupal.t("LBL668")+" : "+courseScore;}if(quizStatus&&quizStatus!=""&&dataRegStatusCode=="lrn_crs_cmp_cmp"){quizStatus=Drupal.t("LBL1284")+" : "+Drupal.t(quizStatus);}var extendedClass="";switch(baseType){case"WBT":case"VOD":extendedClass="webvod_cls_code";break;case"ILT":case"VC":extendedClass="iltvc_cls_code";break;default:extendedClass="";break;}if((baseType=="WBT"||baseType=="VOD")&&((dataRegStatusCode=="lrn_crs_cmp_cmp")||(dataRegStatusCode=="lrn_crs_cmp_enr")||(dataRegStatusCode=="lrn_crs_cmp_inp"))){var i=0;var allCntId=[];for(j=0;j<rowObject.launch.length;j++){allCntId[j]=rowObject.launch[j].ContentId;}uniqueCntId=$.unique(allCntId);if(uniqueCntId.length==1&&rowObject.launch[0].ValidityDays!=""){var remValidityDays=(rowObject.launch[0].daysLeft!==undefined&&rowObject.launch[0].daysLeft!=null)?rowObject.launch[0].daysLeft:"";
if(remValidityDays<=0){var daysLBL=Drupal.t("Expired");remValidityDays="";}else{if(remValidityDays==1){var daysLBL=Drupal.t("LBL910");}else{if(remValidityDays>1){var daysLBL=Drupal.t("LBL605");}}}ValidityDays=Drupal.t("LBL604")+" : "+remValidityDays+" "+daysLBL;}if(uniqueCntId.length==1&&rowObject.launch[0].AttemptLeft!=""&&rowObject.launch[0].AttemptLeft!="notset"){contValidateMsg=rowObject.launch[0].contValidateMsg;AttemptLeft=Drupal.t("LBL202")+" : "+rowObject.launch[0].AttemptLeft;}if(uniqueCntId.length==1){VersionNo=Drupal.t("LBL1123")+" : "+rowObject.launch[0].VersionNum;}if(dateValidTo!=""&&dateValidTo!=null){var daystocount=new Date(dateValidTo);var srvDate=rowObject.launch[0].server_date_time;today=new Date(srvDate);var oneday=1000*60*60*24;daysRemaining=(Math.ceil((daystocount.getTime()-today.getTime())/(oneday)));if(daysRemaining<0){dayRemainVal=Drupal.t("Expired");}else{dayRemainVal=Drupal.t("LBL677")+": "+(daysRemaining);}}daysLeft=(rowObject.launch.length>0&&rowObject.launch[0].daysLeft!=undefined&&rowObject.launch[0].daysLeft!="")?rowObject.launch[0].daysLeft:"";
}var obj=options.colModel.widgetObj;var LocationNameArg=((LocationName!=null)?((unescape(LocationName).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):LocationName);var LocationAdd1Arg=((LocationAddr1!=null)?((unescape(LocationAddr1).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):LocationAddr1);var LocationAdd2Arg=((LocationAddr2!=null)?((unescape(LocationAddr2).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):LocationAddr2);var LocationcityArg=((LocationCity!=null)?((unescape(LocationCity).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):LocationCity);var data1="data={'RegId':'"+dataId+"','classCode':'"+escape(classCode)+"','BaseType':'"+baseType+"','shortDescription':'"+escape(shortDescription)+"','isTitle':'1','title':'"+escape(classTitle)+"','rowId':'"+dataId+"','CourseId':'"+courseId+"','show_events':'"+show_events+"','coursetempid':'"+courseTempId+"','regstatus':'"+dataRegStatusCode+"','regstatusDate':'"+RegStatusDate+"','regStatusCode':'"+RegStatusCode+"','classId':'"+classId+"','deliverytype':'"+dataDelTypeCode+"','daysRemaining':'"+daysRemaining+"','dataDelType':'"+dataDelType+"','SessStartDay':'"+sessionStartDay+"','startDateFormat':'"+startDateFormat+"','SessStartDate':'"+SessStartDate+"','SessEndDate':'"+SessEndDate+"','courseComplitionStatus':'"+courseComplitionStatus+"','courseScore':'"+courseScore+"','detailTab':'false','regDate':'"+regDate+"','compDate':'"+compDate+"','updateDate':'"+updateDate+"','isCompliance':'"+IsCompliance+"','remDays':'"+remDays+"','complianceCompleteDays' :'"+compliance_compl_days+"','complianceCompleteDate' :'"+compliance_compl_date+"','complianceValidityDays' :'"+compliance_val_days+"','complianceValidityDate' :'"+compliance_val_date+"','complianceExpire' : '"+compliance_expire+"','session_id' : '"+session_id+"','usertimezonecode' : '"+usertimezonecode+"','user_tzcode' : '"+user_tzcode+"','complianceExpiredOnValidity' : '"+compliance_expired_on_validity+"','contValidateMsg':'"+AttemptLeft+"','dayRemainVal':'"+dayRemainVal+"','daysLeft':'"+daysLeft+"','LessonLocation':'"+LessonLocation+"','launch_data':'"+launch_data+"','suspend_data':'"+suspend_data+"','exit':'"+exit+"','LocationName':'"+LocationNameArg+"','LocationId':'"+LocationId+"','LocationAddr1':'"+LocationAdd1Arg+"','LocationAddr2':'"+LocationAdd2Arg+"','LocationCity':'"+LocationcityArg+"','LocationState':'"+LocationState+"','LocationCountry':'"+LocationCountry+"','LocationZip':'"+LocationZip+"','LocationPhone':'"+LocationPhone+"','FullName':'"+FullName+"','MandatoryOption':'"+MandatoryOption+"','Managerid':'"+Managerid+"','UpdatedBy':'"+UpdatedBy+"','CreatedBy':'"+CreatedBy+"','UpdatedByName':'"+UpdatedByName+"','mro_type':'"+mro+"','assigned_by':'"+assigned_by+"','updated_by_ins_mngr_slf':'"+updated_by_ins_mngr_slf+"','created_by_ins_mngr_slf':'"+created_by_ins_mngr_slf+"','is_last_rec':'"+isLastRec+"','courseTitle':'"+escape(courseTitle)+"','is_exempted':'"+is_exempted+"','exempted_by':'"+exempted_by+"','exempted_on':'"+exempted_on+"','version_no':'"+VersionNo+"'}";
var html="";var inc=0;var passParams="";if(lnrAttach.length>0){$(lnrAttach).each(function(){inc=inc+1;passParams+="{";passParams+="'Id':'"+$(this).attr("attachment_id")+"'";passParams+=",'Title':'"+escape($(this).attr("reading_title"))+"'";passParams+=",'url':'"+encodeURI($(this).attr("reading_content")).replace(/'/g,"%27")+"'";passParams+="}";if(inc<lnrAttach.length){passParams+=",";}});}var attachdata="data=["+passParams+"]";var classSwitch=(baseType=="WBT"||baseType=="VOD")?"item-title-wbt":"item-title";var enrollFulltitle=unescape(classTitle);var isMRO="";if(mroImageClass!=""){isMRO=" enroll-course-title-mro";}html+='<div class="limit-title-row enroll-course-title'+isMRO+'">';html+='<span id="class_attachment_'+dataId+'" data="'+attachdata+'"></span>';var style="";var sessLength=rowObject.sessionDetails.length;if(sessLength>1){var titleClass="exp-sp-lnrenrollment-enrollmulses";}else{var titleClass="exp-sp-lnrenrollment-enrollsinses";}if(this.currTheme=="expertusoneV2"){style='style="display:none;"';
}html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" data="'+data1+'" class="title_close"  '+style+"  onclick='"+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+",true); '>&nbsp;</a>";html+='<span id="titleAccEn_'+dataId+'" class="'+classSwitch+' vtip" ><span class="limit-title limit-title-enr enroll-class-title vtip" title="'+unescape(classTitle).replace(/"/g,"&quot;")+'" href="javascript:void(0);">';html+='<span class="'+titleClass+'"/>';html+=enrollFulltitle;if(is_exempted!=1){html+="</span>"+mroImageClass+"</span>";}html+="</div>";var startTime=rowObject.session_start;var startDate=rowObject.session_start_format;var baseType=rowObject.basetype;var classId=rowObject.class_id;var viewcount=0;$("#class-accodion-"+dataId).live("click",function(){viewcount++;curObj=$(this).closest("tr").find(".item-long-desc");shortObj=$(this).closest("tr").find(".item-short-desc");elipsis=$(this).closest("tr").find(".item-elipsis");
desType=$(this).closest("tr").find(".more-text").children("a").attr("class");var isEven=function(viewcount){return(viewcount%2===0)?true:false;};if(isEven(viewcount)===false){$(curObj).show();$(elipsis).hide();$(shortObj).hide();$(this).closest("tr").find(".more-text").children(".show-short-text").removeClass("show-short-text");$(this).closest("tr").find(".more-text").children("a").addClass("show-full-text");}else{if(isEven(viewcount)===true){$(curObj).hide();$(elipsis).show();$(shortObj).show();$(this).closest("tr").find(".more-text").children(".show-full-text").removeClass("show-full-text");$(this).closest("tr").find(".more-text").children("a").addClass("show-short-text");}}});if(((baseType=="ILT")||(baseType=="VC"))&&(startTime!=null)){var sessLen=rowObject.sessionDetails.length;var sessLenEnd;var usertimezonecode=rowObject.usertimezonecode;var session_code=rowObject.sessionDetails[0].session_code;var user_tzcode=rowObject.user_tzcode;if(sessLen>1){sessLenEnd=sessLen-1;var sTime=rowObject.sessionDetails[0].session_start_format;
var sTimeForm=rowObject.sessionDetails[0].session_start_time_form;var eTime=rowObject.sessionDetails[sessLenEnd].session_end_format;var eTimeForm=rowObject.sessionDetails[sessLenEnd].session_end_time_form;var ecode=rowObject.sessionDetails[0].tz_code;startDateForTitle=sTime+' <span class="time-zone-text">'+sTimeForm+"</span> to "+eTime+' <span class="time-zone-text">'+eTimeForm+"</span>";if(baseType=="ILT"){startDateForTitle=sTime+' <span class="time-zone-text">'+sTimeForm+"</span> to "+eTime+' <span class="time-zone-text">'+eTimeForm+"</span> "+usertimezonecode+" "+user_tzcode;}var uTime=rowObject.sessionDetails[0].ilt_session_start_format;var uTimeForm=rowObject.sessionDetails[0].ilt_session_start_time_form;var rTime=rowObject.sessionDetails[sessLenEnd].ilt_session_end_format;var rTimeForm=rowObject.sessionDetails[sessLenEnd].ilt_session_end_time_form;startDateForTitleloc=uTime+' <span class="time-zone-text">'+uTimeForm+"</span> to "+rTime+' <span class="time-zone-text">'+rTimeForm+"</span> "+session_code+" "+ecode;
}else{var sTime=rowObject.sessionDetails[0].session_start_format;var sTimeForm=rowObject.sessionDetails[0].session_start_time_form;var eTime=rowObject.sessionDetails[0].session_start_end_format;var eTimeForm=rowObject.sessionDetails[0].session_end_time_form;var ecode=rowObject.sessionDetails[0].tz_code;startDateForTitle=sTime+' <span class="time-zone-text">'+sTimeForm+"</span> to "+eTime+' <span class="time-zone-text">'+eTimeForm+"</span>";if(baseType=="ILT"){startDateForTitle=sTime+' <span class="time-zone-text">'+sTimeForm+"</span> to "+eTime+' <span class="time-zone-text">'+eTimeForm+"</span> "+usertimezonecode+" "+user_tzcode;}var uTime=rowObject.sessionDetails[0].ilt_session_start_format;var uTimeForm=rowObject.sessionDetails[0].ilt_session_start_time_form;var rTime=rowObject.sessionDetails[0].ilt_session_start_end_format;var rTimeForm=rowObject.sessionDetails[0].ilt_session_end_time_form;startDateForTitleloc=uTime+' <span class="time-zone-text">'+uTimeForm+"</span> to "+rTime+' <span class="time-zone-text">'+rTimeForm+"</span> "+session_code+" "+ecode;
}var inc=0;var passParams="[";$(rowObject.sessionDetails).each(function(){inc=inc+1;var sessionfacName=(($(this).attr("session_name")!=null)?((unescape($(this).attr("session_name")).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):$(this).attr("session_name"));var sessionfacAddress1=(($(this).attr("session_address1")!=null)?((unescape($(this).attr("session_address1")).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):$(this).attr("session_address1"));var sessionfacAddress2=(($(this).attr("session_address2")!=null)?((unescape($(this).attr("session_address2")).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):$(this).attr("session_address2"));var sessionfacCity=(($(this).attr("session_city")!=null)?((unescape($(this).attr("session_city")).replace(/"/g,"&quot;")).replace(/'/g,"\\'")):$(this).attr("session_city"));var sInsName=(($(this).attr("session_instructor_name")===null)?"":((unescape($(this).attr("session_instructor_name")).replace(/"/g,"&quot;")).replace(/'/g,"\\'")));passParams+="{";passParams+="'sessionTitle':'"+(($(this).attr("session_title"))?escape($(this).attr("session_title")):"")+"',";
passParams+="'sessionDay':'"+$(this).attr("session_start_day")+"',";passParams+="'sessionDate':'"+$(this).attr("session_start_format")+" to "+$(this).attr("session_start_end_format")+"',";passParams+="'sessionSDate':'"+$(this).attr("session_start_format")+"',";passParams+="'sessionEDate':'"+$(this).attr("session_start_end_format")+"',";passParams+="'sessionSDayForm':'"+$(this).attr("session_start_time_form")+"',";passParams+="'sessionEDayForm':'"+$(this).attr("session_end_time_form")+"',";passParams+="'sessiontimezone':'"+$(this).attr("sess_timezone")+"',";passParams+="'usertimezone':'"+$(this).attr("user_timezone")+"',";passParams+="'sessionId':'"+$(this).attr("session_id")+"',";passParams+="'sessionDayloc':'"+$(this).attr("ilt_session_start_day")+"',";passParams+="'sessionDateloc':'"+$(this).attr("ilt_session_start_format")+" to "+$(this).attr("ilt_session_start_end_format")+"',";passParams+="'sessionSDateloc':'"+$(this).attr("ilt_session_start_format")+"',";passParams+="'sessionEDateloc':'"+$(this).attr("ilt_session_start_end_format")+"',";
passParams+="'sessionSDayFormloc':'"+$(this).attr("ilt_session_start_time_form")+"',";passParams+="'sessionEDayFormloc':'"+$(this).attr("ilt_session_end_time_form")+"',";passParams+="'usertimezonecode':'"+usertimezonecode+"',";passParams+="'session_code':'"+$(this).attr("session_code")+"',";passParams+="'user_tzcode':'"+$(this).attr("user_tzcode")+"',";passParams+="'tz_code':'"+$(this).attr("tz_code")+"',";passParams+="'sInsName':'"+sInsName+"',";passParams+="'sessionfacName':'"+sessionfacName+"',";passParams+="'sessionfacAddress1':'"+sessionfacAddress1+"',";passParams+="'sessionfacAddress2':'"+sessionfacAddress2+"',";passParams+="'sessionfacCountry':'"+escape($(this).attr("session_country"))+"',";passParams+="'sessionfacState':'"+escape($(this).attr("session_state"))+"',";passParams+="'sessionfacCity':'"+sessionfacCity+"',";passParams+="'sessionfacZipcode':'"+$(this).attr("session_zipcode")+"'";passParams+="}";if(inc<sessLen){passParams+=",";}});passParams+="]";}html+='<div class="enroll-class-title-info">';
html+='<div class="item-title-code '+extendedClass+'">';var statusDate="";var statusName="";if(RegStatusCode=="lrn_crs_cmp_enr"){statusDate=regDate;statusName=Drupal.t("LBL704");}else{if(RegStatusCode=="lrn_crs_cmp_cmp"){statusDate=compDate;statusName=Drupal.t("LBL027");}else{if(RegStatusCode=="lrn_crs_cmp_inc"){statusDate=compDate;statusName=Drupal.t("LBL1193");}else{if(RegStatusCode=="lrn_crs_reg_can"){statusDate=updateDate;statusName=Drupal.t("LBL026");}else{if(RegStatusCode=="lrn_crs_reg_ppm"){statusDate=regDate;statusName=Drupal.t("LBL704");}else{if(RegStatusCode=="lrn_crs_cmp_nsw"){statusDate=compDate;statusName=Drupal.t("LBL704");}else{statusDate=regDate;statusName=Drupal.t("LBL704");}}}}}}var pipe='<span class="enroll-pipeline">|</span>';html+='<div class="line-item-container float-left" ><span class="vtip" title="'+statusName+": "+statusDate+'">'+titleRestrictionFadeoutImage(statusName+" : "+statusDate,"exp-sp-lnrenrollment-status",200)+"</span></div>";if((RegStatusCode=="lrn_crs_cmp_enr"&&complianceCompDate!=""&&complianceCompDate!=null)){statusDate=complianceCompDate;
statusName=Drupal.t("LBL234");html+='<div class="line-item-container float-left">'+pipe;html+='<span class="vtip" title="'+statusName+": "+statusDate+'">'+titleRestrictionFadeoutImage(statusName+" : "+statusDate,"exp-sp-lnrenrollment-status",50)+"</span></div>";}if(RegStatusCode=="lrn_crs_cmp_enr"||RegStatusCode=="lrn_crs_cmp_cmp"||RegStatusCode=="lrn_crs_cmp_inp"){var progress="";var progressPercent=0;if(baseType=="VOD"){for(j=0;j<rowObject.launch.length;j++){var suspendData=(rowObject.launch[j].SuspendData!=undefined&&rowObject.launch[j].SuspendData!=null&&rowObject.launch[j].SuspendData!="")?JSON.parse(unescape(rowObject.launch[j].SuspendData)):null;progressPercent=progressPercent+(suspendData!=null&&!isNaN(parseFloat(suspendData.progress))?parseFloat(suspendData.progress):0);}progress+=Math.round(progressPercent/rowObject.launch.length)+"% "+Drupal.t("Completed");html+=((progress!=""))?'<div class="line-item-container float-left">'+(pipe):"";html+=((progress!="")?'<span class="vtip" title="'+progress+'">'+(titleRestrictionFadeoutImage(progress,"exp-sp-lnrenrollment-percentCompletion"))+"</span></div>":"");
}}var ClassLoc=(LocationName&&(LocationName!="")?(LocationName):"");var clslocation="clsLocationSingle";var clssession="clsSessionSingle";if(sessLen>1){clslocation="clsLocationMultiple";clssession="clsSessionMultiple";}var newdelType;if(dataDelTypeCode=="lrn_cls_dty_vcl"&&RegStatusCode=="lrn_crs_cmp_att"){newdelType=Drupal.t("Attended");html+=pipe+newdelType;}var ClassLoc=(LocationName&&(LocationName!="")?(LocationName):"");if(ClassLoc&&(RegStatusCode!="lrn_crs_cmp_cmp")){if(Drupal.settings.mylearning_right===false){html+='<div class="line-item-container float-left" >'+pipe+'<span class="vtip '+clslocation+'" title="'+unescape(ClassLoc).replace(/"/g,"&quot;")+'">'+titleRestrictionFadeoutImage(ClassLoc,"exp-sp-lnrenrollment-classloc",20)+"</span></div>";}else{html+=pipe+'<span class="vtip" title="'+unescape(ClassLoc).replace(/"/g,"&quot;")+'">'+titleRestrictionFadeoutImage(ClassLoc,"exp-sp-lnrenrollment-classloc",9)+"</span>";}}if(passParams&&(baseType=="ILT"||baseType=="VC")&&(RegStatusCode!="lrn_crs_cmp_cmp")){html+='<div class="line-item-container float-left" >'+pipe+'<span class="session-time-zone '+clssession+'" data="data='+passParams+'" id="session_det_popup'+classId+'" onmouseover=\'$("#learner-enrollment-tab-inner").data("enrollment").getSessionDetails(this,'+classId+',"'+baseType+"\");'>"+titleRestrictionFadeoutImage(startDateForTitle,"exp-sp-lnrenrollment-timezone")+"</span></div>";
if(baseType=="ILT"&&rowObject.sessionDetails[0].sess_timezone!=rowObject.sessionDetails[0].user_timezone){html+=qtip_popup_paint(classId,startDateForTitleloc,sessLen);}}if(RegStatusCode=="lrn_crs_cmp_cmp"){if(IsCompliance==1){if(compliance_val_date!=null&&compliance_val_date!=""){html+='<div class="line-item-container float-left">'+pipe;if(compliance_expire==true){html+="<span class='comp-label vtip' title='+Drupal.t('LBL028')+' : ' +compliance_val_date+'>"+titleRestrictionFadeoutImage(Drupal.t("LBL028")+" : "+compliance_val_date,"exp-sp-lnrenrollment-validitydays")+"</span>";}else{if(compliance_expire==false){html+="<span class='comp-label vtip' title='"+Drupal.t("LBL735")+" : "+compliance_val_date+"'>"+titleRestrictionFadeoutImage(Drupal.t("LBL735")+" : "+compliance_val_date,"exp-sp-lnrenrollment-validitydays")+"</span>";}}html+="</div>";}}}if(dataRegStatusCode=="lrn_crs_reg_wtl"&&waitlist_priority!=""){var wtlCount=SMARTPORTAL.t(rowObject.labelmsg["msg5"])+" : "+waitlist_priority;html+='<div class="line-item-container float-left" >'+pipe+"<span>"+titleRestrictionFadeoutImage(wtlCount,"exp-sp-lnrenrollment-waitlist",200)+"</span></div>";
}if(dataRegStatusCode=="lrn_crs_cmp_cmp"||dataRegStatusCode=="lrn_crs_cmp_inp"||dataRegStatusCode=="lrn_crs_cmp_enr"){html+="<span id='compTabDetails"+dataId+"' class='compTabDetails'>";html+=((AttemptLeft!="")?'<div class="line-item-container float-left">'+(pipe+'<span class="vtip" title="'+AttemptLeft+'">'+titleRestrictionFadeoutImage(AttemptLeft,"exp-sp-lnrenrollment-attemptsleft",200))+"</span></div>":"");html+=((ValidityDays!="")?'<div class="line-item-container float-left">'+(pipe+'<span class="vtip" title="'+ValidityDays+'">'+titleRestrictionFadeoutImage(ValidityDays,"exp-sp-lnrenrollment-validitydays",200))+"</span></div>":"");html+=((VersionNo!="")?'<div class="line-item-container float-left">'+(pipe+'<span class="vtip" title="'+VersionNo+'">'+titleRestrictionFadeoutImage(VersionNo,"exp-sp-lnrenrollment-version",200))+"</span></div>":"");if(dataRegStatusCode=="lrn_crs_cmp_cmp"){html+=((classScore!="")?'<div class="line-item-container float-left">'+(pipe+'<span class="vtip" title="'+classScore+'">'+titleRestrictionFadeoutImage(classScore,"exp-sp-lnrenrollment-score",200))+"</span></div>":"");
html+=((quizStatus!=""&&(ValidityDays!=""||AttemptLeft!=""||classScore!=""||progress!=""))?'<div class="line-item-container float-left">'+(pipe):"");html+=((quizStatus!=""&&(ValidityDays==""&&AttemptLeft==""&&classScore==""&&progress==""))?pipe:"");html+=((quizStatus!="")?'<span class="vtip" title="'+quizStatus+'">'+titleRestrictionFadeoutImage(quizStatus,"exp-sp-lnrenrollment-quizstatus")+"</span></div>":"");}html+="</span>";}else{html+=((AttemptLeft!="")?'<div class="line-item-container float-left">'+(pipe+titleRestrictionFadeoutImage(AttemptLeft,"exp-sp-lnrenrollment-attemptsleft",200))+"</div>":"");html+=((ValidityDays!="")?'<div class="line-item-container float-left">'+(pipe+titleRestrictionFadeoutImage(ValidityDays,"exp-sp-lnrenrollment-validitydays",200))+"</div>":"");html+=((classScore!="")?'<div class="line-item-container float-left">'+(pipe+titleRestrictionFadeoutImage(classScore,"exp-sp-lnrenrollment-score",200))+"</div>":"");}html+=" </div>";var displayDesc=decodeURIComponent(shortDescription)&&decodeURIComponent(descriptionFull);
var crsMoreType=dataDelTypeCode;html+='<div class="limit-desc-row '+crsMoreType+'">';html+='<span class="limit-desc limit-desc-enr vtip" id="classShortDesc_'+dataId+'"><span class="cls-learner-descriptions">'+displayDesc+"</span></span>";html+="</div>";html+='<div class="cp_seemore" id="seemore_'+dataId+'" onclick="seeMoreMyLearning('+dataId+",'myenrollmentclass');\">"+Drupal.t("LBL713")+"</div>";html+="</div>";return html;}catch(e){}},displayTip:function(elementid,messagecontent){try{if(!document.getElementById("tooltip"+elementid)){$("#"+elementid).qtip({content:'<div id="tooltip'+elementid+'" class="tooltiptop"></div><div class="tooltipmid">'+messagecontent+'</div><div class="tooltipbottom"></div>',show:{when:{event:"mouseover"},effect:"slide"},hide:{when:{event:"mouseout"},effect:"slide"},position:{adjust:{x:-75,y:0}},style:{width:325,background:"none","font-size":12,color:"#333333"}});}}catch(e){}},getSessionDetails:function(sessData,sessionId,baseType){try{var data=eval($(sessData).attr("data"));
var sessionDet="";if(!document.getElementById("session_det"+sessionId)){var sessionDet1="";$(data).each(function(){if(baseType=="ILT"){sessionDet1+="<span class='qtip_session enroll-session-time time-zone-ilt'>"+$(this).attr("sessionSDate")+" <span class='time-zone-text'>"+$(this).attr("sessionSDayForm")+"</span> to "+$(this).attr("sessionEDate")+"<span class='time-zone-text'> "+$(this).attr("sessionEDayForm")+"</span>   "+$(this).attr("usertimezonecode")+" "+$(this).attr("user_tzcode")+"</span>";}else{sessionDet1+="<span class='qtip_session enroll-session-time'>"+$(this).attr("sessionSDate")+" <span class='time-zone-text'>"+$(this).attr("sessionSDayForm")+"</span> to "+$(this).attr("sessionEDate")+"<span class='time-zone-text'> "+$(this).attr("sessionEDayForm")+"</span> </span>";}});$("#session_det_popup"+sessionId).qtip({content:'<div id="session_det'+sessionId+'" class="qtip_session_top tooltiptop"></div><div class="qtip_session_mid tooltipmid">'+sessionDet1+'</div><div class="qtip_session_bottom tooltipbottom"></div>',show:{when:{event:"mouseover"},effect:"slide"},hide:{when:{event:"mouseout"},effect:"slide"},position:{corner:{target:"bottomLeft",tooltip:"topLeft"}},style:{width:325,background:"none",border:"0",color:"#333333"}});
}}catch(e){}},getClassDetails:function(catdiv,accordionLink,parentObj){try{var data=eval(accordionLink.attr("data"));$("#openclose_enr_"+data.rowId).removeClass("title_open");$("#openclose_enr_"+data.rowId).addClass("title_close");var ostr="";$("#ClassDetailsMainDiv").remove();ostr+=parentObj.paintDetailsClassSection(data);catdiv.html(ostr);catdiv.css("display","block");$(".dt-child-row-En > td").attr("colSpan","6");$(".enrollment-class-table tr td.enroll-class-schedule").css("padding","0");}catch(e){}},getLocationDetails:function(data){try{var data=eval($(data).attr("data"));var enrollId=data.enrollId;var LocationName=data.LocationName;var LocationId=data.LocationId;var locAddr1=unescape(data.LocationAddr1);var locAddr2=unescape(data.LocationAddr2);var locCity=unescape(data.LocationCity);var locState=unescape(data.LocationState);var locCountryName=unescape(data.LocationCountry);var locZip=data.LocationZip;var locPhone=data.LocationPhone;var inQtip=$.inArray(enrollId,this.qtipListArr);if((inQtip==-1)){this.qtipListArr.push(enrollId);
var locValue="";locValue+="<span class='enroll-location-details'>"+LocationName+"</span>";if(locAddr1!=""&&locAddr1!=null){locValue+="<span class='enroll-location-details'>"+locAddr1+"</span>";}if(locAddr2!=""&&locAddr2!=null){locValue+="<span class='enroll-location-details'>"+locAddr2+"</span>";}if(locCity!=""&&locCity!=null){locValue+="<span class='enroll-location-details'>"+locCity+"</span>";if(locState==""&&locState!=null){locValue+="<br />";}}if(locState!=""&&locState!=null){if(locCity!=""&&locCity!=null){locValue+=", ";}locValue+="<span class='enroll-location-details'>"+locState+"</span>";}if(locZip!=""&&locZip!=null){locValue+="<span class='enroll-location-details'>"+locZip+"</span>";}if(locCountryName!=""&&locCountryName!=null){locValue+="<span class='enroll-location-details'>"+locCountryName+"</span>";}$("#paint-location"+enrollId).qtip({content:locValue,show:{when:{event:"mouseover"},effect:"slide"},hide:{when:{event:"mouseout"},effect:"slide"},position:{corner:{target:"bottomRight",tooltip:"topLeft"}},style:{width:250,background:"#dfe5eb",border:{radius:10,width:5,color:"#dfe5eb"},padding:5,tip:true,name:"cream",color:"#333333"}});
}}catch(e){}},paintDetailsClassSection:function(data){try{var ostr="";var dataInfo=data;var shortDescription=unescape(data.shortDescription);var classId=data.classId;var courseId=data.courseId;var enrollId=data.RegId;var clsTitle=data.title;var SessStartDate=data.SessStartDate;var SessStartDay=data.SessStartDay;var SessEndDate=data.SessEndDate;var sessionId=data.session_id;var user_tzcode=data.user_tzcode;var startDateFormat=data.startDateFormat;var updated_by_ins_mngr_slf=data.updated_by_ins_mngr_slf;var created_by_ins_mngr_slf=data.created_by_ins_mngr_slf;var baseType=data.BaseType;var regStatusCode=data.regStatusCode;var regstatusDate=data.regstatusDate;var show_events=data.show_events;var dayRemainVal=data.dayRemainVal;var complianceCompleteDays=data.complianceCompleteDays;var complianceCompleteDate=data.complianceCompleteDate;var complianceValidityDays=data.complianceValidityDays;var complianceValidityDate=data.complianceValidityDate;var complianceExpire=data.complianceExpire;var complianceExpiredOnValidity=data.complianceExpiredOnValidity;
var isCompliance=data.isCompliance;var fullName=data.FullName;var courseTitle=data.courseTitle;var noBorderLastRecClass=($("#pager").is(":visible")||data.is_last_rec!="last")?"":"noborder";var Obj=$("#learner-enrollment-tab-inner").data("enrollment");var userId=this.enrUserId;var RegStatusCode=data.regStatusCode;var regDate=data.regDate;var compDate=data.compDate;var updateDate=data.updateDate;var dateComnplete="";var dateEnrolled="";var isExtempted=data.is_exempted;var extemptedBy=data.exempted_by;var extemptedOn=data.exempted_on;eval(complianceExpire);ostr+='<td colspan="3"><div id="ClassDetailsMainDiv" class="enroll-accordian-div '+noBorderLastRecClass+'"> <div class="session-details-course-row-innertbl main-item-container">';ostr+='<div class="enroll-session-details course-row line-item-container">';ostr+='<span class="wbt-course-title course-label container">'+Drupal.t("Course")+" "+Drupal.t("LBL083")+' : </span><div class="course-desc"><span class="vtip" title="'+unescape(htmlEntities(courseTitle))+'">'+titleRestrictionFadeoutImage(unescape(htmlEntities(courseTitle)),"exp-sp-lnrenrollment-wbt-course-title",70)+"</span></div>";
ostr+="</div>";var dataDesc="data={'ClassId':'"+classId+"','ClassDesc':'"+shortDescription+"'}";var data1="data={'classId':'"+classId+"','courseId':'"+courseId+"','regStatusCode':'"+regStatusCode+"'}";if(RegStatusCode=="lrn_crs_cmp_enr"||RegStatusCode=="lrn_crs_cmp_inp"||RegStatusCode=="lrn_crs_cmp_att"){if(isExtempted==1){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("Waived")+" "+Drupal.t("by")+" : </span><div class='enr-status-cls status-desc'>"+extemptedBy+" "+Drupal.t("LBL945")+" "+extemptedOn+"</div></div>";}else{if(isCompliance==1){if(dataInfo.CreatedBy==0){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+Drupal.t("LBL432")+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}else{ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";
}}else{ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}}}else{if(RegStatusCode=="lrn_crs_cmp_cmp"){if(isCompliance==1){if(dataInfo.CreatedBy==0){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+Drupal.t("LBL432")+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}else{ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}ostr+="<div class='status-row line-item-container vtip' title='"+updated_by_ins_mngr_slf+"'><span class='status-label container"+((userId!=dataInfo.UpdatedBy)?" markcompletestatus":" completedby")+"'>"+((userId!=dataInfo.UpdatedBy)?Drupal.t("LBL747")+" "+Drupal.t("by"):Drupal.t("LBL681"))+" : </span><span class='enr-status-cls status-desc'>"+((userId!=dataInfo.UpdatedBy)?dataInfo.UpdatedByName:dataInfo.UpdatedByName)+" "+Drupal.t("LBL945")+" "+compDate+"</span></div>";
ostr+="</div>";}else{ostr+="<div class='status-row line-item-container'><span class='status-label container"+((userId!=dataInfo.UpdatedBy)?" markcompletestatus":" completedby")+"'>"+((userId!=dataInfo.UpdatedBy)?Drupal.t("LBL747")+" "+Drupal.t("by"):Drupal.t("LBL681"))+" : </span><span class='enr-status-cls status-desc'>"+((userId!=dataInfo.UpdatedBy)?dataInfo.UpdatedByName:dataInfo.UpdatedByName)+" "+Drupal.t("LBL945")+" "+compDate+"</span></div>";ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}}else{if(RegStatusCode=="lrn_crs_cmp_inc"||RegStatusCode=="lrn_crs_cmp_nsw"){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL1193")+" : </span><span class='enr-status-cls status-desc'>"+compDate+"</span></div>";if(isCompliance==1){if(dataInfo.CreatedBy==0){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+Drupal.t("LBL432")+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";
}else{ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}}else{ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";}}else{if(RegStatusCode=="lrn_crs_reg_can"){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL680")+" : </span><span class='enr-status-cls status-desc'>"+((userId!=dataInfo.UpdatedBy)?dataInfo.UpdatedByName:dataInfo.UpdatedByName)+" "+Drupal.t("LBL945")+" "+regstatusDate+"</span></div>";ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><div class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</div></div>";
}else{if(RegStatusCode=="lrn_crs_reg_ppm"||RegStatusCode=="lrn_crs_reg_wtl"){ostr+="<div class='status-row line-item-container'><span class='status-label container'>"+Drupal.t("LBL025")+" : </span><span class='enr-status-cls status-desc'>"+((userId!=dataInfo.Managerid)?dataInfo.FullName:dataInfo.FullName)+" "+Drupal.t("LBL945")+" "+regDate+"</span></div>";}}}}}if(document.getElementById("session_det_popup"+classId)){var sessionDet=eval($("#session_det_popup"+classId).attr("data"));var inc=1;var LocationName="";LocationName=dataInfo.LocationName;var sesinc=1;$(sessionDet).each(function(){if(sesinc==1){sesinc++;if(LocationName!="null"&&LocationName!=""){ostr+='<div class="sessAddDet location-row line-item-container"><span class="location-label container">'+Drupal.t("Location")+" :</span>";LocationName=LocationName+",";if(LocationName.length>110){loctitle=titleRestrictionFadeoutImage(unescape(LocationName),"exp-sp-myenroll-loc",110);}else{loctitle=unescape(LocationName);}ostr+='<div class="location-desc"><span class="name-add"> <span class="vtip" title="'+unescape(htmlEntities(LocationName))+'">'+loctitle+"</span> </span>";
}if($(this).attr("sessionfacAddress1")!="null"&&$(this).attr("sessionfacAddress1")!=""){ostr+='<span class="fac-add-a">'+unescape($(this).attr("sessionfacAddress1"))+",</span>";}if($(this).attr("sessionfacAddress2")!="null"&&$(this).attr("sessionfacAddress2")!=""){ostr+='<span class="fac-add-b">'+unescape($(this).attr("sessionfacAddress2"))+",</span>";}if($(this).attr("sessionfacCity")!="null"&&$(this).attr("sessionfacCity")!=""){ostr+='<span class="city-add">'+unescape($(this).attr("sessionfacCity"))+",</span>";}if($(this).attr("sessionfacState")!="null"&&$(this).attr("sessionfacState")!=""){ostr+='<span class="state-add">'+unescape($(this).attr("sessionfacState"))+",</span>";}if($(this).attr("sessionfacCountry")!="null"&&$(this).attr("sessionfacCountry")!=""){ostr+='<span class="country-add">'+unescape($(this).attr("sessionfacCountry"))+",</span>";}if($(this).attr("sessionfacZipcode")!="null"&&$(this).attr("sessionfacZipcode")!=""){ostr+='<span class="zip-add">'+$(this).attr("sessionfacZipcode")+"</span></div>";
}if(LocationName!="null"&&LocationName!=""){ostr+="</div>";}}});ostr+='</div><div class="enroll-session-details session-row main-item-container"><span class="session-label session-container">'+Drupal.t("LBL277")+' :</span><div class="session-desc ">';$(sessionDet).each(function(){var usertimezonecodes=$(this).attr("sessionTitle");var locationsess='<div class="sessDate">'+$(this).attr("sessionSDateloc")+" <span class='time-zone-text'>"+$(this).attr("sessionSDayFormloc")+"</span> to "+$(this).attr("sessionEDateloc")+" <span class='time-zone-text'>"+$(this).attr("sessionEDayFormloc")+"</span>"+$(this).attr("session_code")+" "+$(this).attr("tz_code")+"</div>";var sesionsH=($(this).attr("sessionTitle")!="")?unescape($(this).attr("sessionTitle")):"&nbsp;";var sesionInsName=($(this).attr("sInsName")!="")?unescape($(this).attr("sInsName")):"&nbsp;";if(Drupal.settings.mylearning_right===false){var sesionsHead=titleRestrictionFadeoutImage(sesionsH,"exp-sp-lnrenrollment-sesions-head",50);}else{var sesionsHead=titleRestrictionFadeoutImage(sesionsH,"exp-sp-lnrenrollment-sesions-head",24);
}var sesInstName=titleRestrictionFadeoutImage(sesionInsName,"exp-sp-lnrenrollment-instructor-names");ostr+='<div class="sessionDet">';ostr+='<div class="cls-sessionTitle-container line-item-container"><div class="lbl-sessionTitle sessionDetlbl container">'+Drupal.t("LBL107")+' :</div> <div class="vtip sessName" title="'+(($(this).attr("sessionTitle")!="")?htmlEntities(unescape($(this).attr("sessionTitle"))):"&nbsp;")+'">'+sesionsHead+"</div></div>";ostr+='<div class="cls-sessDate-container line-item-container"><div class="lbl-sessionDate sessionDetlbl container">'+Drupal.t("LBL042")+' :</div> <div class="session-day-date-container"> <div class="sessDay">'+$(this).attr("sessionDay")+"</div>";if(baseType=="ILT"){ostr+='<div class="sessDate">'+$(this).attr("sessionSDate")+" <span class='time-zone-text'>"+$(this).attr("sessionSDayForm")+"</span> to "+$(this).attr("sessionEDate")+" <span class='time-zone-text'>"+$(this).attr("sessionEDayForm")+"</span> "+$(this).attr("usertimezonecode")+" "+user_tzcode+"</div>";
}else{ostr+='<div class="sessDate">'+$(this).attr("sessionSDate")+" <span class='time-zone-text'>"+$(this).attr("sessionSDayForm")+"</span> to "+$(this).attr("sessionEDate")+" <span class='time-zone-text'>"+$(this).attr("sessionEDayForm")+"</span></div>";}if(baseType=="ILT"&&$(this).attr("sessiontimezone")!=$(this).attr("usertimezone")){ostr+=qtip_popup_paint($(this).attr("sessionId"),locationsess,"",1);}ostr+="</div></div>";ostr+='<div class="cls-sessionInstructor-container line-item-container"><div class="lbl-sessionInstructor sessionDetlbl container">'+Drupal.t("Instructor")+' :</div> <div class="vtip sessionInstructor-val" title="'+(($(this).attr("sInsName")!="")?htmlEntities(unescape($(this).attr("sInsName"))):"")+'">'+sesInstName+"</div></div>";ostr+="</div>";inc++;});ostr+="</div></div>";}var attachData=eval($("#class_attachment_"+enrollId).attr("data"));if(attachData.length>0){ostr+='<div class="enroll-attach attach-row"><div class="wbtClass-attachment-title attach-label"><span class="attach-title">'+Drupal.t("LBL231")+' :</span><div class="attach-info">'+Drupal.t("LBL232")+"</div></div>";
ostr+="<div class='attach-desc'><ul class='enroll-attach-listitems'>";var len=attachData.length;var inc=1;$(attachData).each(function(){var attachment_url=unescape(saniztizeJSData($(this).attr("Title")));attachment_url=titleRestrictionFadeoutImage(attachment_url,"exp-sp-lnrenrollment-attachment-name");ostr+="<li class='vtip' title='"+unescape(saniztizeJSData($(this).attr("Title")))+"'><a href='javascript:void(0);' name='Attachment' onclick='openAttachmentCommon(\""+$(this).attr("url")+"\")'>"+attachment_url+"</a>"+((len==inc)?"":"<span class='enroll-pipeline'>|</span>")+"</li>";inc++;});ostr+="</ul></div></div>";}ostr+="</div></td>";return ostr;}catch(e){}},getClassOption:function(enrollId,regStatusCode){try{if($("#class-option-"+enrollId).html()==""){this.createLoader("ClassDetailsMainDiv");var url=this.constructUrl("ajax/class-option/"+enrollId);var obj=this;$.ajax({type:"POST",url:url,success:function(result){obj.destroyLoader("ClassDetailsMainDiv");$("#class-option-"+enrollId).slideDown(1000);
obj.classOptionPaint(result,enrollId,regStatusCode);$("#show-alternative-events_"+enrollId).css("display","none");$("#hide-alternative-events_"+enrollId).css("display","block");}});}else{$("#class-option-"+enrollId).slideDown(1000);$("#show-alternative-events_"+enrollId).css("display","none");$("#hide-alternative-events_"+enrollId).css("display","block");}}catch(e){}},getClassOptionHide:function(enrollId){try{$("#class-option-"+enrollId).slideUp(1000);$("#hide-alternative-events_"+enrollId).css("display","none");$("#show-alternative-events_"+enrollId).css("display","block");}catch(e){}},classOptionPaint:function(data,enrollId,regStatusCode){try{var res_length=data.length;var rhtml="";var c;var courseId;var classId;var classCode;var ScheduledClassId;var NodeId;var StartDate;var EndDate;var clsTitle;var DeliveryType;var clsAddEven;if(res_length>0){rhtml+="<table border='0' cellpadding='0' class='enroll-show-moreevent' cellspacing='0' width='100%'>";for(c=0;c<data.length;c++){courseId=data[c]["courseid"];
classId=data[c]["classid"];classCode=unescape(data[c]["code"]);NodeId=data[c]["nodeid"];StartDate=data[c]["startdateformat"];StartTime=data[c]["starttime"];EndTime=data[c]["endtime"];DeliveryType=data[c]["deliverytype"];clsTitle=data[c]["name"];StartDate=(StartDate!=null)?StartDate:"";StartTime=(StartTime!=null)?StartTime:"-";EndTime=(EndTime!=null)?EndTime:"-";var curDay="-";if(StartDate!=""){var myDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var myDate=new Date(eval('"'+StartDate+'"'));curDay=myDays[myDate.getDay()];}else{StartDate="-";}clsAddEven=(c%2==0)?"odd":"even";var isSwitchLink="";if(regStatusCode=="lrn_crs_cmp_enr"||regStatusCode=="lrn_crs_cmp_inp"){isSwitchLink="<a href='javascript:void(0);' class='actionLink' name='Select' onclick='"+this.widgetObj+".switchEnroll("+classId+","+enrollId+',"'+clsTitle+"\");' >"+SMARTPORTAL.t("Select")+"</a>";}rhtml+='<tr class="'+clsAddEven+'">';rhtml+='<td class="enrollment-class-name">'+clsTitle+"</td>";rhtml+='<td class="enrollment-class-day">'+curDay+"</td>";
rhtml+='<td class="enrollment-class-date">'+StartDate+"</td>";rhtml+='<td class="enrollment-class-start">'+StartTime+"</td>";rhtml+='<td class="enrollment-class-end">'+EndTime+"</td>";rhtml+='<td class="enroll-show-select">'+isSwitchLink+"</td>";rhtml+="</tr>";}rhtml+="</table>";}else{rhtml+="No Events";}$("#class-option-"+enrollId).html(rhtml);$(".enroll-show-moreevent tr:last").css("border-bottom","0px");}catch(e){}},switchEnroll:function(classId,enrollId,classTitle){try{if(availableFunctionalities.exp_sp_commerce!=undefined&&availableFunctionalities.exp_sp_commerce!=""){this.confirmPricedEvent(classId,classTitle);}else{this.createLoader("class-option-"+enrollId);var url=this.constructUrl("ajax/switch-enroll/"+classId+"/"+enrollId);var obj=this;$.ajax({type:"POST",url:url,success:function(result){obj.destroyLoader("class-option-"+enrollId);obj.callEnrollment("lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att","Enrollmentpart");}});}}catch(e){}},confirmPricedEvent:function(cid,vTitle){try{$("#div-confirm-price").remove();
var message="<div id='div-confirm-price' >";message+="<div class='dialogInner'>"+Drupal.t("MSG399")+"<br />"+Drupal.t("MSG400")+"</div>";message+="</div>";$("body").append(message);var closeButt={};closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#div-confirm-price").remove();};$("#div-confirm-price").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:500,resizable:false,modal:true,title:vTitle,buttons:closeButt,closeOnEscape:false,draggable:true,overlay:{opacity:0.9,background:"black"}});$("#div-confirm-price").show();$(".ui-dialog-titlebar-close").click(function(){$("#div-confirm-price").remove();});}catch(e){}},getLaunchDetails:function(enrollId){try{var passdata=$("#launch"+enrollId).attr("data");var data=eval($("#launch"+enrollId).attr("data"));var html='<div id="launch-content-container">';html+='<table id="paintEnrollmentResults" cellpadding="0" cellspacing="0" width="100%" border="0" class="enrollment-launch-table">';
var lesCnt=0;var obj=this.widgetObj;var widgetObj=this;var contentArr=new Array();$(data).each(function(){$(this).each(function(){var IsLaunchable=eval($(this).attr("IsLaunchable"));var launchFrom="";if(this.LaunchFrom=="CL"){var launchFrom=$(this).attr("LaunchFrom");}var contValidateMsg=$(this).attr("contValidateMsg");var contentType=$(this).attr("launchType");var contentId=$(this).attr("ContentId");var VersionId=$(this).attr("VersionId");var lcnt=$(this).attr("Lessoncnt");var pipe='<span class="enroll-pipeline">|</span>';var AvailableScore=($(this).attr("ContScore")=="")?"":$(this).attr("ContScore");var contentQuizStatus="";var launchInfo=data;var contentQuizStatus=widgetObj.getConsolidatedQuizStatus(contentId,launchInfo);var score="";if(AvailableScore!=null&&AvailableScore!=undefined&&AvailableScore!=""&&AvailableScore!="0.00"){var score='<div class="line-item-container float-left">'+pipe+'<span class="vtip" title="'+Drupal.t("LBL668")+": "+AvailableScore+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL668")+": "+AvailableScore,"exp-sp-lnrenrollment-score")+"</span></div>";
}if(contentQuizStatus!=null&&contentQuizStatus!=undefined&&contentQuizStatus!=""){contentQuizStatus='<div class="line-item-container float-left">'+pipe+'<span class="vtip" title="'+Drupal.t("LBL1284")+" : "+Drupal.t(contentQuizStatus)+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL1284")+" : "+Drupal.t(contentQuizStatus),"exp-sp-lnrenrollment-sucstatus")+"</span></div>";}var attemptsLeft="";var attemptsLeft=($(this).attr("AttemptLeft")=="notset")?"":$(this).attr("AttemptLeft");if(attemptsLeft!==""){attemptsLeft='<div class="line-item-container float-left" >'+pipe+'<span class="vtip" title="'+Drupal.t("LBL202")+" : "+attemptsLeft+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL202")+" :  "+attemptsLeft,"exp-sp-lnrenrollment-attemptsleft")+"</span></div>";}var validityDays=($(this).attr("ValidityDays")=="")?"":$(this).attr("ValidityDays");var diffDays=$(this).attr("remDays");if(validityDays!==""){var remValidityDays=($(this).attr("daysLeft")!==undefined&&$(this).attr("daysLeft")!=null&&$(this).attr("daysLeft")!=="null")?$(this).attr("daysLeft"):"";
if(remValidityDays<=0){var daysLBL=Drupal.t("Expired");remValidityDays="";}else{if(remValidityDays==1){var daysLBL=Drupal.t("LBL910");}else{if(remValidityDays>1){var daysLBL=Drupal.t("LBL605");}}}validityDays='<div class="line-item-container float-left" >'+pipe+'<span class="vtip" title="'+Drupal.t("LBL604")+" : "+remValidityDays+" "+daysLBL+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL604")+" : "+remValidityDays+" "+daysLBL,"exp-sp-lnrenrollment-validitydays")+"</span></div>";}var percentCompleted="";if(contentType=="VOD"){var suspend_data=($(this).attr("suspend_data")!=null&&$(this).attr("suspend_data")!="")?JSON.parse(unescape($(this).attr("suspend_data"))):null;var progress=suspend_data!=null?suspend_data.progress:0;progress=isNaN(parseFloat(progress))?0:Math.round(progress);percentCompleted='<div class="line-item-container float-left" >'+pipe+'<span class="vtip" title="'+progress+"% "+Drupal.t("Completed")+'">'+titleRestrictionFadeoutImage(progress+"% "+Drupal.t("Completed"),"exp-sp-lnrenrollment-percentCompletion",200)+"</span></div>";
}var versionNo=$(this).attr("VersionNum");if(versionNo!==""){versionNo='<div class="line-item-container float-left" >'+pipe+'<span class="vtip" title="'+Drupal.t("LBL1123")+" : "+versionNo+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL1123")+" :  "+versionNo,"exp-sp-lnrenrollment-versionNo")+"</span></div>";}var Dstatus=Drupal.t("In progress");var Dstatus1=Drupal.t("Incomplete");var Dstatus2=Drupal.t("Completed");if($.inArray(contentId,contentArr)==-1){contentArr.push(contentId);var lessonId=$(this).attr("Id");var contentStatus=($(this).attr("ContentStatus")=="")?Drupal.t("MSG511"):Drupal.t($(this).attr("ContentStatus"));if(contentType=="VOD"){contentStatus=($(this).attr("Status")=="")?Drupal.t("MSG511"):$(this).attr("Status");}html+='<tr id="lesson-launch-'+contentId+'">';html+='<td class="enroll-launch-column1">';html+='<div class="enroll-course-title">';html+='<span id="lesson_title_'+contentId+'"></span>';if(lcnt>1){html+='<a id="lesson-accodion-'+contentId+'" href="javascript:void(0);" data="'+passdata+'" class="title_close" onclick=\''+obj+'.addAccordionInLessonView(this.className, "0 0", "0 -61px", "dt-child-row-En", '+obj+".getLessonViewDetails, this, "+obj+", true);'>&nbsp;</a>";
}if(lcnt>1){html+='<span id="titleAccEn_'+contentId+'" class="item-title multilesswidth" >';}else{html+='<span id="titleAccEn_'+contentId+'" class="item-title" >';}html+='<span class="enroll-class-title"><span class="vtip" title="'+unescape($(this).attr("ContentTitle")).replace(/"/g,"&quot;")+'" href="javascript:void(0);">';html+=titleRestrictionFadeoutImage(decodeURIComponent(unescape($(this).attr("ContentTitle"))),"exp-sp-lnrenrollment-content-title",45)+"</span></br>";html+='<div class="item-title-code individual-content">';html+='<span id="lesson_status_'+contentId+'"><div class="line-item-container float-left" ><span title="'+Drupal.t("LBL102")+": "+Drupal.t(contentStatus)+'" class="vtip">'+titleRestrictionFadeoutImage(Drupal.t("LBL102")+": "+Drupal.t(contentStatus),"exp-sp-lnrenrollment-contentstatus",200)+"</span></div>"+score+contentQuizStatus+attemptsLeft+validityDays+percentCompleted+versionNo;html+="</span></div>";html+="</span>";html+="</span>";html+="</div>";html+="</td>";html+='<td class="enroll-launch-column2">';
if(lcnt==1||contentType=="VOD"){var IsLaunchable=eval($(this).attr("IsLaunchable"));var contValidateMsg=$(this).attr("contValidateMsg");var contentType=$(this).attr("launchType");var lessonId=$(this).attr("Id");if(contentType=="VOD"){var title=$(this).attr("Title");title=encodeURIComponent(title.replace(/\//g,"()|()"));var suspend_data=($(this).attr("suspend_data")!=null&&$(this).attr("suspend_data")!="")?JSON.parse(unescape($(this).attr("suspend_data"))):null;callLaunchUrlFn='href="/?q=learning/nojs/play_video/';callLaunchUrlFn+=title+"/";callLaunchUrlFn+=escape($(this).attr("contentSubTypeCode"))+"/";callLaunchUrlFn+=escape($(this).attr("url1").replace(/\//g,"()|()"))+"/";callLaunchUrlFn+="ME/";callLaunchUrlFn+=$(this).attr("courseId")+"/";callLaunchUrlFn+=$(this).attr("classId")+"/";callLaunchUrlFn+=$(this).attr("Id")+"/";callLaunchUrlFn+=$(this).attr("VersionId")+"/";callLaunchUrlFn+=$(this).attr("enrollId")+"/";callLaunchUrlFn+=escape($(this).attr("StatusCode"))+"/";callLaunchUrlFn+=$(this).attr("suspend_data")+'"';
}else{var params="";if(launchFrom=="CL"){params="{'ContentId':'"+contentId+"','LaunchFrom':'"+launchFrom+"','Id':'"+$(this).attr("Id")+"','enrollId':'"+$(this).attr("enrollId")+"','VersionId':'"+$(this).attr("VersionId")+"','url1':'"+$(this).attr("url1")+"','courseId':'"+$(this).attr("courseId")+"','classId':'"+$(this).attr("classId")+"','url2':'"+$(this).attr("url2")+"','AICC_SID':'"+$(this).attr("AICC_SID")+"','ErrMsg':'"+$(this).attr("ErrMsg")+"','contentType':'"+$(this).attr("contentType")+"','Status':'"+$(this).attr("Status")+"' }";}else{params="{'Id':'"+$(this).attr("Id")+"','enrollId':'"+$(this).attr("enrollId")+"','VersionId':'"+$(this).attr("VersionId")+"','url1':'"+$(this).attr("url1")+"','courseId':'"+$(this).attr("courseId")+"','classId':'"+$(this).attr("classId")+"','url2':'"+$(this).attr("url2")+"','AICC_SID':'"+$(this).attr("AICC_SID")+"','ErrMsg':'"+$(this).attr("ErrMsg")+"','contentType':'"+$(this).attr("contentType")+"','Status':'"+$(this).attr("Status")+"'}";}if(launchFrom=="CL"){callLaunchUrlFn="onclick=\"$('#lnr-catalog-search').data('contentLaunch').launchWBTContent("+params+')"';
}else{callLaunchUrlFn="onclick=\"$('#learner-enrollment-tab-inner').data('contentLaunch').launchWBTContent("+params+')"';}}var lessonLocation=$(this).attr("LessonLocation");var launchData=$(this).attr("launch_data");var suspendData=$(this).attr("suspend_data");var exit=$(this).attr("exit");lessonLocation=lessonLocation==null||lessonLocation=="null"?"":lessonLocation;launchData=launchData==null||launchData=="null"?"":launchData;suspendData=suspendData==null||suspendData=="null"?"":suspendData;exit=exit==null||exit=="null"?"":exit;var relaunchInfo="";relaunchInfo+="{";relaunchInfo+="'lessonlocation':'"+lessonLocation+"'";relaunchInfo+=",'launchData':'"+launchData+"'";relaunchInfo+=",'suspendData':'"+suspendData+"'";relaunchInfo+=",'exit':'"+exit+"'";relaunchInfo+="}";var relaunchData="["+relaunchInfo+"]";var dataparam='data="'+params+'"';var ajaxCss=((contentType=="VOD")&&(IsLaunchable))?" use-ajax ctools-modal-ctools-video-style ":" ";html+='<div class="enroll-main-list">';html+='<label id="'+$(this).attr("Id")+"_"+$(this).attr("enrollId")+'_launch_button_lbl" class="'+((IsLaunchable)?"enroll-launch-full":"enroll-launch-empty")+' launch_button_lbl">';
html+='<input type="button" id="'+$(this).attr("Id")+"_"+$(this).attr("enrollId")+'_launch_button" class="'+((IsLaunchable)?"actionLink":"")+ajaxCss+' enroll-launch" data-relaunch="'+relaunchData+'" value="'+Drupal.t("LBL199")+'" '+((IsLaunchable)?callLaunchUrlFn:"")+((launchFrom=="CL")?dataparam:"")+" >";html+="</label>";html+="</div>";}html+="</td></tr>";}});});html+="</table>";html+="</div>";return html;}catch(e){}},getLessonViewDetails:function(catdiv,accordionLink,parentObj){try{return"";}catch(e){}},addAccordionInLessonView:function(openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove){try{this.currTheme=Drupal.settings.ajaxPageState.theme;var currTrStr=$(obj).parent().parent().parent().attr("id");currTrStr=currTrStr.split("-");var currTr=currTrStr[2];if(!document.getElementById(currTr+"LessonSubGrid")){$("#lesson-launch-"+currTr).after("<tr id='"+currTr+"LessonSubGrid'></tr>");$("#"+currTr+"LessonSubGrid").show();$("#lesson-accodion-"+currTr).removeClass("title_close");
$("#lesson-accodion-"+currTr).addClass("title_open");$("#lesson-launch-"+currTr).css("border-bottom","none 0px");$("#"+currTr+"LessonSubGrid").slideDown(300);var data=eval($("#lesson-accodion-"+currTr).attr("data"));var lessonDetSec=this.paintLessonSection(data,currTr);$("#"+currTr+"LessonSubGrid").html(lessonDetSec);}else{var clickStyle=$("#"+currTr+"LessonSubGrid").css("display");if((clickStyle=="none")||(clickStyle=="undefined")){$("#"+currTr+"LessonSubGrid").show();$("#"+currTr+"LessonSubGrid").slideDown(300);$("#lesson-accodion-"+currTr).removeClass("title_close");$("#lesson-accodion-"+currTr).addClass("title_open");$("#lesson-launch-"+currTr).css("border-bottom","none 0px");}else{$("#"+currTr+"LessonSubGrid").hide();$("#"+currTr+"LessonSubGrid").slideUp(300);$("#lesson-accodion-"+currTr).removeClass("title_open");$("#lesson-accodion-"+currTr).addClass("title_close");$("#lesson-launch-"+currTr).removeClass("ui-widget-content");$("#lesson-launch-"+currTr).css("border-bottom","1px solid #cccccc");
}}if(this.currTheme=="expertusoneV2"){$(".enrollment-launch-table tr:last-child").css("border","0px");}$(".launch-lesson-view").each(function(){$(this).parents("tr").children("td").css({"padding-top":"0px","border-top":"0"});$(".enrollment-launch-table").find("tbody tr:visible:last").last().css("border","0px");$(".enrollment-launch-table").find("tbody tr td tr:visible:last-child").css("border","0px");});if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").data("enrollment").scrollBarContentDialog();}else{$("#learner-enrollment-tab-inner").data("enrollment").scrollBarContentDialog();}resetFadeOutByClass(".launch-lesson-view","item-title-code","line-item-container","MyEnrollments");vtip();}catch(e){}},paintLessonSection:function(data,paramContId){try{var data=eval(data);var lesCnt=0;var obj=this.widgetObj;var ostr="";ostr+='<td colspan="2"><div class="enroll-accordian-div">';ostr+='<table class="launch-lesson-view" cellpadding="0" cellspacing="0" width="100%" border="0">';
$(data).each(function(){$(this).each(function(){var contentId=$(this).attr("ContentId");if(paramContId==contentId){lesCnt++;var params="";var IsLaunchable=eval($(this).attr("IsLaunchable"));var launchFrom="";if(this.LaunchFrom=="CL"){var launchFrom=$(this).attr("LaunchFrom");}var contValidateMsg=$(this).attr("contValidateMsg");var contentType=$(this).attr("launchType");var VersionId=$(this).attr("VersionId");var lessonId=$(this).attr("Id");if(launchFrom=="CL"){params="{'LaunchFrom':'"+launchFrom+"','Id':'"+$(this).attr("Id")+"','enrollId':'"+$(this).attr("enrollId")+"','VersionId':'"+$(this).attr("VersionId")+"','url1':'"+$(this).attr("url1")+"','courseId':'"+$(this).attr("courseId")+"','classId':'"+$(this).attr("classId")+"','url2':'"+$(this).attr("url2")+"','AICC_SID':'"+$(this).attr("AICC_SID")+"','ErrMsg':'"+$(this).attr("ErrMsg")+"','contentType':'"+$(this).attr("contentType")+"','Status':'"+$(this).attr("Status")+"'}";}else{params="{'Id':'"+$(this).attr("Id")+"','enrollId':'"+$(this).attr("enrollId")+"','VersionId':'"+$(this).attr("VersionId")+"','url1':'"+$(this).attr("url1")+"','courseId':'"+$(this).attr("courseId")+"','classId':'"+$(this).attr("classId")+"','url2':'"+$(this).attr("url2")+"','AICC_SID':'"+$(this).attr("AICC_SID")+"','ErrMsg':'"+$(this).attr("ErrMsg")+"','contentType':'"+$(this).attr("contentType")+"','Status':'"+$(this).attr("Status")+"'}";
}if(launchFrom=="CL"){callLaunchUrlFn="onclick=\"$('#lnr-catalog-search').data('contentLaunch').launchWBTContent("+params+')"';}else{callLaunchUrlFn="onclick=\"$('#learner-enrollment-tab-inner').data('contentLaunch').launchWBTContent("+params+')"';}var lessonLocation=$(this).attr("LessonLocation");var launchData=$(this).attr("launch_data");var suspendData=$(this).attr("suspend_data");var exit=$(this).attr("exit");lessonLocation=lessonLocation==null||lessonLocation=="null"?"":lessonLocation;launchData=launchData==null||launchData=="null"?"":launchData;suspendData=(suspendData==null||suspendData=="null"||suspendData==undefined)?"":suspendData;exit=exit==null||exit=="null"?"":exit;var relaunchInfo="";relaunchInfo+="{";relaunchInfo+="'lessonlocation':'"+lessonLocation+"'";relaunchInfo+=",'launchData':'"+launchData+"'";relaunchInfo+=",'suspendData':'"+suspendData+"'";relaunchInfo+=",'exit':'"+exit+"'";relaunchInfo+="}";var relaunchData="["+relaunchInfo+"]";var pipe='<span class="enroll-pipeline">|</span>';
var lessonStatus=($(this).attr("Status")=="")?Drupal.t("MSG511"):Drupal.t($(this).attr("Status"));var contScore=($(this).attr("LesScore")!="")?$(this).attr("LesScore"):"";var contentQuizStatus=($(this).attr("contentQuizStatus")!="")?$(this).attr("contentQuizStatus"):"";if(contentQuizStatus!=null&&contentQuizStatus!=undefined&&contentQuizStatus!=""){contentQuizStatus='<div class="line-item-container float-left" >'+pipe+'<span class="vtip" title="'+Drupal.t("LBL1284")+" : "+Drupal.t(contentQuizStatus)+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL1284")+" : "+Drupal.t(contentQuizStatus),"exp-sp-lnrenrollment-sucstatus")+"</span></div>";}if(contScore==""){var lessonScore="";}else{var lessonScore='<div class="line-item-container float-left" >'+pipe+'<span class="vtip" title="'+Drupal.t("LBL668")+": "+contScore+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL668")+": "+contScore,"exp-sp-lnrenrollment-score")+"</span></div>";}ostr+='<tr class="enroll-lesson-section"><td class="enroll-launch-column1">';
ostr+='<div class="enroll-course-title-lesson">';ostr+='<span id="titleAccEn_'+lessonId+'" class="item-title" ><span class="enroll-course-title vtip" title="'+Drupal.t("LBL854")+" "+lesCnt+" : "+unescape($(this).attr("Title")).replace(/"/g,"&quot;")+'" href="javascript:void(0);">';ostr+=Drupal.t("LBL854")+" "+lesCnt+": "+titleRestrictionFadeoutImage(decodeURIComponent($(this).attr("Title")),"exp-sp-lnrenrollment-enroll-course-title",35);ostr+="</span></span>";ostr+="</div>";ostr+='<div class="enroll-class-title-info">';ostr+='<div class="item-title-code individual-lesson">';ostr+='<div class="line-item-container float-left"><span id ="'+$(this).attr("Id")+"_"+$(this).attr("ContentId")+"_"+$(this).attr("enrollId")+'_status" class="vtip" title="'+Drupal.t("LBL102")+": "+Drupal.t(lessonStatus)+'">'+titleRestrictionFadeoutImage(Drupal.t("LBL102")+" : "+Drupal.t(lessonStatus),"exp-sp-lnrenrollment-status")+"</span></div>";ostr+='<span id="'+$(this).attr("Id")+"_"+$(this).attr("ContentId")+"_"+$(this).attr("enrollId")+'_lessonScore">'+lessonScore+"</span>";
ostr+='<span id="'+$(this).attr("Id")+"_"+$(this).attr("ContentId")+"_"+$(this).attr("enrollId")+'_lessonQuizStatus">'+contentQuizStatus+"</span>";ostr+=" </span>";ostr+=" </div>";ostr+="</div>";ostr+="</td>";ostr+='<td class="enroll-launch-column2">';ostr+='<div class="enroll-main-list">';ostr+='<label id="'+$(this).attr("Id")+"_"+$(this).attr("enrollId")+'_launch_button_lbl" class="'+((IsLaunchable)?"enroll-launch-full":"enroll-launch-empty")+' launch_button_lbl">';ostr+='<input type="button" id="'+$(this).attr("Id")+"_"+$(this).attr("enrollId")+'_launch_button" class="'+((IsLaunchable)?"actionLink":"")+' enroll-launch" data-relaunch="'+relaunchData+'" value="'+Drupal.t("LBL199")+'" '+((IsLaunchable)?callLaunchUrlFn:"")+">";ostr+="</label>";ostr+="</div>";ostr+="</td></tr>";}});});ostr+='</table></div"></td>';return ostr;}catch(e){}},addAccordionToTable1:function(classId,openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove){try{var className=openCloseClass;this.addAccordionToTableView(classId,openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove);
}catch(e){}vtip();},addAccordionToTableView:function(classId,openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove){try{this.currTheme=Drupal.settings.ajaxPageState.theme;var currTr=$("#class-accodion-"+classId).parent().parent().parent().attr("id");var data=eval($("#class-accodion-"+currTr).attr("data"));if(!document.getElementById(currTr+"SubGrid")){$("#"+currTr+" td .enroll-class-title-info").after("<div id='"+currTr+"SubGrid' class='clsDetailsDivNormal'></div>");$("#"+currTr+"SubGrid").css("display","block");if(this.currTheme!="expertusoneV2"){$("#class-accodion-"+currTr).removeClass("title_close");$("#class-accodion-"+currTr).addClass("title_open");}$("#"+currTr).removeClass("ui-widget-content");$("#"+currTr+"SubGrid").css("display","block");$("#"+currTr+"SubGrid").slideDown(1000);$("#"+currTr+"SubGrid").css("display","block");}else{var clickStyle=$("#"+currTr+"SubGrid").css("display");if((clickStyle=="none")||(clickStyle=="undefined")){$("#"+currTr+"SubGrid").show();
$("#"+currTr+"SubGrid").slideDown(1000);if(this.currTheme!="expertusoneV2"){$("#class-accodion-"+currTr).removeClass("title_close");$("#class-accodion-"+currTr).addClass("title_open");}$("#"+currTr).removeClass("ui-widget-content");if($("#pager").is(":visible")||data.is_last_rec!="last"){}}else{$("#"+currTr+"SubGrid").hide();$("#seemore_"+currTr).css("display","block");$("#"+currTr+"SubGrid").slideUp(1000);if(this.currTheme!="expertusoneV2"){$("#class-accodion-"+currTr).removeClass("title_open");$("#class-accodion-"+currTr).addClass("title_close");}$("#"+currTr).removeClass("ui-widget-content");$("#"+currTr).addClass("ui-widget-content");if($("#pager").is(":visible")||data.is_last_rec!="last"){if(this.currTheme=="expertusoneV2"){$("#class-accodion-"+currTr).parents("tr").children("td").css("border-bottom","solid 1px #ededed");}else{$("#class-accodion-"+currTr).parents("tr").children("td").css("border-bottom","solid 1px #ccc");}}}}$("#"+currTr+"SubGrid").find("td").css("border-bottom","none 0px");
var classDetSec=this.paintDetailsClassSection(data);if(document.getElementById("seemore_"+currTr)){$("#"+currTr+"SubGrid").html("<table><tr>"+classDetSec+"</tr></table>");}else{$("#"+currTr+"SubGrid").html(classDetSec);}if((this.currTheme=="expertusoneV2")&&(data.is_last_rec!="last")){$("#"+currTr+"SubGrid").html("<table><tr>"+classDetSec+"</tr></table>");}}catch(e){}},addAccordionToTable2:function(openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove){try{this.addAccordionToTable(openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove);$(".dt-child-row-En > td").attr("colSpan","6");Drupal.attachBehaviors();}catch(e){}},addAccordionToTable_override:function(openCloseClass,openpos,closepos,childClass,callback,obj,parentObj,isRemove){try{if(openCloseClass!=undefined&&childClass!=undefined&&callback!=undefined){var mainObj=$(obj).parent().get(0).nodeName.toLowerCase()=="td"?$(obj).parent():$(obj).parent().parent();$("."+openCloseClass).each(function(){$(this).css("background-position",closepos);
});$(".ui-state-hover").click(function(){var clickId=$(this).attr("id");if(document.getElementById("child"+clickId)){var clickStyle=$("#child"+clickId).css("display");if((clickStyle=="none")||(clickStyle=="undefined")||(clickStyle=="table-row")){$("#child"+clickId).slideDown(1000);$("#child"+clickId).css("display","block");}else{if(clickStyle=="block"){$("#child"+clickId).slideDown(1000);$("#child"+clickId).css("display","none");}else{$("#child"+clickId).slideDown(1000);$("#child"+clickId).css("display","none");}}}});var cols=$(obj).parent("td").siblings().length;if(String(mainObj.parent().next().attr("class")).indexOf(childClass+" dt-acc-row")<0){var newObj=mainObj.parent().after("<tr class='"+childClass+" dt-acc-row' id='tempChild'><td colspan='"+cols+"'><div class='"+childClass+"-data' style='display:none;width=100%;'></div></td></tr>").next(0).find("div."+childClass+"-data");if(callback!=undefined){callback(newObj,$(obj),parentObj);}$(obj).children().css("background-position",openpos);
}}else{throw ("addAccordionTable : Parameters not specified");}}catch(e){}},paintActions:function(cellval,options,rowObject){try{var baseType=rowObject.basetype;var dateValidTo=rowObject.valid_to;var dataDelType=rowObject.delivery_type;var dataDelTypeCode=rowObject.delivery_type_code;var dataRegStatus=rowObject.reg_status;var dataRegStatusCode=rowObject.reg_status_code;var RegStatusCode=rowObject.reg_status_code;var courseRegStatusCode=rowObject.reg_status_code;var courseComplitionStatus=rowObject.reg_status;var courseScore=rowObject.score;var courseQuizStatus=rowObject.quiz_status;var dataId=unescape(rowObject.id);var courseId=rowObject.course_id;var classId=rowObject.class_id;var classTitle=rowObject.cls_title;var classStatus=rowObject.cls_status;var dedClass=rowObject.dedicated_class_flag;var crsTitle=rowObject.course_title;var courseTempId=rowObject.courseid;var surStatus=rowObject.surveystatus;var assessStatus=rowObject.assessmentstatus;var preassessStatus=rowObject.preassessmentstatus;
var maxScoreValidationpre=rowObject.maxscorevaluepre;var maxScoreValidationpost=rowObject.maxscorevaluepost;var session_id=rowObject.session_id;var usertimezonecode=rowObject.usertimezonecode;var launchInfo=rowObject.launch;var masterEnrollId=rowObject.master_enrollment_id;var mandatory=rowObject.mandatory;var IsCompliance=rowObject.is_compliance;var recertifyCompliance=rowObject.recertify_compliance;var mro=rowObject.mro;var nodeId=rowObject.node_id;var usrId=rowObject.user_id;var isChangeClass=rowObject.switch_events;var dataIdEncrypted=rowObject.id_encrypted;var classIdEncrypted=rowObject.class_id_encrypted;var isPricedClass=(rowObject.show_price==0)?"":rowObject.show_price;var ecommerce_enabled_status=Drupal.settings.exp_sp_lnrenrollment.ecommerce_enabled;var daysRemaining="";var callLaunchUrlFn="";var contLaunch=false;var IsLaunchable=false;var remDays=rowObject.remDays;var errmsg="";var contValidateMsg="";var isMultipleCont=false;var LessonLocation="";var launch_data="";var suspend_data="";
var exit="";var VersionId="";var AICC_SID="";var AttemptLeft="";var dayRemainVal="";var VersionId="";var launch_data=rowObject.LaunchData;var starWidgetHtml=rowObject.star_widget;var vcMoreActionFlag=true;var is_exempted=rowObject.is_exempted;var exempted_by=rowObject.exempted_by.replace(/'/g,"\\'");var exempted_on=rowObject.exempted_on;var hideShareLink=rowObject.hide_share;if(IsCompliance){mandatory="Y";}if(assessStatus=="TRUE"&&maxScoreValidationpost==0){assessStatus=false;}if(preassessStatus=="TRUE"&&maxScoreValidationpre==0){preassessStatus=false;}var startTime=rowObject.session_start;if(((baseType=="ILT")||(baseType=="VC"))&&(startTime!=null)){var sessLen=rowObject.sessionDetails.length;var sessLenEnd;var sTime,sTimeForm,eTime,eTimeForm,nTime,stDateFull,enDateFull,srvDate;if(sessLen>1){if(baseType=="ILT"){var recertifyObj='$("#learner-enrollment-tab-inner").data("enrollment")';viewButton="viewDetails";html+="<a type='button' title='"+Drupal.t("Reregister")+"' class='actionLink enroll-launch mypgm-recertify vtip'data=\""+data1+"\" value='"+Drupal.t("Reregister")+"' name='"+Drupal.t("Reregister")+"' onclick='"+recertifyObj+".showCompliancePopup("+usrId+","+classId+","+courseId+","+dataId+");' >"+titleRestrictionFadeoutImage(Drupal.t("Reregister"),"exp-sp-mylearning-menulist")+"</a>";
completeAction='<li class="action-enable"><a id="class-accodion-'+dataId+'" href="javascript:void(0);" data="'+data1+'" class="actionLink" onclick=\''+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+",true); '>"+Drupal.t("LBL816")+"</a></li>";html+="<div class='dd-btn'><span class='dd-arrow'></span><a class='enroll-launch-more' title='"+Drupal.t("LBL713")+"' onclick='"+obj+".showMoreAction(this)' onblur='"+obj+".hideMoreAction(this)'> </a></div>";html+='<div class="enroll-action"><ul class="enroll-drop-down-list">'+completeAction+"</ul></div>";sessLenEnd=sessLen-1;sTime=rowObject.sessionDetails[0].session_start_format;sTimeForm=rowObject.sessionDetails[0].session_start_time_form;eTime=rowObject.sessionDetails[sessLenEnd].session_end_format;eTimeForm=rowObject.sessionDetails[sessLenEnd].session_end_time_form;nTime=rowObject.sessionDetails[sessLenEnd].session_end_format;eDateTime=rowObject.sessionDetails[0].session_end_format;
stDateFull=rowObject.sessionDetails[0].session_start_time_full;enDateFull=rowObject.sessionDetails[sessLenEnd].session_end_time_full;}else{var ind=0;for(var i=0;i<rowObject.sessionDetails.length;i++){if(rowObject.sessionDetails[i].session_id==launchInfo[0]["ID"]){ind=i;break;}vcMoreActionFlag=false;}if(vcMoreActionFlag==false&&ind==0){ind=rowObject.sessionDetails.length-1;}var endSes=rowObject.sessionDetails.length-1;sTime=rowObject.sessionDetails[ind].session_start_format;sTimeForm=rowObject.sessionDetails[ind].session_start_time_form;eTime=rowObject.sessionDetails[ind].session_end_format;eTimeForm=rowObject.sessionDetails[ind].session_end_time_form;nTime=rowObject.sessionDetails[ind].session_end_format;eDateTime=rowObject.sessionDetails[ind].session_end_format;stDateFull=rowObject.sessionDetails[ind].session_start_time_full;enDateFull=rowObject.sessionDetails[ind].session_end_time_full;clEnDateFull=rowObject.sessionDetails[endSes].session_end_time_full;}}else{sTime=rowObject.sessionDetails[0].session_start_format;
sTimeForm=rowObject.sessionDetails[0].session_start_time_form;eTime=rowObject.sessionDetails[0].session_start_end_format;eDateTime=rowObject.sessionDetails[0].session_end_format;eTimeForm=rowObject.sessionDetails[0].session_end_time_form;nTime=rowObject.sessionDetails[0].session_end_format;stDateFull=rowObject.sessionDetails[0].session_start_time_full;enDateFull=rowObject.sessionDetails[0].session_end_time_full;clEnDateFull=rowObject.sessionDetails[0].session_end_time_full;}var srvDate=rowObject.sessionDetails[0].server_date_time;var type=rowObject.sessionDetails[0].type;var sesStartIlt=new Date(stDateFull);var sesEndVC=new Date(enDateFull);var todayDate=new Date(srvDate);var timeDiffIlt=(sesStartIlt-todayDate);}if(launchInfo.length){IsLaunchable=(launchInfo.length>1)?true:launchInfo[0]["IsLaunchable"];isMultipleCont=(launchInfo.length>1)?true:false;errmsg=launchInfo[0]["NonLaunchableMessage"];contValidateMsg=launchInfo[0]["contValidateMsg"];LessonLocation=launchInfo[0]["LessonLocation"];
launch_data=launchInfo[0]["LaunchData"];suspend_data=launchInfo[0]["SuspendData"];exit=launchInfo[0]["CmiExit"];VersionId=launchInfo[0]["VersionId"];AICC_SID=launchInfo[0]["AICC_SID"];if(IsLaunchable){var id=launchInfo[0]["ID"];var url1=launchInfo[0]["LearnerLaunchURL"];var contentTitle=launchInfo[0]["Title"];var url2=launchInfo[0]["PresenterLaunchURL"];var status=launchInfo[0]["Status"];var statusCode=launchInfo[0]["StatusCode"];var launchBaseType=launchInfo[0]["baseType"];var cntType=launchInfo[0]["ContentType"];var cntSubTypeCode=launchInfo[0]["ContentSubTypeCode"];var MasteryScore=launchInfo[0]["masteryscore"];var CntStatus=launchInfo[0]["contentQuizStatus"];if(baseType=="VOD"){var suspendData=(launchInfo[0]["SuspendData"]!=null&&launchInfo[0]["SuspendData"]!=""&&launchInfo[0]["SuspendData"]!=undefined)?JSON.parse(unescape(launchInfo[0]["SuspendData"])):null;}var inc=0;if(launchInfo.length>1){contLaunch=true;var overrideIsLaunchable=false;var passParams="[";$(launchInfo).each(function(){inc=inc+1;
passParams+="[{";passParams+="'Id':'"+$(this).attr("ID")+"'";passParams+=",'ContentId':'"+$(this).attr("ContentId")+"'";passParams+=",'VersionId':'"+$(this).attr("VersionId")+"'";passParams+=",'VersionNum':'"+$(this).attr("VersionNum")+"'";passParams+=",'enrollId':'"+dataId+"'";passParams+=",'Title':'"+$(this).attr("Title")+"'";passParams+=",'ContentTitle':'"+escape($(this).attr("Code"))+"'";passParams+=",'url1':'"+$(this).attr("LearnerLaunchURL")+"'";passParams+=",'courseId':'"+courseId+"'";passParams+=",'IsLaunchable':'"+$(this).attr("IsLaunchable")+"'";passParams+=",'AttemptLeft':'"+$(this).attr("AttemptLeft")+"'";passParams+=",'ValidityDays':'"+$(this).attr("ValidityDays")+"'";passParams+=",'remDays':'"+$(this).attr("remDays")+"'";passParams+=",'contValidateMsg':'"+$(this).attr("contValidateMsg")+"'";passParams+=",'daysLeft':'"+$(this).attr("daysLeft")+"'";passParams+=",'classId':'"+classId+"'";passParams+=",'url2':'"+$(this).attr("PresenterLaunchURL")+"'";passParams+=",'ErrMsg':''";
passParams+=",'contentType':'"+$(this).attr("ContentType")+"'";passParams+=",'contentSubTypeCode':'"+$(this).attr("ContentSubTypeCode")+"'";passParams+=",'launchType':'"+$(this).attr("LaunchType")+"'";passParams+=",'ClsScore':'"+$(this).attr("ClsScore")+"'";passParams+=",'LesScore':'"+$(this).attr("LesScore")+"'";passParams+=",'ContScore':'"+$(this).attr("ContScore")+"'";passParams+=",'Status':'"+$(this).attr("Status")+"'";passParams+=",'ContentStatus':'"+$(this).attr("ContentStatus")+"'";passParams+=",'Lessoncnt':'"+$(this).attr("Lessoncnt")+"'";passParams+=",'LessonLocation':'"+$(this).attr("LessonLocation")+"'";passParams+=",'launch_data':'"+$(this).attr("LaunchData")+"'";passParams+=",'suspend_data':'"+$(this).attr("SuspendData")+"'";passParams+=",'exit':'"+$(this).attr("CmiExit")+"'";passParams+=",'AICC_SID':'"+$(this).attr("AICC_SID")+"'";passParams+=",'MasteryScore':'"+$(this).attr("masteryscore")+"'";passParams+=",'contentQuizStatus':'"+$(this).attr("contentQuizStatus")+"'";passParams+=",'ContentCompletionStatus':'"+$(this).attr("ContentCompletionStatus")+"'";
passParams+=",'StatusCode':'"+$(this).attr("StatusCode")+"'";passParams+="}]";if(inc<launchInfo.length){passParams+=",";}if(baseType=="WBT"||baseType=="VOD"){overrideIsLaunchable=overrideIsLaunchable||$(this).attr("IsLaunchable");}});passParams+="]";if(baseType=="WBT"||baseType=="VOD"){IsLaunchable=overrideIsLaunchable;}var obj=options.colModel.widgetObj;callLaunchUrlFn="onclick='"+obj+".launchMultiContent("+dataId+",this);'";}else{contLaunch=false;if((baseType=="WBT")&&(cntType!=null)&&(cntType!=undefined)&&(cntType!="")){var params="{'Id':'"+id+"','enrollId':'"+dataId+"','VersionId':'"+VersionId+"','url1':'"+url1+"','courseId':'"+courseId+"','classId':'"+classId+"','url2':'"+url2+"','ErrMsg':'"+errmsg+"','contentType':'"+cntType+"','Status':'"+status+"','LessonLocation':'"+LessonLocation+"','launch_data':'"+launch_data+"','contentQuizStatus':'"+CntStatus+"','suspend_data':'"+suspend_data+"','exit':'"+exit+"','AICC_SID':'"+AICC_SID+"','MasteryScore':'"+MasteryScore+"'}";callLaunchUrlFn="onclick=\"$('#learner-enrollment-tab-inner').data('contentLaunch').launchWBTContent("+params+')"';
}else{if(baseType=="VOD"){var title=contentTitle;title=encodeURIComponent(title.replace(/\//g,"()|()"));callLaunchUrlFn='href="/?q=learning/nojs/play_video/';callLaunchUrlFn+=title+"/";callLaunchUrlFn+=escape(cntSubTypeCode)+"/";callLaunchUrlFn+=(url1)?escape(url1.replace(/\//g,"()|()"))+"/":"";callLaunchUrlFn+="ME/";callLaunchUrlFn+=courseId+"/";callLaunchUrlFn+=classId+"/";callLaunchUrlFn+=id+"/";callLaunchUrlFn+=VersionId+"/";callLaunchUrlFn+=dataId+"/";callLaunchUrlFn+=escape(statusCode)+"/";callLaunchUrlFn+=launchInfo[0]["SuspendData"]+'"';}else{if(baseType=="WBT"||baseType=="VC"){callLaunchUrlFn=url1;}}}}}}if((baseType=="WBT"||baseType=="VOD")&&((courseComplitionStatus=="lrn_crs_cmp_cmp")||(dataRegStatusCode=="lrn_crs_cmp_enr")||(dataRegStatusCode=="lrn_crs_cmp_inp"))){var i=0;if(dateValidTo!=""&&dateValidTo!=null){var daystocount=new Date(dateValidTo);var srvDate=launchInfo[0].server_date_time;today=new Date(srvDate);var oneday=1000*60*60*24;daysRemaining=(Math.ceil((daystocount.getTime()-today.getTime())/(oneday)));
}}var vClassId=classId;var obj=options.colModel.widgetObj;var objEval=eval(options.colModel.widgetObj);var callDialogObj='$("body").data("learningcore")';var data1;var contdata;var multiContentData;if(contLaunch){data1="data={'RegId':'"+dataId+"','BaseType':'"+baseType+"','clstitle':'"+escape(classTitle)+"','title':'"+escape(crsTitle)+"','rowId':'"+options.rowId+"','CourseId':'"+courseId+"','session_id':'"+session_id+"','coursetempid':'"+courseTempId+"','regStatusCode':'"+RegStatusCode+"','regstatus':'"+dataRegStatusCode+"','classid':'"+classId+"','deliverytype':'"+dataDelTypeCode+"','daysRemaining':'"+daysRemaining+"','courseComplitionStatus':'"+courseComplitionStatus+"','courseScore':'"+courseScore+"','courseQuizStatus':'"+courseQuizStatus+"','detailTab':'true','assMand':'"+mandatory+"','mro':'"+mro+"','is_exempted':'"+is_exempted+"','exempted_on':'"+exempted_on+"','exempted_by':'"+exempted_by+"'}";contdata="data=["+passParams+"]";multiContentData=passParams;}else{data1="data={'RegId':'"+dataId+"','BaseType':'"+baseType+"','clstitle':'"+escape(classTitle)+"','title':'"+escape(crsTitle)+"','rowId':'"+options.rowId+"','CourseId':'"+courseId+"','session_id':'"+session_id+"','coursetempid':'"+courseTempId+"','regStatusCode':'"+RegStatusCode+"','regstatus':'"+dataRegStatusCode+"','classid':'"+classId+"','deliverytype':'"+dataDelTypeCode+"','daysRemaining':'"+daysRemaining+"','courseComplitionStatus':'"+courseComplitionStatus+"','courseScore':'"+courseScore+"','courseQuizStatus':'"+courseQuizStatus+"','detailTab':'true','assMand':'"+mandatory+"','mro':'"+mro+"','is_exempted':'"+is_exempted+"','exempted_on':'"+exempted_on+"','exempted_by':'"+exempted_by+"'}";
}var html="";var setDropButton=true;if((baseType=="WBT"||baseType=="VOD")&&daysRemaining<0){setDropButton=false;}html+="<div class='enroll-main-list' id='enroll-main-action-"+dataId+"'>";if(RegStatusCode=="lrn_crs_cmp_enr"||RegStatusCode=="lrn_crs_cmp_inp"||RegStatusCode=="lrn_crs_cmp_att"||RegStatusCode=="lrn_crs_cmp_cmp"){var isILT=false;var isWBT=false;var isVC=false;var isVOD=false;var wbtButtonAction=null;var vodButtonAction=null;var iltButtonAction=null;var viewButton=null;var iltShareButton=null;var wbtShareButton=null;var iltChangeButton=null;var iltCompleteCertificateButton=null;var vcjoinButton=null;var no_primary_html_button="0";var no_drop_down_option="0";if(dataDelTypeCode=="lrn_cls_dty_wbt"){isWBT=true;if(IsLaunchable){var launchLabelVal=Drupal.t("LBL199");wbtButtonAction="Launch";html+="<input type='button' class='actionLink enroll-launch' data=\""+multiContentData+"\" value='"+launchLabelVal+"' name='"+SMARTPORTAL.t("Launch")+"' id='launch"+dataId+"' "+callLaunchUrlFn+" >";
}else{var wbtShareButton="wbtShareButton";if(hideShareLink==0){html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" title="'+Drupal.t("Share")+'" class="actionLink enroll-launch vtip" data="'+data1+"\" name=\"Refer\" onclick=\"$('body').data('refercourse').getReferDetails('"+classId+"','cre_sys_obt_cls','enroll-result-container');\" >"+titleRestrictionFadeoutImage(Drupal.t("Share"),"exp-sp-mylearning-menulist")+"</a>";}else{no_primary_html_button="1";}}}else{if(dataDelTypeCode=="lrn_cls_dty_vod"){isVOD=true;if(IsLaunchable){vodButtonAction="Launch";if(launchInfo.length>1){html+="<input type='button' class='actionLink enroll-launch' data=\""+multiContentData+'" data-data1="'+data1+"\" value='"+Drupal.t("LBL199")+"' name='"+SMARTPORTAL.t("Launch")+"' id='launch"+dataId+"' "+callLaunchUrlFn+" >";}else{html+="<a class='actionLink enroll-launch use-ajax ctools-modal-ctools-video-style' title='"+Drupal.t("LBL199")+"' id='launch"+dataId+"' "+callLaunchUrlFn+" >"+Drupal.t("LBL199")+"</a>";
}}else{var wbtShareButton="wbtShareButton";if(hideShareLink==0){html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" title="'+Drupal.t("Share")+'" class="actionLink enroll-launch vtip" data="'+data1+"\" name=\"Refer\" onclick=\"$('body').data('refercourse').getReferDetails('"+classId+"','cre_sys_obt_cls','enroll-result-container');\" >"+titleRestrictionFadeoutImage(Drupal.t("Share"),"exp-sp-mylearning-menulist")+"</a>";}else{no_primary_html_button="1";}}}else{if(dataDelTypeCode=="lrn_cls_dty_vcl"){isVC=true;if(RegStatusCode=="lrn_crs_cmp_cmp"){var title="Session Details";var message=Drupal.t("MSG419");html+="<a class='actionLink enroll-launch vtip ' data=\""+contdata+"\" ' name='"+SMARTPORTAL.t("Launch")+"'  title='"+Drupal.t("LBL880")+"'  id='launch"+dataId+"' href='javascript:void(0);' onclick='"+callDialogObj+'.callMessageWindow("'+title+'","'+message+"\");' >"+titleRestrictionFadeoutImage(Drupal.t("LBL880"),"exp-sp-mylearning-menulist")+"</a>";}else{var sesStartVC=new Date(stDateFull);
var sesEndVC=new Date(enDateFull);var todayVC=new Date(srvDate);var timeDiffVC=(sesStartVC-todayVC);var endTimeDiffVC=(sesEndVC-todayVC);var allowTime=(resource.allow_meeting_launch)?(resource.allow_meeting_launch*60000):3600000;var afterCompleteAllowTime=(resource.allow_meeting_launch_complete)?(resource.allow_meeting_launch_complete*60000):1800000;if(timeDiffVC<=allowTime&&(endTimeDiffVC+afterCompleteAllowTime)>=0){var a=(sesEndVC-todayVC);var timer=(afterCompleteAllowTime+a);if(RegStatusCode=="lrn_crs_cmp_att"&&type=="lrn_cls_vct_web"){var new_window;new_window='window.open("'+((IsLaunchable)?callLaunchUrlFn:"")+'", "Attachment", "width=1000,height=900,toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,copyhistory=no,resizable=yes")';html+="<a class='actionLink enroll-launch ' data=\""+contdata+"\" ' name='"+SMARTPORTAL.t("Launch")+"'  id='launch"+dataId+"' href='javascript:void(0);' onclick='"+new_window+";'>"+Drupal.t("LBL1319")+"</a>";refresh_time(timer);}else{var new_window;
new_window='window.open("'+((IsLaunchable)?callLaunchUrlFn:"")+'", "Attachment", "width=1000,height=900,toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,copyhistory=no,resizable=yes")';html+="<a class='actionLink enroll-launch vtip ' data=\""+contdata+"\" ' name='"+SMARTPORTAL.t("Launch")+"'  title='"+Drupal.t("LBL880")+"'  id='launch"+dataId+"' href='javascript:void(0);' onclick='"+new_window+";refresh_enrolled("+new_window+");'>"+titleRestrictionFadeoutImage(Drupal.t("LBL880"),"exp-sp-mylearning-menulist")+"</a>";}}else{var title,message;title=Drupal.t("LBL670");if(endTimeDiffVC+afterCompleteAllowTime<0){message=Drupal.t("MSG419");}else{message=Drupal.t("MSG420").replace("'","&#39;")+" "+sTime+" <span class=enroll-session-timefrom>"+sTimeForm+"</span>";}html+="<a class='actionLink enroll-launch vtip ' data=\""+contdata+"\" ' name='"+SMARTPORTAL.t("Launch")+"'  title='"+Drupal.t("LBL880")+"'  id='launch"+dataId+"' href='javascript:void(0);' onclick='"+callDialogObj+'.callMessageWindow("'+title+'","'+message+"\");' >"+titleRestrictionFadeoutImage(Drupal.t("LBL880"),"exp-sp-mylearning-menulist")+"</a>";
}}}else{isILT=true;viewButton="viewDetails";if(timeDiffIlt>=0&&hideShareLink==0){iltShareButton="iltShareDetails";html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" title="'+Drupal.t("Share")+'" class="actionLink enroll-launch vtip" data="'+data1+"\" name=\"Refer\" onclick=\"$('body').data('refercourse').getReferDetails('"+classId+"','cre_sys_obt_cls','enroll-result-container');\" >"+titleRestrictionFadeoutImage(Drupal.t("Share"),"exp-sp-mylearning-menulist")+"</a>";}else{if(RegStatusCode=="lrn_crs_cmp_enr"&&isPricedClass&&ecommerce_enabled_status!=""&&ecommerce_enabled_status!=null){iltChangeButton="iltChangeButton";regMsg=Drupal.t("MSG692");html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" class="actionLink enroll-launch vtip" data="'+data1+'" name="Change Class" title="'+Drupal.t("LBL943")+" "+Drupal.t("Class")+"\" onclick=\"$('body').data('learningcore').enrollChangeClassErrorMessage('registertitle','"+regMsg+"');\" >"+titleRestrictionFadeoutImage(Drupal.t("LBL943")+" "+Drupal.t("Class"),"exp-sp-mylearning-menulist")+"</a>";
}else{if(RegStatusCode=="lrn_crs_cmp_enr"||RegStatusCode=="lrn_crs_cmp_nsw"&&isChangeClass&&(isPricedClass==null||isPricedClass==""||isPricedClass==undefined)){iltChangeButton="iltChangeButton";html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" class="actionLink enroll-launch vtip" data="'+data1+'" name="Change Class" title="'+Drupal.t("LBL943")+" "+Drupal.t("Class")+"\" onclick=\"$('#learningplan-tab-inner').data('learningplan').showSwitchClass("+usrId+","+classId+","+courseId+","+dataId+",'Enroll');\" >"+titleRestrictionFadeoutImage(Drupal.t("LBL943")+" "+Drupal.t("Class"),"exp-sp-mylearning-menulist")+"</a>";}else{if(RegStatusCode=="lrn_crs_cmp_cmp"){iltCompleteCertificateButton="iltCompleteCertificateButton";var data_from_sf=$("#salesforce_canvas_widget").attr("data-from-salesforce");if(typeof data_from_sf!==typeof undefined&&data_from_sf!==false&&data_from_sf=="1"){html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" class="actionLink enroll-launch" data="'+data1+"\" name=\"Certificate\"  onclick=\"$('body').data('printcertificate').getPrintcertificateDetails('"+dataIdEncrypted+"','"+classIdEncrypted+"','"+objEval.enrUserId+"','CLASS','div_my_transcript',800,900);\" >"+Drupal.t("LBL205")+"</a>";
}else{html+="<a href='javascript:void(0);' class='actionLink enroll-launch vtip'  data=\""+data1+"\" name='Certificate' onclick='window.open(\"printcertificate.php?enrollid="+dataIdEncrypted+"&classid="+classIdEncrypted+"&userid="+objEval.enrUserId+'", "PrintCertificate", "width=1050, height=900, toolbar=yes, location=yes, directories=yes, status=yes, menubar=yes, scrollbars=yes, copyhistory=yes, resizable=yes")\' title=\''+Drupal.t("LBL205")+"'>"+titleRestrictionFadeoutImage(Drupal.t("LBL205"),"exp-sp-mylearning-menulist")+"</a>";}}else{if(hideShareLink==0){html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" title="'+Drupal.t("Share")+'" class="actionLink enroll-launch clsDisabledButton vtip" data="'+data1+'" name="Refer" >'+titleRestrictionFadeoutImage(Drupal.t("Share"),"exp-sp-mylearning-menulist")+"</a>";}else{no_primary_html_button="1";}}}}}}}}var enrollAction="";if(RegStatusCode=="lrn_crs_cmp_enr"){if(isWBT||isVOD){if(setDropButton==true){if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink enroll-launch vtip' data=\""+data1+"\" name='Cancel' onclick='"+obj+".dropEnroll(this);' >"+Drupal.t("LBL109")+"</a>";
no_primary_html_button="0";}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='Cancel' onclick='"+obj+".dropEnroll(this);' >"+Drupal.t("LBL109")+"</a></li>";}}}else{if(isILT){if(setDropButton==true){iltButtonAction="Cancel";if(timeDiffIlt>=0){if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" onclick='"+obj+".dropEnroll(this);' name='"+SMARTPORTAL.t("Cancel")+"' >"+Drupal.t("LBL109")+"</a>";no_primary_html_button="0";}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" onclick='"+obj+".dropEnroll(this);' name='"+SMARTPORTAL.t("Cancel")+"' >"+Drupal.t("LBL109")+"</a></li>";}}}}else{if(isVC&&timeDiffVC>=0&&vcMoreActionFlag==true){if(setDropButton==true){enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='Cancel' onclick='"+obj+".dropEnroll(this);' >"+Drupal.t("LBL109")+"</a></li>";
}}}}}var surObj='$("#block-take-survey").data("surveylearner")';if(surStatus=="TRUE"&&(availableFunctionalities.exp_sp_surveylearner)){if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink enroll-launch vtip' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "survey","",'+dataId+',"NULL","enroll-result-container");\' >'+Drupal.t("Survey")+"</a>";no_primary_html_button="0";}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "survey","",'+dataId+',"NULL","enroll-result-container");\' >'+Drupal.t("Survey")+"</a></li>";}}if(isILT||isVC){if(isVC){var sessEndDate=clEnDateFull;var meeting_complete=(resource.allow_meeting_launch_complete)?(resource.allow_meeting_launch_complete):30;var sesEndDateTime=new Date(sessEndDate);
sesEndDateTime.setMinutes(sesEndDateTime.getMinutes()+parseInt(meeting_complete));var sesEndTimeStamp=sesEndDateTime.getTime();var todayTimeStamp=todayDate.getTime();}else{var sessEndDate=enDateFull;var sesEndDateTime=new Date(sessEndDate);var sesEndTimeStamp=sesEndDateTime.getTime();var todayTimeStamp=todayDate.getTime();}if(id==null||id==undefined||id=="undefined"){id="0";}var paramsUpdScore=id+"###"+dataId+"###"+courseId+"###"+classId;if(preassessStatus=="TRUE"){enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "assessment", "'+paramsUpdScore+'",'+dataId+',1,"enroll-result-container");\' >'+Drupal.t("Assessment")+"<span class='pre-assessment-container'> ("+Drupal.t("LBL1253")+")</span></a></li>";}if(assessStatus=="TRUE"){if(todayTimeStamp>sesEndTimeStamp){enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "assessment", "'+paramsUpdScore+'",'+dataId+',0,"enroll-result-container");\' >'+Drupal.t("Assessment")+"<span class='post-assessment-container'> ("+Drupal.t("LBL871")+")</span></a></li>";
}}}else{var paramsUpdScore=id+"###"+dataId+"###"+courseId+"###"+classId+"###"+VersionId;if(preassessStatus=="TRUE"){if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink enroll-launch vtip' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "assessment", "'+paramsUpdScore+'",'+dataId+',1,"enroll-result-container");\' >'+titleRestrictionFadeoutImage(Drupal.t("Assessment")+"<span class='pre-assessment-container'> ("+Drupal.t("LBL1253")+")</span>","exp-sp-mylearning-menulist")+"</a>";no_primary_html_button="0";}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "assessment", "'+paramsUpdScore+'",'+dataId+',1,"enroll-result-container");\' >'+Drupal.t("Assessment")+"<span class='pre-assessment-container'> ("+Drupal.t("LBL1253")+")</span></a></li>";
}}if(assessStatus=="TRUE"){if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink enroll-launch vtip' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "assessment", "'+paramsUpdScore+'",'+dataId+',0,"enroll-result-container");\' >'+titleRestrictionFadeoutImage(Drupal.t("Assessment")+"<span class='post-assessment-container'> ("+Drupal.t("LBL871")+")</span>","exp-sp-mylearning-menulist")+"</a>";no_primary_html_button="0";}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='takesurvey' onclick='"+surObj+".callTakeSurveyToClass("+classId+',"'+escape(classTitle)+'","cre_sys_obt_cls",  "assessment", "'+paramsUpdScore+'",'+dataId+',0,"enroll-result-container");\' >'+Drupal.t("Assessment")+"<span class='post-assessment-container'> ("+Drupal.t("LBL871")+")</span></a></li>";}}}if(RegStatusCode=="lrn_crs_cmp_cmp"){if((isWBT||isVOD)&&classStatus=="lrn_cls_sts_atv"&&dedClass!="Y"&&(hideShareLink==0)&&wbtShareButton==null){enrollAction+='<li class="action-enable"><a href="javascript:void(0);" class="actionLink" data="'+data1+"\" name=\"Refer\" onclick=\"$('body').data('refercourse').getReferDetails('"+classId+"','cre_sys_obt_cls','enroll-result-container');\" >"+Drupal.t("Share")+"</a></li>";
}}else{if((isWBT||isVOD||((isILT||isVC)&&timeDiffIlt>=0))&&classStatus=="lrn_cls_sts_atv"&&iltShareButton==null&&dedClass!="Y"&&(hideShareLink==0)&&wbtShareButton==null){enrollAction+='<li class="action-enable"><a href="javascript:void(0);" class="actionLink" data="'+data1+"\" name=\"Refer\" onclick=\"$('body').data('refercourse').getReferDetails('"+classId+"','cre_sys_obt_cls','enroll-result-container');\" >"+Drupal.t("Share")+"</a></li>";}}if(RegStatusCode=="lrn_crs_cmp_enr"&&isPricedClass&&ecommerce_enabled_status!=""&&ecommerce_enabled_status!=null&&iltChangeButton==null){regMsg=Drupal.t("MSG692");if(no_primary_html_button=="1"){html+="<a href=\"javascript:void(0)\" class=\"actionLink enroll-launch vtip\" name=\"Change Class\" onclick=\"$('body').data('learningcore').enrollChangeClassErrorMessage('registertitle','"+regMsg+"');\" >"+Drupal.t("LBL943")+" "+Drupal.t("Class")+"</a>";no_primary_html_button="0";}else{enrollAction+='<li class="action-enable"><a href="javascript:void(0)" class="actionLink" name="Change Class" onclick="$(\'body\').data(\'learningcore\').enrollChangeClassErrorMessage(\'registertitle\',\''+regMsg+"');\" >"+Drupal.t("LBL943")+" "+Drupal.t("Class")+"</a></li>";
}}else{if((RegStatusCode=="lrn_crs_cmp_enr"||RegStatusCode=="lrn_crs_cmp_nsw"&&isChangeClass&&(isPricedClass==null||isPricedClass==""||isPricedClass==undefined))&&iltChangeButton==null){if(no_primary_html_button=="1"){html+='<a href="javascript:void(0)" class="actionLink enroll-launch" name="Change Class" onclick="$(\'#learningplan-tab-inner\').data(\'learningplan\').showSwitchClass('+usrId+","+classId+","+courseId+","+dataId+",'Enroll');\" >"+titleRestrictionFadeoutImage(Drupal.t("LBL943")+" "+Drupal.t("Class"),"exp-sp-mylearning-menulist")+"</a>";no_primary_html_button="0";no_drop_down_option="1";}else{enrollAction+='<li class="action-enable"><a href="javascript:void(0)" class="actionLink" name="Change Class" onclick="$(\'#learningplan-tab-inner\').data(\'learningplan\').showSwitchClass('+usrId+","+classId+","+courseId+","+dataId+",'Enroll');\" >"+Drupal.t("LBL943")+" "+Drupal.t("Class")+"</a></li>";}}}if(RegStatusCode=="lrn_crs_cmp_cmp"){var data_from_sf=$("#salesforce_canvas_widget").attr("data-from-salesforce");
if(typeof data_from_sf!==typeof undefined&&data_from_sf!==false&&data_from_sf=="1"){if(iltCompleteCertificateButton==null){enrollAction+='<li class="action-enable"><a href="javascript:void(0);" class="actionLink" data="'+data1+"\" name=\"Certificate\"  onclick=\"$('body').data('printcertificate').getPrintcertificateDetails('"+dataIdEncrypted+"','"+classIdEncrypted+"','"+objEval.enrUserId+"','CLASS','div_my_transcript',800,900);\" >"+Drupal.t("LBL205")+"</a></li>";}}else{if(iltCompleteCertificateButton==null){if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink enroll-launch vtip' data=\""+data1+"\" name='Certificate' onclick='window.open(\"printcertificate.php?enrollid="+dataIdEncrypted+"&classid="+classIdEncrypted+"&userid="+objEval.enrUserId+'", "PrintCertificate", "width=1050, height=900, toolbar=yes, location=yes, directories=yes, status=yes, menubar=yes, scrollbars=yes, copyhistory=yes, resizable=yes")\'>'+titleRestrictionFadeoutImage(Drupal.t("LBL205"),"exp-sp-mylearning-menulist")+"</a>";
no_primary_html_button="0";no_drop_down_option="1";}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink' data=\""+data1+"\" name='Certificate' onclick='window.open(\"printcertificate.php?enrollid="+dataIdEncrypted+"&classid="+classIdEncrypted+"&userid="+objEval.enrUserId+'", "PrintCertificate", "width=1050, height=900, toolbar=yes, location=yes, directories=yes, status=yes, menubar=yes, scrollbars=yes, copyhistory=yes, resizable=yes")\'>'+Drupal.t("LBL205")+"</a></li>";}}}if(recertifyCompliance>0){if(classStatus=="lrn_cls_sts_atv"){var recertifyObj='$("#learner-enrollment-tab-inner").data("enrollment")';if(no_primary_html_button=="1"){html+="<a href='javascript:void(0);' class='actionLink'data=\""+data1+"\" value='"+Drupal.t("Reregister")+"' name='"+Drupal.t("Reregister")+"' onclick='"+recertifyObj+".showCompliancePopup("+usrId+","+classId+","+courseId+","+dataId+");' >"+Drupal.t("Reregister")+"</a>";no_primary_html_button="0";no_drop_down_option="1";
}else{enrollAction+="<li class='action-enable'><a href='javascript:void(0);' class='actionLink'data=\""+data1+"\" value='"+Drupal.t("Reregister")+"' name='"+Drupal.t("Reregister")+"' onclick='"+recertifyObj+".showCompliancePopup("+usrId+","+classId+","+courseId+","+dataId+");' >"+Drupal.t("Reregister")+"</a></li>";}}}}if(viewButton!="viewDetails"){if(no_primary_html_button=="1"){html+='<a id="class-accodion-'+dataId+'" href="javascript:void(0);" data="'+data1+'" class="clsDisabledButton actionLink enroll-launch vtip" onclick=\''+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+",true); '>"+Drupal.t("LBL816")+"</a>";no_primary_html_button="0";}else{enrollAction+='<li class="action-enable" style="display:none;"><a id="class-accodion-'+dataId+'" href="javascript:void(0);" data="'+data1+'" class="actionLink" onclick=\''+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+",true); '>"+Drupal.t("LBL816")+"</a></li>";
}}if(enrollAction!=""&&((no_drop_down_option!="1"&&RegStatusCode!="lrn_crs_cmp_inp")||(hideShareLink==0&&RegStatusCode=="lrn_crs_cmp_inp"))){html+="<div class='dd-btn'><span class='dd-arrow'></span><a class='enroll-launch-more' title='"+Drupal.t("LBL713")+"' onclick='"+obj+".showMoreAction(this)' onblur='"+obj+".hideMoreAction(this)'></a></div>";html+='<div class="enroll-action"><ul class="enroll-drop-down-list">'+enrollAction+"</ul></div>";}else{html+="<a class='enroll-launch-more-gray'></a>";}if(RegStatusCode=="lrn_crs_cmp_cmp"){html+="<div id='enroll-node-"+nodeId+"'>";html+="<input type='hidden' id = 'lnrenroll-node' value = '"+nodeId+"'>";html+=starWidgetHtml;html+="<div>";}}else{if(RegStatusCode=="lrn_crs_cmp_exp"){var recertifyObj='$("#learner-enrollment-tab-inner").data("enrollment")';viewButton="viewDetails";if(classStatus=="lrn_cls_sts_atv"&&recertifyCompliance>0){html+="<label class='enroll-launch-full'><a type='button' title='"+Drupal.t("Reregister")+"' class='actionLink enroll-launch mypgm-recertify vtip'data=\""+data1+"\" value='"+Drupal.t("Reregister")+"' name='"+Drupal.t("Reregister")+"' onclick='"+recertifyObj+".showCompliancePopup("+usrId+","+classId+","+courseId+","+dataId+");' >"+titleRestrictionFadeoutImage(Drupal.t("Reregister"),"exp-sp-mylearning-menulist")+"</a></label>";
}else{html+='<label class="enroll-launch-full"><span style="display:none;" id="class-accodion-'+dataId+"\" onclick='"+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+',true); \'></span><a href="javascript:void(0);"  class="action-link enroll-launch clsDisabledButton" >'+Drupal.t("LBL816")+"</a></label>";}}else{if(RegStatusCode=="lrn_crs_reg_ppm"||RegStatusCode=="lrn_crs_reg_wtl"){if(setDropButton==true){html+="<label class=\"enroll-launch-full\"><input type='button' class='actionLink enroll-launch' value='"+Drupal.t("LBL109")+"' data=\""+data1+"\" onclick='"+obj+".dropEnroll(this);' name='"+SMARTPORTAL.t("Cancel")+"' ></label>";var pendingAction='<li class="action-enable" style="display:none;"><a id="class-accodion-'+dataId+'" href="javascript:void(0);" data="'+data1+'" class="actionLink" onclick=\''+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+",true); '>"+Drupal.t("LBL816")+"</a></li>";
html+='<div class="enroll-action"><ul class="enroll-drop-down-list">'+pendingAction+"</ul></div>";}else{html+="<input type='button' class='actionLink enroll-launch-gray' value='"+Drupal.t("LBL109")+"' data=\""+data1+"\" name='"+SMARTPORTAL.t("Cancel")+"' >";}}}}if(RegStatusCode=="lrn_crs_cmp_inc"||RegStatusCode=="lrn_crs_reg_can"||RegStatusCode=="lrn_crs_cmp_nsw"){html+='<label class="enroll-launch-full"><span style="display:none;" id="class-accodion-'+dataId+"\" onclick='"+obj+".addAccordionToTable1("+dataId+',this.className,"0 0","0 -61px","dt-child-row-En",'+obj+".getClassDetails,this,"+obj+',true); \'></span><a href="javascript:void(0);"  class="action-link enroll-launch clsDisabledButton" >'+Drupal.t("LBL816")+"</a></label>";}html+="</div>";return html;}catch(e){}},launchMultiContent:function(enrollId,obj){try{var closeButt={};$("#launch-wizard").remove();html="";html+='<div id="launch-wizard" class="launch-wizard-content" style="display:none; padding: 0px;">';html+=this.getLaunchDetails(enrollId);
html+="</div>";$("body").append(html);Drupal.attachBehaviors();$(".enrollment-launch-table tr:last").css("border-bottom","0px");$(".launch-content-status").each(function(){if(parseInt($(this).css("width"))<72){$(this).css({width:"72px",display:"inline-block","text-align":"center"});}});var iframeWidth=0;if(Drupal.settings.widget.widgetCallback==true){var iframeWidth=$(document).width();}if(iframeWidth<775&&iframeWidth!=0){var cpopwidth=600;}else{var cpopwidth=675;}$("#launch-wizard").dialog({position:[(getWindowWidth()-700)/2,100],bgiframe:true,width:cpopwidth,resizable:false,modal:true,title:Drupal.t("Content"),buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"},zIndex:999});$("#launch-wizard").show();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();this.currTheme=Drupal.settings.ajaxPageState.theme;if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").before('<div class="white-btn-bg-left"></div>');
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass(" white-btn-bg-middle");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").after('<div class="white-btn-bg-right"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");}if(this.currTheme=="expertusoneV2"){$("#select-class-onclick-dialog").prevAll().removeAttr("select-class-onclick-dialog");$("#launch-wizard").closest(".ui-dialog").wrap("<div id='select-class-onclick-dialog'></div>");$("#select-class-onclick-dialog").find(".ui-dialog-content").addClass("commonMsg-select-class");changeChildDialogPopUI("select-class-onclick-dialog");$("#select-class-onclick-dialog").prev(".ui-widget-overlay").css("display","none");$("#select-class-dialog").prev(".ui-widget-overlay").css("display","none");if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$("#select-class-onclick-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").prev(".white-btn-bg-left").remove();
$("#select-class-onclick-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").remove();}$("#select-class-onclick-dialog #launch-wizard").after('<div class="popupBotLeftCorner ui-helper-clearfix"><div class="popupBotRightCorner"><div class="popupBotmiddle"></div></div></div>');if(iframeWidth<775&&iframeWidth!=0){$("#select-class-onclick-dialog .ui-widget").css("left","10px");}}$(".ui-dialog-titlebar-close,.removebutton").click(function(){$("#launch-wizard").remove();$("#select-class-onclick-dialog").next(".ui-widget-overlay").css("display","block");$("#select-class-dialog").next(".ui-widget-overlay").css("display","block");$("#select-class-onclick-dialog").remove();});resetFadeOutByClass("#launch-wizard","item-title-code","line-item-container","mylearning");if(document.getElementById("learner-enrollment-tab-inner")){$("#learner-enrollment-tab-inner").data("enrollment").scrollBarContentDialog();}if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").data("enrollment").scrollBarContentDialog();
}$("#paintEnrollmentResults tr:first-child td .title_close").trigger("click");}catch(e){}vtip();},getLaunchSurveyDetails:function(data){try{var data=eval(data);var html='<div id="launch-content-container">';html+='<table id="paintEnrollmentResults" cellpadding="0" cellspacing="0" width="100%" border="0" class="enrollment-launch-table">';$(data).each(function(){$(this).each(function(){var launchFrom="";var surveyId=$(this).attr("survey_id");var surveyTitle=$(this).attr("survey_title");var enrollId=$(this).attr("enroll_id");var enrollDate=decodeURIComponent(unescape($(this).attr("enroll_date")));var enrollStatus=$(this).attr("enroll_status");var objectId=$(this).attr("object_id");var objectTitle=$(this).attr("object_title");var objectType=$(this).attr("object_type");var surveyCount=$(this).attr("survey_count");var launchElligible="";var prevCourseTitle="";var masterEnrollId="";var clickparams="";var buttonValue="";var buttonclass="";var deliverytype="";var programId="";if(surveyCount==0){if(Drupal.settings.mylearning.user.survey_multipleTP>0){launchElligible=$(this).attr("launch_elligible");
prevCourseTitle=$(this).attr("prev_coursetitle");masterEnrollId=$(this).attr("master_enrollid");programId=$(this).attr("program_id");clickparams="$('.ui-dialog-titlebar-close').click();";if(launchElligible!==""&&launchElligible==0){if(masterEnrollId==""){clickparams+="$('#block-take-survey').data('surveylearner').callTakeSurveyToClass("+objectId+",'"+objectTitle+"','"+objectType+"','survey','',"+enrollId+",'NULL','enroll-result-container');";}else{if(objectType=="cre_sys_obt_crt"){clickparams+="$('#mod-accodion-"+programId+"').click();";}clickparams+="$('#lp_seemore_prg_"+masterEnrollId+"').click();";clickparams+="$('#block-take-survey').data('surveylearner').callTakeSurveyToClass("+objectId+",'"+Drupal.settings.mylearning.user.survey_objectname+"','"+Drupal.settings.mylearning.user.survey_objecttype+"','survey','',"+enrollId+",'NULL','enroll-lp-result-container');";}clickparams+="$('#block-take-survey').data('surveylearner').moveNext("+surveyId+");";}else{clickparams+="$('body').data('learningcore').callMessageWindow('Survey','"+Drupal.t("You need to complete")+" "+decodeURIComponent(unescape(prevCourseTitle))+" "+Drupal.t("Course")+"')";
}}else{if(Drupal.settings.mylearning.user.survey_objecttype=="cre_sys_obt_cls"){clickparams="$('.ui-dialog-titlebar-close').click();";clickparams+="$('#block-take-survey').data('surveylearner').callTakeSurveyToClass("+objectId+",'"+objectTitle+"','"+objectType+"','survey','',"+enrollId+",'NULL','enroll-result-container');";clickparams+="$('#block-take-survey').data('surveylearner').moveNext("+surveyId+");";clickparams+="setTimeout(function(){$('.survey-main-holder .ui-dialog-buttonset .removebutton').css('display','none');}, 200);";}else{clickparams="$('.ui-dialog-titlebar-close').click();";clickparams+="$('#block-take-survey').data('surveylearner').callTakeSurveyToClass("+objectId+",'"+objectTitle+"','"+objectType+"','survey','',"+enrollId+",'NULL','enroll-lp-result-container');";clickparams+="$('#block-take-survey').data('surveylearner').moveNext("+surveyId+");";clickparams+="setTimeout(function(){$('.survey-main-holder .ui-dialog-buttonset .removebutton').css('display','none');}, 200);";
}}buttonValue=Drupal.t("LBL199");buttonclass="enroll-launch";}else{buttonValue=Drupal.t("Completed");buttonclass="enroll-completed";}if(Drupal.settings.mylearning.user.survey_recertify==1){deliverytype=Drupal.t("Certification");}else{deliverytype=Drupal.t("Class");}html+='<tr id="lesson-launch-'+enrollId+'">';html+='<td class="enroll-launch-column1">';html+='<div class="enroll-course-title">';html+='<span id="lesson_title_'+enrollId+'"></span>';html+='<span id="titleAccEn_'+enrollId+'" class="item-title" >';html+='<span class="enroll-class-title"><span class="vtip" title="'+unescape($(this).attr("survey_title")).replace(/"/g,"&quot;")+'" href="javascript:void(0);"> '+titleRestrictionFadeoutImage(decodeURIComponent(unescape($(this).attr("survey_title"))),"exp-sp-lnrenrollment-content-title",150);+"";html+="</span></br>";html+='<div class="item-title-code individual-content">';if(Drupal.settings.mylearning.user.survey_multipleTP>0){html+='<span id="lesson_status_'+enrollId+'"><span title="'+Drupal.t("LBL704")+": "+enrollDate+'" class="vtip">'+Drupal.t("LBL704")+": "+enrollDate+'</span><span class="narrow-search-results-item-detail-pipe-line sharelink-edit-delete-icons">|</span></span>';
html+='<span class="assoc_object_title" id="lesson_status_'+enrollId+'"><span class="vtip content-subtitle" title="'+unescape($(this).attr("object_title")).replace(/"/g,"&quot;")+'"> '+Drupal.t("LBL083")+": "+titleRestrictionFadeoutImage(decodeURIComponent(unescape($(this).attr("object_title"))),"exp-sp-lnrenrollment-content-title",45);+"";html+="</span></span>";}else{html+='<span id="lesson_status_'+enrollId+'"><span title="'+deliverytype+" "+Drupal.t("LBL704")+": "+enrollDate+'" class="vtip">'+deliverytype+" "+Drupal.t("LBL704")+": "+enrollDate+"</span></span>";}html+="</div>";html+="</span>";html+="</span>";html+="</div>";html+="</td>";html+='<td class="enroll-launch-column2">';html+='<div class="enroll-main-list">';html+='<label id="'+enrollId+"_"+surveyId+'_launch_button_lbl" class="enroll-launch-full launch_button_lbl">';html+='<input type="button" id="'+enrollId+"_"+surveyId+'_launch_button" class="actionLink '+buttonclass+'"onclick="'+clickparams+'" value="'+buttonValue+'" >';html+="</label>";
html+="</div>";html+="</td></tr>";});});html+="</table>";html+="</div>";return html;}catch(e){}},launchMultiSurvey:function(data){try{var closeButt={};$("#launch-wizard").remove();html="";html+='<div id="launch-wizard" class="launch-wizard-content" style="display:none; padding: 0px;">';html+=this.getLaunchSurveyDetails(data);html+="</div>";$("body").append(html);Drupal.attachBehaviors();$(".enrollment-launch-table tr:last").css("border-bottom","0px");$(".launch-content-status").each(function(){if(parseInt($(this).css("width"))<72){$(this).css({width:"72px",display:"inline-block","text-align":"center"});}});var iframeWidth=0;if(Drupal.settings.widget.widgetCallback==true){var iframeWidth=$(document).width();}if(iframeWidth<775&&iframeWidth!=0){var cpopwidth=600;}else{var cpopwidth=675;}$("#launch-wizard").dialog({position:[(getWindowWidth()-700)/2,100],bgiframe:true,width:cpopwidth,resizable:false,modal:true,title:Drupal.t("Survey For")+"&nbsp;"+titleRestrictionFadeoutImage(decodeURIComponent(unescape(Drupal.settings.mylearning.user.survey_objectname)),"exp-sp-lnrenrollment-content-title",45),buttons:closeButt,closeOnEscape:false,draggable:false,overlay:{opacity:0.9,background:"black"},zIndex:999});
$(".assoc_object_title .fade-out-title-container").css("margin-bottom","-6px");$(".assoc_object_title .content-subtitle").css({overflow:"hidden",width:"342px","white-space":"nowrap",position:"absolute"});$(".assoc_object_title .content-subtitle .fade-out-title-container").css("max-width","312px");$(".enroll-class-title .fade-out-title-container .title-lengthy-text").css({"white-space":"normal","line-height":"16px","margin-top":"2px"});$(".assoc_object_title .content-subtitle .fade-out-title-container .title-lengthy-text").css({"white-space":"nowrap","margin-bottom":"8px"});$(".launch-wizard-content #paintEnrollmentResults .enroll-course-title .enroll-class-title .exp-sp-lnrenrollment-content-title").css("margin-bottom","-12px");$("#launch-wizard #paintEnrollmentResults .enroll-course-title .enroll-class-title .item-title-code").css("padding-top","0");$("#launch-wizard .enroll-launch-full").css({width:"auto","margin-left":"3px"});$("#launch-wizard .enroll-launch-full .enroll-launch").css({"border-radius":"12px",height:"24px",padding:"2px 0"});
$("#launch-wizard").show();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();this.currTheme=Drupal.settings.ajaxPageState.theme;if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").before('<div class="white-btn-bg-left"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass(" white-btn-bg-middle");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").after('<div class="white-btn-bg-right"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");}if(this.currTheme=="expertusoneV2"){$("#select-class-onclick-dialog").prevAll().removeAttr("select-class-onclick-dialog");$("#launch-wizard").closest(".ui-dialog").wrap("<div id='select-class-onclick-dialog'></div>");$("#select-class-onclick-dialog").find(".ui-dialog-content").addClass("commonMsg-select-class");
changeChildDialogPopUI("select-class-onclick-dialog");$("#select-class-onclick-dialog").prev(".ui-widget-overlay").css("display","none");$("#select-class-dialog").prev(".ui-widget-overlay").css("display","none");if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$("#select-class-onclick-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").prev(".white-btn-bg-left").remove();$("#select-class-onclick-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").remove();}$("#select-class-onclick-dialog #launch-wizard").after('<div class="popupBotLeftCorner ui-helper-clearfix"><div class="popupBotRightCorner"><div class="popupBotmiddle"></div></div></div>');if(iframeWidth<775&&iframeWidth!=0){$("#select-class-onclick-dialog .ui-widget").css("left","10px");}}$(".ui-dialog-titlebar-close,.removebutton").click(function(){$("#launch-wizard").remove();
$("#select-class-onclick-dialog").next(".ui-widget-overlay").css("display","block");$("#select-class-dialog").next(".ui-widget-overlay").css("display","block");$("#select-class-onclick-dialog").remove();});$("#select-class-onclick-dialog .ui-dialog .ui-dialog-titlebar .fade-out-title-container").css({"float":"right","margin-bottom":"-9px"});$("#select-class-onclick-dialog .ui-dialog .ui-dialog-titlebar .fade-out-title-container .fade-out-image").css("background","rgba(0, 0, 0, 0) linear-gradient(to right, transparent, #27245e) repeat scroll 0 0");if(document.getElementById("learner-enrollment-tab-inner")){$("#learner-enrollment-tab-inner").data("enrollment").scrollBarContentDialog();}$("#paintEnrollmentResults tr:first-child td .title_close").trigger("click");}catch(e){}vtip();},scrollBarContentDialog:function(){try{var contentDialogHeight=$("#launch-content-container").height();if(contentDialogHeight>550){$(".launch-wizard-content").css("height",550);$(".launch-wizard-content").css("overflow","auto");
}else{if(contentDialogHeight<=550){$(".launch-wizard-content").css("height","auto").css("min-height","70px");}}}catch(e){}},showMoreAction:function(obj){try{this.currTheme=Drupal.settings.ajaxPageState.theme;var position=$(obj).position();var posLeft=Math.round(position.left);var posTop=Math.round(position.top);$(".enroll-drop-down-list").toggle();$(".enroll-action").hide();if(this.currTheme=="expertusoneV2"){if(navigator.userAgent.indexOf("Chrome")>0){$(obj).parent().siblings(".enroll-action").css("position","absolute");$(obj).parent().siblings(".enroll-action").css("margin-top","21px");$(obj).parent().siblings(".enroll-action").css("top","2px");$(obj).parent().siblings(".enroll-action").css("z-index","-1");$(obj).parent().siblings(".enroll-action").slideToggle();}else{$(obj).parent().siblings(".enroll-action").css("position","");$(obj).parent().siblings(".enroll-action").css("margin-top","21px");$(obj).parent().siblings(".enroll-action").slideToggle();}$(obj).parent().siblings(".enroll-action").closest("tr").find(".enroll-main-list").css({"z-index":"1000"});
$(obj).parent().siblings(".enroll-action").closest("tr").prevAll("tr").find(".enroll-main-list").css({"z-index":"1000"});$(obj).parent().siblings(".enroll-action").closest("tr").nextAll("tr").find(".enroll-main-list").css({"z-index":"0"});$(obj).parent().siblings(".enroll-action").parents(".course-detail-section-innerRecord").closest("tr").nextAll("tr").find(".enroll-lp-main-list,.enroll-main-list").css({"z-index":"0"});}else{$(obj).parent().siblings(".enroll-action").css("position","absolute");$(obj).parent().siblings(".enroll-action").css("right","16px");$(obj).parent().siblings(".enroll-action").css("top",posTop+20);$(obj).parent().siblings(".enroll-action").slideToggle("");$(obj).parent().siblings(".iframe-mylearning #innerWidgetTagEnroll .enroll-action").css("right","321px");}}catch(e){}},hideMoreAction:function(obj){try{this.prevMoreObj="";}catch(e){}},getDropPolicy:function(data,loaderDiv){try{$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");
var dataobj=eval($(data).attr("data"));var isCommerceEnabled="";var assMand=0;if(dataobj.assMand=="Y"&&dataobj.is_exempted!=1){assMand=1;}var mandByRole=0;if(dataobj.mro=="Mandatory"&&dataobj.is_exempted!=1){mandByRole=1;}if(!assMand&&!mandByRole){if(availableFunctionalities.exp_sp_commerce!=undefined&&availableFunctionalities.exp_sp_commerce!=""){isCommerceEnabled="1";}}var closeButt={};$("#dropMsg-wizard").remove();html="";html+='<div id="dropMsg-wizard" style="display:none; padding: 0px;">';html+='<table width="100%" class="dropMsg-table" cellpadding="0" cellspacing="0" border="0" valign="center">';html+='<tr><td height="30"></td></tr>';html+="<tr>";html+='<td align="center" id="dropmsg-content"><span>'+Drupal.t("LBL416")+"</span></td>";html+="</tr>";html+="</table>";html+="</div>";$("body").append(html);$("#dropMsg-wizard").dialog({position:[(getWindowWidth()-500)/2,100],autoOpen:false,bgiframe:true,width:500,resizable:false,modal:true,title:Drupal.t("LBL109"),buttons:closeButt,closeOnEscape:false,draggable:true,overlay:{opacity:0.9,background:"black"}});
$("#dropMsg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#dropMsg-wizard").remove();});$("#learner-enrollment-tab-inner").data("enrollment").getDropPolicyCall(dataobj.RegId,dataobj.BaseType,dataobj.classid,isCommerceEnabled,assMand,dataobj.clstitle,mandByRole);}catch(e){}},getDropPolicyCall:function(enrollId,baseType,classid,isCommerceEnabled,assMand,clstitle,mandByRole){try{var userId=this.enrUserId;var url=this.constructUrl("ajax/get-droppolicy/"+userId+"/"+baseType+"/"+enrollId+"/"+classid+"/"+isCommerceEnabled+"/"+assMand+"/"+mandByRole);var obj=this;$.ajax({type:"POST",url:url,success:function(result){$("body").append("<script>"+result+"<\/script>");var closeButt={};if(drop_policy_info.next_action=="drop"){$("#dropmsg-content").html("<span>"+Drupal.t("MSG263")+'</span><br /><i>"'+unescape(clstitle)+'"</i>');closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#dropMsg-wizard").remove();};closeButt[Drupal.t("Yes")]=function(){$("#learner-enrollment-tab-inner").data("enrollment").dropEnrollCall(enrollId,baseType,"",isCommerceEnabled,assMand);
$("#dropmsg-content").html(Drupal.t("MSG424"));};}else{if(drop_policy_info.next_action=="showmsg"){$("#dropmsg-content").html("<span>"+SMARTPORTAL.t(drop_policy_info.msg)+"</span>");var html="";html+="<span><b>"+Drupal.t("LBL083")+" : </b>"+unescape(clstitle)+"</span>";html+="<br/><br/>";html+="<span>"+SMARTPORTAL.t(drop_policy_info.msg)+"</span>";$("#dropmsg-content").html(html);closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#dropMsg-wizard").remove();};}else{if(drop_policy_info.next_action=="showdroppolicy"){var html="";if(drop_policy_info.deducted_amount==0&&drop_policy_info.price>0){html+="<span>"+Drupal.t("MSG264")+"<br/> </span>";html+="<br/><br/>";html+="<span>"+Drupal.t("MSG266")+"</span>";}else{if(drop_policy_info.price<=0&&drop_policy_info.refund_amt==0){html+="<span>"+Drupal.t("MSG263")+'</span><br /><i>"'+unescape(clstitle)+'"</i>';}else{if(drop_policy_info.refund_amt!=null&&drop_policy_info.refund_amt!=undefined&&drop_policy_info.refund_amt!=""&&drop_policy_info.refund_amt!=0){drop_policy_info.refund_amt=drop_policy_info.refund_amt.toFixed(2);
}else{drop_policy_info.refund_amt="0.00";}if(drop_policy_info.deducted_amount!=null&&drop_policy_info.deducted_amount!=undefined&&drop_policy_info.deducted_amount!=""&&drop_policy_info.deducted_amount!=0){drop_policy_info.deducted_amount=drop_policy_info.deducted_amount.toFixed(2);}else{drop_policy_info.deducted_amount="0.00";}html+="<span>"+Drupal.t("MSG402")+" "+drop_policy_info.currency_type+" "+drop_policy_info.deducted_amount+" "+Drupal.t("MSG401")+"</span>";html+="<br/><br/>";html+='<span class="dropmsgTitle">'+Drupal.t("LBL1165")+": </span>"+drop_policy_info.currency_type+" "+drop_policy_info.refund_amt;html+="<br/><br/>";html+="<span>"+Drupal.t("MSG266")+"</span>";}}$("#dropmsg-content").html(html);closeButt[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#dropMsg-wizard").remove();};closeButt[Drupal.t("Yes")]=function(){$("#learner-enrollment-tab-inner").data("enrollment").dropEnrollCall(enrollId,baseType,"true",isCommerceEnabled,assMand);$("#dropmsg-content").html(Drupal.t("MSG424"));
};}}}$("#learner-enrollment-tab-inner").data("enrollment").destroyLoader("enroll-result-container");$("#dropMsg-wizard").dialog("open");$("#dropMsg-wizard").dialog("option","buttons",closeButt);$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();this.currTheme=Drupal.settings.ajaxPageState.theme;if(this.currTheme=="expertusoneV2"){changeDialogPopUI();}}});}catch(e){}},dropEnroll:function(data){try{this.getDropPolicy(data);}catch(e){}},dropEnrollCall:function(enrollId,baseType,refundflag,isCommerceEnabled,assMand){try{closeButt=new Array();$("#dropMsg-wizard").dialog("option","buttons",closeButt);var userId=this.enrUserId;
var url=this.constructUrl("ajax/drop-enroll/"+userId+"/"+baseType+"/"+enrollId+"/"+refundflag+"/"+isCommerceEnabled+"/"+assMand+"/0");var obj=this;$.ajax({type:"POST",url:url,success:function(result){$("body").append("<script>"+result+"<\/script>");if(drop_policy_result.status=="success"){var dialogObj=$("#dropMsg-wizard").dialog();dialogObj.dialog("destroy");dialogObj.dialog("close");$("#dropMsg-wizard").remove();var enrStr=Drupal.settings.myenrolmentSearchStr;if(typeof enrStr=="undefined"||enrStr==null||enrStr==undefined){$("#learner-enrollment-tab-inner").data("enrollment").callEnrollment("lrn_crs_cmp_enr|lrn_crs_cmp_inp|lrn_crs_cmp_att","Enrollmentpart");}else{$("#learner-enrollment-tab-inner").data("enrollment").callEnrollment(enrStr);}if(document.getElementById("learningplan-tab-inner")){$("#learningplan-tab-inner").data("learningplan").callLearningPlan("lrn_tpm_ovr_enr|lrn_tpm_ovr_inp","EnrollmentLP");}if(document.getElementById("instructor-tab-inner")){var insSelTab=($("#scheduled_tab").parent().hasClass("selected")===true)?"scheduled":"delivered";
$("#instructor-tab-inner").data("instructordesk").callInstructor(insSelTab);}$("#catalog-admin-cal").data("mycalendar").reloadMyCalendar();}else{$("#dropmsg-content").html("<span>"+SMARTPORTAL.t(drop_policy_result.msg)+"</span>");}}});}catch(e){}},showCompliancePopup:function(usrId,classId,courseId,dataId){var popupObj=$("#learningplan-tab-inner").data("learningplan");var obj=$("body").data("learningcore");var url=this.constructUrl("ajax/compliance-class-cnt/"+usrId+"/"+classId+"/"+courseId+"/"+dataId);$.ajax({type:"POST",url:url,success:function(result){returnMsg=$.trim(result);if(returnMsg=="MultiRegister"){popupObj.showSwitchClass(usrId,classId,courseId,dataId,"compliance");}else{if(returnMsg=="noclasses"||returnMsg=="pricedclass"){regMsg=(returnMsg=="noclasses")?Drupal.t("MSG379"):Drupal.t("Only priced class is available.Register from Catalog page.");obj.enrollChangeClassErrorMessage("compliance register",regMsg);}else{$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");
$("#paintEnrollmentResults").trigger("reloadGrid",[{page:1}]);}}}});},testAction:function(obj){try{}catch(e){}},loadComplete:function(){try{var recs=$("#paintEnrollmentResults").getGridParam("records");if(recs==0){$("#paintEnrollmentResults").html(Drupal.t("MSG381")+".");}}catch(e){}},showHide:function(strOne,strTwo){try{$("#"+strTwo).toggle();var classShowHide=$("#"+strOne).hasClass("clsShow");if(classShowHide){$("#"+strOne).removeClass("clsShow");$("#"+strOne).addClass("clsHide");}else{$("#"+strOne).removeClass("clsHide");$("#"+strOne).addClass("clsShow");}}catch(e){}},getConsolidatedQuizStatus:function(contentId,launchInfo){var quizStatus="";var lessonCount=0;$(launchInfo).each(function(i,launch){var contentInfo=launch[0];if(contentInfo.ContentId==contentId){lessonCount++;var successStatus=contentInfo.contentQuizStatus;if(successStatus=="failed"||successStatus=="incomplete"||successStatus.trim()==""){quizStatus=successStatus;return false;}else{if(contentInfo.ContentCompletionStatus=="completed"||(contentInfo.ContentCompletionStatus==""&&contentInfo.contentType!="Tin Can")){quizStatus="passed";
}else{quizStatus="";}}}});return quizStatus;},capitalizeFirstLetter:function(string){return string.charAt(0).toUpperCase()+string.slice(1);}});$.extend($.ui.enrollment.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("#learner-enrollment-tab-inner").enrollment();if(document.getElementById("learner-enrollment-tab-inner")){$("#first_pager").click(function(b){try{if(!$("#first_pager").hasClass("ui-state-disabled")){$("#gview_paintEnrollmentResults").css("min-height","auto");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");}}catch(b){}});$("#prev_pager").click(function(b){try{if(!$("#prev_pager").hasClass("ui-state-disabled")){$("#gview_paintEnrollmentResults").css("min-height","auto");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");}}catch(b){}});$("#next_pager").click(function(b){try{if(!$("#next_pager").hasClass("ui-state-disabled")){$("#gview_paintEnrollmentResults").css("min-height","auto");
$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");}}catch(b){}});$("#last_pager").click(function(b){try{if(!$("#last_pager").hasClass("ui-state-disabled")){$("#gview_paintEnrollmentResults").css("min-height","auto");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");}}catch(b){}});$("#pager .ui-pg-selbox").bind("change",function(){try{$("#gview_paintEnrollmentResults").css("min-height","auto");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#learner-enrollment-tab-inner").data("enrollment").hidePageControls(false);}catch(b){}});$("#pager .ui-pg-input").keyup(function(b){if(b.keyCode==13){$("#gview_paintEnrollmentResults").css("min-height","auto");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");}});if(Drupal.settings.ajaxPageState.theme=="expertusoneV2"){$("#enroll-result-container .page-show-prev").bind("click",function(){if(parseInt($("#pg_pager .page_count_view").attr("id"))<0){$("#pg_pager .page_count_view").attr("id","0");
}else{$("#gview_paintEnrollmentResults").css("min-height","100px");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#learner-enrollment-tab-inner").data("enrollment").hidePageControls(false);}});$("#enroll-result-container .page-show-next").bind("click",function(){if(parseInt($("#pg_pager .page_count_view").attr("id"))>=parseInt($("#pg_pager .page-total-view").attr("id"))){$("#pg_pager .page_count_view").attr("id",($("#pg_pager .page_count_view").attr("id")-1));}else{$("#gview_paintEnrollmentResults").css("min-height","100px");$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#learner-enrollment-tab-inner").data("enrollment").hidePageControls(false);}});}}if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").enrollment();}}catch(a){}});function refresh_enrolled(a,b){if(!a.closed){var a=a;setTimeout(refresh_enrolled,10000,a);}else{reload_page();refresh_time(b);}}function refresh_time(a){setTimeout(reload_page,a);
}function reload_page(){if(document.getElementById("loaderdivenroll-result-container")){}else{$("#paintEnrollmentResults").setGridParam().trigger("reloadGrid");}};
(function($){$.widget("ui.contentLaunch",{_init:function(){try{var self=this;this.obj=null;var scorm_api_init=null;}catch(e){}},launchWBTContent:function(data){try{if(isLaunched||(winobj!==undefined&&!winobj.closed)){$("body").data("learningcore").enrollChangeClassErrorMessage(Drupal.t("Content"),Drupal.t("MSG754"),1);return false;}var pmType=data.contentType;var classid=data.classId;var courseid=data.courseId;var stdid=this.getLearnerId();var stdname=this.getUserName();var pmPath=data.url1;var contentVersion;var contentType;var contentQuizStatus=data.contentQuizStatus;if(stdid=="0"||stdid==""){self.location="?q=learning/enrollment-search";return;}if(data.LaunchFrom=="LP"){$("#learningplan-tab-inner").data("learningplan").createLoader("enroll-lp-result-container");$("#learningplan-tab-inner").data("contentLaunch").updateFrom="LP";if(document.getElementById("learner-enrollment-tab-inner")){$("#learner-enrollment-tab-inner").data("contentLaunch").updateFrom="";}disableWidgetDeleteAction("block-exp-sp-lnrlearningplan-tab-my-learningplan");
}else{if(data.LaunchFrom=="CL"){$("#lnr-catalog-search").data("contentLaunch").updateFrom="CL";}else{$("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");$("#learner-enrollment-tab-inner").data("contentLaunch").updateFrom="ME";if(document.getElementById("learningplan-tab-inner")){$("#learningplan-tab-inner").data("contentLaunch").updateFrom="";}disableWidgetDeleteAction("block-exp-sp-lnrenrollment-tab-my-enrollment");}}this.launchParam={launchUrl:data.url1,userId:stdid,username:stdname,courseid:courseid,classid:classid,lessonid:data.Id,versionid:data.VersionId,enrollid:data.enrollId,prevcontentstatus:data.Status,LaunchFrom:data.LaunchFrom,aicc_sid:data.AICC_SID};if(pmType.toLowerCase()=="scorm 1.2"||pmType.toLowerCase()=="scorm 2004"){pmType=pmType;var pmTypeVer=pmType.split(" ");contentType=pmTypeVer[0];contentVersion=pmTypeVer[1];}else{contentVersion="";contentType=pmType;}var x={version:contentVersion,type:contentType};scoobj=new SCORM_API_WRAPPER(x);
var lessonlocation=data.LessonLocation==null||data.LessonLocation==undefined||data.LessonLocation=="null"||data.LessonLocation==""?"":data.LessonLocation;var launch_data=data.launch_data==null||data.launch_data==undefined||data.launch_data=="null"||data.launch_data==""?"":data.launch_data;var suspend_data=data.suspend_data==null||data.suspend_data==undefined||data.suspend_data=="null"||data.suspend_data==""?"":unescape(data.suspend_data);var exit=data.exit==null||data.exit==undefined||data.exit==""?"":data.exit;var AICC_SID=data.AICC_SID==null||data.AICC_SID==undefined||data.AICC_SID==""?"":data.AICC_SID;suspend_data=decodeURIComponent(suspend_data);lessonlocation=decodeURIComponent(lessonlocation);var launchButton=$("#"+data.Id+"_"+data.enrollId+"_launch_button");if(launchButton.length>0){var launchButtonData=eval(launchButton.data("relaunch"));if(launchButtonData.length){lessonlocation=launchButtonData[0].lessonlocation;launch_data=launchButtonData[0].launchData;suspend_data=decodeURIComponent(unescape(launchButtonData[0].suspendData));
exit=launchButtonData[0].exit;}}if(checkEncodedState(suspend_data)==false){}else{suspend_data=decodeURIComponent(suspend_data);}if(checkEncodedState(lessonlocation)==false){}else{lessonlocation=decodeURIComponent(lessonlocation);}var newobj=this;$.ajax({url:"?q=ajax/getcdnurl/"+data.Id,success:function(result){if(document.getElementById("learningplan-tab-inner")){$("#learningplan-tab-inner").data("learningplan").destroyLoader("enroll-lp-result-container");}if(document.getElementById("learner-enrollment-tab-inner")){$("#learner-enrollment-tab-inner").data("enrollment").destroyLoader("enroll-result-container");}if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").data("enrollment").destroyLoader("enroll-result-container");}var output=result.split("~~");url1=output[0];cdnstatus=output[1];if(scoobj._type.toLowerCase()=="scorm"){scorm_api_init=new Object();scorm_api_init.session_time="0000:00:00.00";scorm_api_init.lesson_location=lessonlocation;scorm_api_init.launch_data=launch_data;
scorm_api_init.suspend_data=suspend_data;scorm_api_init.version=scoobj._version;if(scoobj._version=="2004"){scorm_api_init.completion_status="not attempted";scorm_api_init.success_status="unknown";}else{scorm_api_init.lesson_status="not attempted";}}if(cdnstatus==1){var data1={url:url1,callback:newobj.updateScore,learnerId:stdid,learnerName:stdname,completionStatus:"not attempted",successStatus:"unknown",scoreMax:"0",scoreMin:"0",score:"0",location:lessonlocation,courseid:courseid,classid:classid,lessonid:data.Id,versionid:data.VersionId,enrollid:data.enrollId,launch_data:launch_data,suspend_data:suspend_data,exit:exit,aicc_sid:AICC_SID,MasteryScore:data.MasteryScore};scoobj.Initialize(data1);}else{var data1={url:pmPath,callback:newobj.updateScore,learnerId:stdid,learnerName:stdname,contentQuizStatus:data.contentQuizStatus,completionStatus:"not attempted",successStatus:"unknown",scoreMax:"0",scoreMin:"0",score:"0",location:lessonlocation,courseid:courseid,classid:classid,lessonid:data.Id,versionid:data.VersionId,enrollid:data.enrollId,launch_data:launch_data,suspend_data:suspend_data,exit:exit,aicc_sid:AICC_SID,MasteryScore:data.MasteryScore};
scoobj.Initialize(data1);}}});}catch(e){}},updateScore:function(callback_param){try{var setObj;var updateFrom;if(document.getElementById("learningplan-tab-inner")){if($("#learningplan-tab-inner").data("contentLaunch").updateFrom=="LP"){setObj=$("#learningplan-tab-inner").data("contentLaunch");updateFrom="LP";}activateWidgetDeleteAction("block-exp-sp-lnrlearningplan-tab-my-learningplan");}if(document.getElementById("learner-enrollment-tab-inner")){if($("#learner-enrollment-tab-inner").data("contentLaunch").updateFrom=="ME"){setObj=$("#learner-enrollment-tab-inner").data("contentLaunch");updateFrom="ME";}activateWidgetDeleteAction("block-exp-sp-lnrenrollment-tab-my-enrollment");}if(document.getElementById("lnr-catalog-search")){if($("#lnr-catalog-search").data("contentLaunch").updateFrom=="CL"){setObj=$("#lnr-catalog-search").data("contentLaunch");updateFrom="CL";}if($("#lnr-catalog-search").data("contentLaunch").updateFrom=="ME"){setObj=$("#lnr-catalog-search").data("contentLaunch");updateFrom="ME";
}}var sestime="0";var courseComplitionStatus="";var lObj="'"+setObj+"'";var launchflag=0;var crid=setObj.launchParam.courseid;var clid=setObj.launchParam.classid;var lesid=setObj.launchParam.lessonid;var versionid=setObj.launchParam.versionid;var enrollid=setObj.launchParam.enrollid;var stid=setObj.launchParam.userId;var prevcontentstatus=setObj.launchParam.prevcontentstatus;var regId=setObj.launchParam.enrollid;var aicc_sid=setObj.launchParam.aicc_sid;var contentType="scorm 1.2";var contentVersion="";var result=(callback_param!==undefined&&(scoobj._type.toLowerCase()=="scorm"||scoobj._type.toLowerCase()=="knowledge content"))?callback_param:scoobj.Finish();var status="";var scmax="";var scmin="";var score="";var loc="";var compstatus="";var launch_data="";var suspend_data="";var exit="";var grade="";var xstatus="";if(typeof(result)!=undefined&&typeof(result)!="undefined"){status=result.status;score=result.score;sestime=result.sessionTime;loc=result.location;compstatus=result.completionStatus;
launch_data=result.launch_data;suspend_data=result.suspend_data;exit=result.exit;launchflag=(callback_param!==undefined)?result.launchflag:0;}var is_scorm_api_changed=true;if(scoobj._type!="Knowledge Content"&&scoobj._type!="Tin Can"){if(prevcontentstatus!="Completed"){if(scoobj._type.toLowerCase()=="scorm"&&scoobj._version=="2004"){var completion_status=compstatus.toLowerCase();var success_status=status.toLowerCase();if(completion_status=="completed"){xstatus="lrn_crs_cmp_cmp";}else{if(completion_status=="unknown"&&(success_status=="unknown"||success_status=="passed")){xstatus="lrn_crs_cmp_cmp";}else{xstatus="lrn_crs_cmp_inp";}}}else{if(status.toLowerCase()=="passed"||status.toLowerCase()=="failed"||status.toLowerCase()=="completed"||status.toLowerCase()=="unknown"){xstatus="lrn_crs_cmp_cmp";}else{xstatus="lrn_crs_cmp_inp";}}}else{xstatus="lrn_crs_cmp_cmp";}if(scoobj._type.toLowerCase()=="scorm"){if(scoobj._version=="2004"){if(compstatus=="not attempted"&&scorm_api_init.session_time==sestime&&scorm_api_init.lesson_location==loc&&scorm_api_init.launch_data==launch_data&&scorm_api_init.suspend_data==suspend_data&&scorm_api_init.success_status==status){is_scorm_api_changed=false;
}}else{if(status=="not attempted"&&scorm_api_init.session_time==sestime&&scorm_api_init.lesson_location==loc&&scorm_api_init.launch_data==launch_data&&scorm_api_init.suspend_data==suspend_data){is_scorm_api_changed=false;}}}}else{if(scoobj._type=="Tin Can"){xstatus="lrn_crs_cmp_inp";}else{if(scoobj._type=="Knowledge Content"){if(status.toLowerCase()=="completed"){xstatus="lrn_crs_cmp_cmp";}else{xstatus="lrn_crs_cmp_inp";}}else{xstatus="lrn_crs_cmp_cmp";status="Completed";}}}if(score==undefined||score==""){score="0";grade="";}$("#"+lesid+"_launch_score").html(score);$("#"+lesid+"launch_grade").html(grade);$("#"+lesid+"_launch_status").html(xstatus);$("#surveybutton_"+clid).css("display","block");$("#lanchlinks1_"+clid+"").click();var type="";if(setObj.launchParam.launchUrl!=null&&setObj.launchParam.launchUrl.indexOf("h5p/embed")>0){type="h5p";var mystr=setObj.launchParam.launchUrl;var myarr=mystr.split("/");var h5p_cnt_id=myarr[2];}var launchData={regid:regId,stid:stid,classid:clid,courseid:crid,lessonid:lesid,versionid:versionid,status:xstatus,max:scmax,min:scmin,score:score,grade:grade,sestime:sestime,location:loc,enrollid:enrollid,courseComplitionStatus:courseComplitionStatus,launch_data:launch_data,suspend_data:encodeURIComponent(suspend_data),exit:exit,contentstatus:status,compstatus:compstatus,contenttype:scoobj._type,contentversion:scoobj._version,aicc_sid:aicc_sid,is_scorm_api_changed:is_scorm_api_changed,launchflag:launchflag,type:type,h5p_cnt_id:h5p_cnt_id};
var passUrl="launch&regid="+regId+"&stid="+stid+"&classid="+clid+"&courseid="+crid+"&lessonid="+lesid+"&versionid="+versionid+"&status="+xstatus+"&max="+scmax+"&min="+scmin;passUrl=passUrl+"&score="+score+"&grade="+grade+"&sestime="+sestime+"&location="+loc+"&enrollid="+enrollid+"&courseComplitionStatus="+courseComplitionStatus;passUrl=passUrl+"&contentstatus="+status+"&launch_data="+launch_data+"&suspend_data="+suspend_data+"&exit="+exit+"&aicc_sid="+aicc_sid;var url="";var post_data="";if(scoobj._type=="AICC"||scoobj._type=="AICC Course Structure"){var sid=aicc_sid;passUrl="session_id="+sid+"&command=UPDATELMSDATA";url=resource.base_url+"/sites/all/commonlib/AICC_Handler.php";post_data={session_id:callback_param,command:"UPDATELMSDATA",launchflag:launchflag};}else{if(scoobj._type=="Tin Can"){var sid=aicc_sid;passUrl="Authorization="+sid+"&command=UPDATELMSDATA";url=resource.base_url+"/sites/all/commonlib/TinCan_Handler.php";post_data={"Authorization=":callback_param,command:"UPDATELMSDATA",launchflag:launchflag};
}else{url=resource.base_url+"/?q=ajax/update-launch/launch";post_data=launchData;}}if(launchflag==0){if(document.getElementById("launch-wizard")){$("#launch-wizard").css("overflow-x","hidden");setObj.createLoader("launch-wizard");}if(document.getElementById("launch-lp-wizard")){$("#launch-lp-wizard").css("overflow-x","hidden");setObj.createLoader("launch-lp-wizard");}if(document.getElementById("learningplan-tab-inner")){setObj.createLoader("enroll-lp-result-container");}if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");if(document.getElementById("course-details-display-content")){$("#course-details-display-content").data("lnrcoursedetails").createLoader("class-list-loader");}if(document.getElementById("learning-plan-details-display-content")){$("#learning-plan-details-display-content").data("lnrplandetails").createLoader("class-container-loader-"+clid);}if(document.getElementById("class_detail_content")){$("#class_detail_content").data("lnrclassdetails").createLoader("class_detail_content");
}if(document.getElementById("tbl-paintCatalogContentResults")){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("paintCatalogContentResults"+stid);}}}var obj=this;if(callback_param==null&&$("#content-to-maximize").find("iframe").length>0){$("#content-to-maximize").find("iframe").each(function(){$(this).remove();});Drupal.CTools.Modal.dismiss();winobj.closed=true;isLaunched=false;}$.ajax({type:"POST",url:url,data:post_data,success:function(result){if(launchflag==1){return;}scoobj=new Object();if(document.getElementById("learner-enrollment-tab-inner")){if(document.getElementById("launch-content-container")){$("#paintEnrollmentResults").setGridParam({postData:{lessonId:lesid,enrollmentId:regId}});if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentResults")==false){$("#paintEnrollmentResults").trigger("reloadGrid");}}else{if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentResults")==false){$("#paintEnrollmentResults").trigger("reloadGrid");
}}setObj.destroyLoader("launch-wizard");$("#launch-wizard").css("overflow","auto");}if(document.getElementById("learningplan-tab-inner")){if(document.getElementById("lplaunch-content-container")){$("#paintEnrollmentLPResults").setGridParam({postData:{lessonId:lesid,enrollmentId:regId}});if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentLPResults")==false){$("#paintEnrollmentLPResults").trigger("reloadGrid");}}else{if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentLPResults")==false){$("#paintEnrollmentLPResults").trigger("reloadGrid");}}setObj.destroyLoader("launch-lp-wizard");$("#launch-lp-wizard").css("overflow","auto");}if(document.getElementById("lnr-catalog-search")){if(document.getElementById("launch-wizard")){setObj.createLoader("launch-wizard");}$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");
url=setObj.constructUrl("ajax/learningcore/register-to-launch/"+stid+"/"+clid+"/"+crid+"/"+regId+"/lrn_cls_dty_wbt/1/"+lesid);$.ajax({type:"POST",url:url,success:function(result){if(result){result_arr=result.split("*~*");var launched_info=$.parseJSON(result_arr[1]);var lessonCnt=result_arr[2];$("#lnr-catalog-search").data("enrollment").updateMultiContentLaunchDialog(regId,lesid,launched_info.triggering_lesson_details,launched_info.triggering_content_quiz_status);var html_out="<div "+result_arr[0]+"</div>";if(document.getElementById("launch"+regId)){$("#launch"+regId).replaceWith(html_out);Drupal.attachBehaviors($("#launch"+regId));}if(document.getElementById("registerCls_"+clid)){$("#registerCls_"+clid).replaceWith(html_out);Drupal.attachBehaviors($("#registerCls_"+clid));}paintContentStatus(launched_info,crid,clid,"",lessonCnt,regId);}$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("searchRecordsPaint");if(document.getElementById("launch-content-container")){$("#lnr-catalog-search").data("enrollment").scrollBarContentDialog();
}if(document.getElementById("tbl-paintCatalogContentResults")){if(document.getElementById("launch"+regId)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("launch"+regId);}else{if(document.getElementById("registerCls_"+clid)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("registerCls_"+clid);}}$("#tbl-paintCatalogContentResults").trigger("reloadGrid");}if(document.getElementById("paintContentResults")){if(document.getElementById("launch"+regId)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("launch"+regId);}else{if(document.getElementById("registerCls_"+clid)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("registerCls_"+clid);}}if(typeof $("#lnr-catalog-search").data("lnrcatalogsearch")=="undefined"||$("#lnr-catalog-search").data("lnrcatalogsearch").refreshLastAccessedCatalogRow()==false){$("#paintContentResults").trigger("reloadGrid");}}if(document.getElementById("launch-wizard")){setObj.destroyLoader("launch-wizard");}if(document.getElementById("course-details-display-content")){$("#course-details-display-content").data("lnrcoursedetails").destroyLoader("class-list-loader");
}if(document.getElementById("learning-plan-details-display-content")){$("#learning-plan-details-display-content").data("lnrplandetails").destroyLoader("class-container-loader-"+clid);}if(document.getElementById("class_detail_content")){$("#class_detail_content").data("lnrclassdetails").destroyLoader("class_detail_content");}}});}if(document.getElementById("my_transcript_jqgrid")){$("#my_transcript_jqgrid").trigger("reloadGrid");}for(var line_item in result){if(line_item==0){if(result[line_item].CompMessage=="Attempts Over"){callLaunchMessageWindow(Drupal.t("LBL929"),Drupal.t("MSG915"));}}}}});}catch(e){}},updateVODScoreOnCtoolsModalClose:function(launchedFrom,courseId,classId,lessonId,versionId,enrollId,prevContentStatus,videoSessionId,type,h5p_cnt_id){try{if(winobj!==undefined){winobj.closed=true;}var setObj;var updateFrom;if(launchedFrom=="LP"){setObj=$("#learningplan-tab-inner").data("contentLaunch");updateFrom="LP";$("#launch-lp-wizard").parent().css("display","block");activateWidgetDeleteAction("block-exp-sp-lnrlearningplan-tab-my-learningplan");
if(launchflag==0){if(document.getElementById("launch-lp-wizard")){setObj.createLoader("launch-lp-wizard");$("#launch-lp-wizard").css("overflow-x","hidden");}else{if(document.getElementById("enroll-lp-result-container")){setObj.createLoader("enroll-lp-result-container");}}}}else{if(launchedFrom=="ME"){if(document.getElementById("lnr-catalog-search")){setObj=$("#lnr-catalog-search").data("contentLaunch");}else{setObj=$("#learner-enrollment-tab-inner").data("contentLaunch");}updateFrom="ME";$("#class_detail_content #launch-wizard").show();$("#launch-wizard").parent().css("display","block");activateWidgetDeleteAction("block-exp-sp-lnrenrollment-tab-my-enrollment");if(launchflag==0){if(document.getElementById("launch-wizard")){setObj.createLoader("launch-wizard");$("#launch-wizard").css("overflow-x","hidden");}else{if(document.getElementById("paintEnrollmentResults")){setObj.createLoader("enroll-result-container");}}}}}var crid=parseInt(courseId);var clid=parseInt(classId);var lesid=parseInt(lessonId);
var versionid=parseInt(versionId);var enrollid=parseInt(enrollId);var stid=this.getLearnerId();var regId=parseInt(enrollId);var status="";var xstatus="";if(stid=="0"||stid==""){self.location="?q=learning/enrollment-search";return;}status="Completed";xstatus="lrn_crs_cmp_cmp";$("#"+lesid+"_launch_status").html(xstatus);$("#surveybutton_"+clid).css("display","block");$("#lanchlinks1_"+clid+"").click();var video_suspend_data=null;if(typeof videoTrackerProgress!="undefined"&&videoTrackerProgress!=null){videoTrackerProgress.progress=Math.round((videoTrackerProgress.current_position/videoTrackerProgress.video_duration)*100);videoTrackerProgress.progress=videoTrackerProgress.progress>100?100:videoTrackerProgress.progress;video_suspend_data=videoTrackerProgress;}var launchflag=0;if(videoSessionId!=undefined&&videoSessionId==1){launchflag=1;}var launchData={regid:regId,stid:stid,classid:clid,courseid:crid,lessonid:lesid,versionid:versionid,enrollid:enrollid,prev_content_status:prevContentStatus,video_suspend_data:JSON.stringify(video_suspend_data),type:type,h5p_cnt_id:h5p_cnt_id,launchflag:launchflag};
url=resource.base_url+"/?q=ajax/update-launch/launch";post_data=launchData;if(launchflag==0){if(document.getElementById("lnr-catalog-search")){if(document.getElementById("course-details-display-content")){$("#course-details-display-content").data("lnrcoursedetails").createLoader("class-list-loader");}if(document.getElementById("learning-plan-details-display-content")){$("#learning-plan-details-display-content").data("lnrplandetails").createLoader("class-container-loader-"+classId);}if(document.getElementById("class_detail_content")){$("#class_detail_content").data("lnrclassdetails").createLoader("class_detail_content");}}}var obj=this;$.ajax({type:"POST",url:url,data:post_data,success:function(result){if(launchflag==1){return;}disposeVideoJSPlayer("all");for(i=0;i<result.length;i++){if(result[i].ID==parseInt(lesid)){$("#"+lesid+"_"+regId+"attempts_left").html(result[i].contValidateMsg);}}if(launchedFrom=="LP"){if(document.getElementById("launch-lp-wizard")){setObj.destroyLoader("launch-lp-wizard");
$("#launch-lp-wizard").css("overflow-x","hidden");}else{if(document.getElementById("paintEnrollmentLPResults")){setObj.destroyLoader("paintEnrollmentLPResults");}}}else{if(launchedFrom=="ME"){if(document.getElementById("launch-wizard")){setObj.destroyLoader("launch-wizard");$("#launch-wizard").css("overflow-x","hidden");}else{if(document.getElementById("enroll-result-container")){setObj.destroyLoader("enroll-result-container");}}}}if(document.getElementById("lnr-catalog-search")){if(document.getElementById("launch-wizard")){$("#launch-wizard").css("overflow","hidden");obj.createLoader("launch-wizard");}$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");url=obj.constructUrl("ajax/learningcore/register-to-launch/"+stid+"/"+clid+"/"+crid+"/"+regId+"/lrn_cls_dty_vod/1/"+lesid);$.ajax({type:"POST",url:url,success:function(result){if(result){result_arr=result.split("*~*");var launched_info=$.parseJSON(result_arr[1]);var lessonCnt=result_arr[2];$("#lnr-catalog-search").data("enrollment").updateMultiContentLaunchDialog(regId,lesid,launched_info.triggering_lesson_details,launched_info.triggering_content_quiz_status);
var html_out="<div "+result_arr[0]+"</div>";if(document.getElementById("launch"+regId)){$("#launch"+regId).replaceWith(html_out);Drupal.attachBehaviors($("#launch"+regId));}if(document.getElementById("registerCls_"+clid)){$("#registerCls_"+clid).replaceWith(html_out);Drupal.attachBehaviors($("#registerCls_"+clid));}paintContentStatus(launched_info,crid,clid,"",lessonCnt,regId);}if(document.getElementById("launch-content-container")){$("#lnr-catalog-search").data("enrollment").scrollBarContentDialog();}if(document.getElementById("tbl-paintCatalogContentResults")){if(document.getElementById("launch"+regId)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("launch"+regId);}else{if(document.getElementById("registerCls_"+clid)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("registerCls_"+clid);}}$("#tbl-paintCatalogContentResults").trigger("reloadGrid");}if(document.getElementById("paintContentResults")){if(document.getElementById("launch"+regId)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("launch"+regId);
}else{if(document.getElementById("registerCls_"+clid)){$("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("registerCls_"+clid);}}if(typeof $("#lnr-catalog-search").data("lnrcatalogsearch")=="undefined"||$("#lnr-catalog-search").data("lnrcatalogsearch").refreshLastAccessedCatalogRow()==false){$("#paintContentResults").trigger("reloadGrid");}}$("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("searchRecordsPaint");if(document.getElementById("launch-wizard")){obj.destroyLoader("launch-wizard");}$("#class_detail_content #launch-wizard").hide();if(document.getElementById("course-details-display-content")){$("#course-details-display-content").data("lnrcoursedetails").destroyLoader("class-list-loader");}if(document.getElementById("learning-plan-details-display-content")){$("#learning-plan-details-display-content").data("lnrplandetails").destroyLoader("class-container-loader-"+clid);}if(document.getElementById("class_detail_content")){$("#class_detail_content").data("lnrclassdetails").destroyLoader("class_detail_content");
}resetFadeOutByClass("#launch-wizard","item-title-code","line-item-container","mylearning");}});}if(document.getElementById("learner-enrollment-tab-inner")){if(document.getElementById("launch-content-container")){$("#paintEnrollmentResults").setGridParam({postData:{lessonId:lesid,enrollmentId:regId}});if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentResults")==false){$("#paintEnrollmentResults").trigger("reloadGrid");}}else{if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentResults")==false){$("#paintEnrollmentResults").trigger("reloadGrid");}}}if(document.getElementById("learningplan-tab-inner")){if(document.getElementById("lplaunch-content-container")){$("#paintEnrollmentLPResults").setGridParam({postData:{lessonId:lesid,enrollmentId:regId}});if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentLPResults")==false){$("#paintEnrollmentLPResults").trigger("reloadGrid");
}}else{if(typeof $("body").data("learningcore")=="undefined"||$("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentLPResults")==false){$("#paintEnrollmentLPResults").trigger("reloadGrid");}}}if(xstatus=="lrn_crs_cmp_cmp"&&document.getElementById("my_transcript_jqgrid")){$("#my_transcript_jqgrid").trigger("reloadGrid");}for(var line_item in result){if(line_item==0){if(result[line_item].CompMessage=="Attempts Over"){callLaunchMessageWindow(Drupal.t("LBL929"),Drupal.t("MSG915"));}}}}});}catch(e){}}});$.extend($.ui.contentLaunch.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);var obj;$(function(){try{if(document.getElementById("learner-enrollment-tab-inner")){$("#learner-enrollment-tab-inner").contentLaunch();}if(document.getElementById("learningplan-tab-inner")){$("#learningplan-tab-inner").contentLaunch();}if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").contentLaunch();}}catch(a){}});
function callLaunchMessageWindow(f,c){try{if(f=="registertitle"){f=Drupal.t("LBL721");}$("#commonMsg-wizard").remove();var b="";b+='<div id="commonMsg-wizard" style="display:none; padding: 0px;">';b+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';b+='<tr><td height="30"></td></tr>';b+="<tr>";b+='<td align="center"><span class="select-greyed-out-text">'+SMARTPORTAL.t(c)+"</span></td>";b+="</tr>";b+="</table>";b+="</div>";$("body").append(b);var a={};a[Drupal.t("LBL123")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#commonMsg-wizard").remove();};$("#commonMsg-wizard").dialog({position:[(getWindowWidth()-500)/2,100],bgiframe:true,width:520,resizable:false,modal:true,title:SMARTPORTAL.t(f),buttons:a,closeOnEscape:false,draggable:true,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();this.currTheme=Drupal.settings.ajaxPageState.theme;if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").before('<div class="white-btn-bg-left"></div>');
$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass(" white-btn-bg-middle");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").after('<div class="white-btn-bg-right"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").css("margin-right","0px");}if(this.currTheme=="expertusoneV2"){$("#select-class-equalence-dialog").prevAll().removeAttr("select-class-equalence-dialog");$("#commonMsg-wizard").closest(".ui-dialog").wrap("<div id='select-class-equalence-dialog'></div>");$("#select-class-equalence-dialog").find(".ui-dialog-content").addClass("commonMsg-select-class");changeChildDialogPopUI("select-class-equalence-dialog");if($.browser.msie&&parseInt($.browser.version,10)=="9"&&this.currTheme=="expertusoneV2"||$.browser.msie&&parseInt($.browser.version,10)=="8"&&this.currTheme=="expertusoneV2"){$("#select-class-equalence-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").prev(".white-btn-bg-left").remove();
$("#select-class-equalence-dialog .ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").next(".white-btn-bg-right").remove();}}else{$("#select-class-equalence-dialog").prevAll().removeAttr("select-class-equalence-dialog");$("#commonMsg-wizard").closest(".ui-dialog").wrap("<div id='select-class-equalence-dialog'></div>");changeChildDialogPopUI("select-class-equalence-dialog");$("#select-class-equalence-dialog").prev(".ui-widget-overlay").css("display","none");}$("#commonMsg-wizard").show();$(".ui-dialog-titlebar-close,.removebutton").click(function(){$("#commonMsg-wizard").remove();$("#select-class-dialog").next(".ui-widget-overlay").css("display","block");});}catch(d){}};
var API_1484_11;var API;var winobj;var _isFinishCalled;var KC_API=new Object();var isLaunched=false;var refresh_timer;var timeOutVar;SCORM_API_WRAPPER.prototype._version=null;SCORM_API_WRAPPER.prototype._type=null;SCORM_API_WRAPPER.prototype._callback=null;SCORM_API_WRAPPER.prototype.callback_param=null;SCORM_API_WRAPPER.prototype.winName="";function SCORM_API_WRAPPER(a){try{this._version=a.version;this._type=a.type;}catch(b){}}SCORM_API_WRAPPER.prototype.Initialize=function(b){try{isLaunched=true;var a=new Date().getTime();this.winName=this._type.replace(/\ /g,"_")+"_"+a;if(this._type=="SCORM"){this.SCORMInit(b);}else{if(this._type=="Knowledge Content"){this.LaunchKnowledgeContent(b);}else{if(this._type=="Assessment"){this.LaunchAssessment(b);}else{if(this._type=="AICC"||this._type=="AICC Course Structure"){this.LaunchAICC(b);}else{if(this._type=="Tin Can"){this.LaunchTincan(b);}}}}}}catch(c){}};SCORM_API_WRAPPER.prototype.SCORMInit=function(a){try{if(winobj==undefined&&winobj==null){isLaunched=false;
}switch(this._version){case"1.2":API=new SCORM_API_12();API.setCallBack(a.callback);if(a.contentQuizStatus==null||a.contentQuizStatus==""){a.contentQuizStatus="not attempted";}API.resetValue(a.contentQuizStatus);API.LMSInitialize("","LMS");API.LMSSetValue("cmi.core.student_id",a.learnerId);API.LMSSetValue("cmi.core.student_name",a.learnerName);API.LMSSetValue("cmi.core.lesson_mode","normal");API.LMSSetValue("cmi.core.lesson_status",a.completionStatus);API.LMSSetValue("cmi.core.lesson_time","0000:00:00.00");API.LMSSetValue("cmi.core.session_time","0000:00:00.00");if(a.suspend_data==null||a.suspend_data==""){API.LMSSetValue("cmi.core.entry","ab-initio");}else{API.LMSSetValue("cmi.core.entry","resume");}API.LMSSetValue("cmi.core.score.max",a.scoreMax);API.LMSSetValue("cmi.core.score.min",a.scoreMin);API.LMSSetValue("cmi.core.score.raw",a.score);API.LMSSetValue("cmi.student_data.mastery_score",a.MasteryScore);API.LMSSetValue("cmi.core.total_time","0000:00:00.00");API.LMSSetValue("cmi.core.lesson_location",a.location);
API.LMSSetValue("cmi.launch_data",a.launch_data);API.LMSSetValue("cmi.suspend_data",a.suspend_data);API.LMSSetValue("cmi.core.credit","credit");API.LMSSetValue("cmi.core.exit",a.exit);break;case"2004":API_1484_11=new SCORM_API_2004();API_1484_11.setCallBack(a.callback);API_1484_11.Initialize("");API_1484_11.SetValue("cmi.learner_id",a.learnerId);API_1484_11.SetValue("cmi.learner_name",a.learnerName);API_1484_11.SetValue("cmi.mode","normal");API_1484_11.SetValue("cmi.success_status",a.successStatus);API_1484_11.SetValue("cmi.completion_status",a.completionStatus);API_1484_11.SetValue("cmi.session_time","0000:00:00.00");API_1484_11.SetValue("cmi.entry","ab-initio");API_1484_11.SetValue("cmi.max",a.scoreMax);API_1484_11.SetValue("cmi.min",a.scoreMin);API_1484_11.SetValue("cmi.score.raw",a.score);API_1484_11.SetValue("cmi.total_time","0000:00:00.00");API_1484_11.SetValue("cmi.location",a.location);API_1484_11.SetValue("cmi.launch_data",a.launch_data);API_1484_11.SetValue("cmi.suspend_data",a.suspend_data);
API_1484_11.SetValue("cmi.credit","credit");API_1484_11.SetValue("cmi.exit",a.exit);break;}winobj=window.open(a.url,this.winName,"location=1,status=1,resizable =1,scrollbars=1,width=900,height=900");setTimeout("SCORM_API_WRAPPER.prototype.ScormContentWindowCheck()",1000);SCORM_API_WRAPPER.prototype.invokeLMSCommit(this._version);_isFinishCalled=false;}catch(b){}};SCORM_API_WRAPPER.prototype.ScormContentWindowCheck=function(){try{if(!winobj.closed){setTimeout("SCORM_API_WRAPPER.prototype.ScormContentWindowCheck()",1000);}else{isLaunched=false;if(_isFinishCalled==false){if(API!=undefined){API.LMSFinish("");}else{API_1484_11.Terminate("");}}}}catch(a){}};SCORM_API_WRAPPER.prototype.Finish=function(){try{clearTimeout(timeOutVar);var a={};_isFinishCalled=true;if(this._type=="SCORM"){switch(this._version){case"1.2":a.completionStatus=API.LMSGetValue("cmi.core.completion_status");a.status=API.LMSGetValue("cmi.core.lesson_status");a.score=API.LMSGetValue("cmi.core.score.raw");a.location=API.LMSGetValue("cmi.core.lesson_location");
a.totalTime=API.LMSGetValue("cmi.core.total_time");a.sessionTime=API.LMSGetValue("cmi.core.session_time");a.launch_data=API.LMSGetValue("cmi.launch_data");a.suspend_data=API.LMSGetValue("cmi.suspend_data");a.exit=API.LMSGetValue("cmi.core.exit");break;case"2004":a.completionStatus=API_1484_11.GetValue("cmi.completion_status");a.status=API_1484_11.GetValue("cmi.success_status");a.score=API_1484_11.GetValue("cmi.score.raw");a.location=API_1484_11.GetValue("cmi.location");a.totalTime=API_1484_11.GetValue("cmi.total_time");a.sessionTime=API_1484_11.GetValue("cmi.session_time");a.launch_data=API_1484_11.GetValue("cmi.launch_data");a.suspend_data=API_1484_11.GetValue("cmi.suspend_data");a.exit=API_1484_11.GetValue("cmi.exit");break;}}else{if(this._type=="Knowledge Content"){var b=SCORM_API_WRAPPER.prototype.convertMilliSecondsToSCORMTimeFormat(KC_API.endTime-KC_API.startTime);a.completionStatus="Completed";a.status="Completed";a.score="0";a.location="0";a.totalTime="0";a.sessionTime=b;a.launchflag=0;
}else{if(this._type=="AICC Course Structure"||this._type=="AICC"){a.completionStatus="";a.status="";a.score="";a.location="";a.totalTime="";a.sessionTime="";a.launchflag=0;}else{if(this._type=="Tin Can"){a.completionStatus="";a.status="";a.score="";a.location="";a.totalTime="";a.sessionTime="";a.launchflag=0;}else{if(this._type=="Assessment"){}}}}}return a;}catch(c){}};SCORM_API_WRAPPER.prototype.invokeLMSCommit=function(b){try{var a={};if(!winobj.closed){switch(b){case"1.2":a.completionStatus=API.LMSGetValue("cmi.core.completion_status");a.status=API.LMSGetValue("cmi.core.lesson_status");a.score=API.LMSGetValue("cmi.core.score.raw");a.location=API.LMSGetValue("cmi.core.lesson_location");a.totalTime=API.LMSGetValue("cmi.core.total_time");a.sessionTime=API.LMSGetValue("cmi.core.session_time");a.launch_data=API.LMSGetValue("cmi.launch_data");a.suspend_data=API.LMSGetValue("cmi.suspend_data");a.exit=API.LMSGetValue("cmi.core.exit");a.launchflag=1;break;case"2004":a.completionStatus=API_1484_11.GetValue("cmi.completion_status");
a.status=API_1484_11.GetValue("cmi.success_status");a.score=API_1484_11.GetValue("cmi.score.raw");a.location=API_1484_11.GetValue("cmi.location");a.totalTime=API_1484_11.GetValue("cmi.total_time");a.sessionTime=API_1484_11.GetValue("cmi.session_time");a.launch_data=API_1484_11.GetValue("cmi.launch_data");a.suspend_data=API_1484_11.GetValue("cmi.suspend_data");a.exit=API_1484_11.GetValue("cmi.exit");a.launchflag=1;break;}if(b=="1.2"){API._callback(a);}else{API_1484_11._callback(a);}timeOutVar=setTimeout(function(){SCORM_API_WRAPPER.prototype.invokeLMSCommit(b);},Drupal.settings.content);}}catch(c){}};SCORM_API_WRAPPER.prototype.LaunchKnowledgeContent=function(b){try{var g=this;g._type="Knowledge Content";if(winobj==undefined&&winobj==null){isLaunched=false;}SCORM_API_WRAPPER.prototype.LaunchKnowledgeContent._callback=b.callback;SCORM_API_WRAPPER.prototype.LaunchKnowledgeContent._idleCallback=b.callback;if(b.url!=null&&b.url.indexOf("?q=h5p/embed")>=0){var f=(screen.width/2)-(900/2);var d=(screen.height/2)-(520/2);
var a=b.url.split("/");winobj=window.open(b.url+"&enrollId="+b.enrollid,this.winName,"location=1,status=0,resizable =1,scrollbars=1,width=900,height=520,top="+d+",left="+f);}else{winobj=window.open(b.url,this.winName,"location=1,status=1,resizable =1,scrollbars=1,width=900,height=900");}KC_API.startTime=new Date().getTime();setTimeout("SCORM_API_WRAPPER.prototype.KnowledgeContentWindowCheck()",1000);SCORM_API_WRAPPER.prototype.refreshSession(g);}catch(c){}};SCORM_API_WRAPPER.prototype.KnowledgeContentWindowCheck=function(){try{if(!winobj.closed){setTimeout("SCORM_API_WRAPPER.prototype.KnowledgeContentWindowCheck()",1000);}else{isLaunched=false;KC_API.endTime=new Date().getTime();SCORM_API_WRAPPER.prototype.LaunchKnowledgeContent._callback();}}catch(a){}};SCORM_API_WRAPPER.prototype.LaunchAssessment=function(a){try{SCORM_API_WRAPPER.prototype.LaunchAssessment._callback=a.callback;winobj=window.open(a.url,this.winName,"location=1,status=1,resizable =1,scrollbars=1,width=900,height=900");setTimeout("SCORM_API_WRAPPER.prototype.AssessmentWindowCheck()",1000);
SCORM_API_WRAPPER.prototype.refreshSession();}catch(b){}};SCORM_API_WRAPPER.prototype.AssessmentWindowCheck=function(){try{if(!winobj.closed){setTimeout("SCORM_API_WRAPPER.prototype.AssessmentWindowCheck()",1000);}else{isLaunched=false;SCORM_API_WRAPPER.prototype.LaunchAssessment._callback();}}catch(a){}};SCORM_API_WRAPPER.prototype.LaunchAICC=function(c){try{if(winobj==undefined&&winobj==null){isLaunched=false;}var a=c.aicc_sid;var i="";var h=encodeURIComponent(resource.base_url+"/sites/all/commonlib/AICC_Handler.php?CMI=HACP");SCORM_API_WRAPPER.prototype.LaunchAICC._callback=c.callback;var g=this;var f=SCORM_API_WRAPPER.prototype;try{var b=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.constructUrl("aicc/launch/set/"+a);$.ajax({type:"POST",url:b,data:{command:"SETSESSION",aicc_id:a},success:function(e){if(c.url.indexOf("?")!=-1){i="&aicc_sid="+e.session_id+"&Aicc_url="+h;}else{i="?aicc_sid="+e.session_id+"&Aicc_url="+h;}f.callback_param=e.session_id;var j=c.url+i;winobj=window.open(j,this.winName,"location=1,status=1,scrollbars=1,resizable=yes,width=900,height=900");
setTimeout("SCORM_API_WRAPPER.prototype.AICCWindowCheck()",1000);SCORM_API_WRAPPER.prototype.refreshSession(g);}});}catch(d){}}catch(d){}};SCORM_API_WRAPPER.prototype.LaunchTincan=function(c){try{if(winobj==undefined&&winobj==null){isLaunched=false;}var a=c.aicc_sid;var i="";var h=encodeURIComponent(resource.base_url+"/sites/all/commonlib/TinCan_Handler.php/");SCORM_API_WRAPPER.prototype.LaunchTincan._callback=c.callback;try{var b=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.constructUrl("aicc/launch/set/"+a);var f=SCORM_API_WRAPPER.prototype;var g=this;$.ajax({type:"POST",url:b,data:{command:"SETSESSION",content_token:a},success:function(e){var j=guid();if(c.url.indexOf("?")!=-1){i="&endpoint="+h+"&auth="+e.session_id+'&actor={"name":"'+e.name+'","mbox":"'+e.email+'","objectType":"agent"}&activity_id='+a;}else{i="?endpoint="+h+"&auth="+e.session_id+'&actor={"name":"'+e.name+'","mbox":"'+e.email+'","objectType":"agent"}&activity_id='+a;}f.callback_param=e.session_id;var k=c.url+i;winobj=window.open(k,this.winName,"location=1,status=1,scrollbars=1,resizable=yes,width=900,height=900");
setTimeout("SCORM_API_WRAPPER.prototype.TinCanSCORMWindowCheck()",1000);SCORM_API_WRAPPER.prototype.refreshSession(g);}});}catch(d){}}catch(d){}};SCORM_API_WRAPPER.prototype.AICCWindowCheck=function(){try{if(!winobj.closed){setTimeout("SCORM_API_WRAPPER.prototype.AICCWindowCheck()",1000);}else{isLaunched=false;SCORM_API_WRAPPER.prototype.LaunchAICC._callback(this.callback_param);}}catch(a){}};SCORM_API_WRAPPER.prototype.TinCanSCORMWindowCheck=function(){try{if(!winobj.closed){setTimeout("SCORM_API_WRAPPER.prototype.TinCanSCORMWindowCheck()",1000);}else{isLaunched=false;SCORM_API_WRAPPER.prototype.LaunchTincan._callback(this.callback_param);}}catch(a){}};SCORM_API_WRAPPER.prototype.refreshSession=function(a){try{var d=this;var g=a._type.toLowerCase();var b="";var f={};switch(g){case"aicc":case"aicc course structure":f={command:"UPDATELMSDATA",session_id:a.callback_param,launchflag:1};b=resource.base_url+"/sites/all/commonlib/AICC_Handler.php";SCORM_API_WRAPPER.prototype.updateIdleCallBack(a,b,f);
break;case"tin can":f={command:"UPDATELMSDATA",Authorization:a.callback_param,launchflag:1};b=resource.base_url+"/sites/all/commonlib/TinCan_Handler.php";SCORM_API_WRAPPER.prototype.updateIdleCallBack(a,b,f);break;default:break;}timeOutVar=setTimeout(function(){SCORM_API_WRAPPER.prototype.refreshSession(a);},Drupal.settings.content);}catch(c){}};SCORM_API_WRAPPER.prototype.updateIdleCallBack=function(a,b,d){try{$.ajax({type:"POST",url:b,data:d,success:function(e){}});}catch(c){}};SCORM_API_WRAPPER.prototype.convertMilliSecondsToSCORMTimeFormat=function(f){var a;var c;var e;var b;var d;var g;b=f%1000;e=((f-b)/1000)%60;c=((f-b-(e*1000))/60000)%60;a=(f-b-(e*1000)-(c*60000))/3600000;g=SCORM_API_WRAPPER.prototype.ZeroPad(a,2)+":"+SCORM_API_WRAPPER.prototype.ZeroPad(c,2)+":"+SCORM_API_WRAPPER.prototype.ZeroPad(e,2);return g;};SCORM_API_WRAPPER.prototype.ZeroPad=function(e,d){var b;var c;var a;b=new String(e);c=b.length;if(c>d){b=b.substr(0,d);}else{for(a=c;a<d;a++){b="0"+b;}}return b;};function guid(){function a(){return Math.floor((1+Math.random())*65536).toString(16).substring(1);
}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a();};
function SCORM_API_12(){try{}catch(a){}}SCORM_API_12.prototype._version="SCORM 1.2 LMSAPI1.0.0";SCORM_API_12.prototype._desc="SCORM 1.2 LMS API Adaptor Version 1.0.0";SCORM_API_12.prototype._callback="";SCORM_API_12.prototype._resetvalue="";SCORM_API_12.prototype._isLMSInitialized="false";SCORM_API_12.prototype._cmiBooleanFalse="";SCORM_API_12.prototype._cmiBooleanTrue="";SCORM_API_12.prototype._errorCode=0;SCORM_API_12.prototype._valueStr="";SCORM_API_12.prototype._errStr="";SCORM_API_12.prototype._CMIDATA=new Array();SCORM_API_12.prototype._ErrorCodes={"201":"Invalid argument error","202":"Element cannot have children","203":"Element not an array. Cannot have count.","301":"Not initialized","401":"Not implemented error","402":"Invalid set value, element is a keyword","403":"Element is read only.","404":"Element is write only","405":"Element is write only","0":"No Error.The previous LMS API Function call completed successfully.","101":"General Exception.An unspecified, unexpected exception has occured"};
SCORM_API_12.prototype.LMSInitialize=function(d,a){try{debugLog("inside actual LMSInitialize function");result=this._cmiBooleanFalse;if(d!=""){this._errorCode=201;this._isLMSInitialized="false";}this._isLMSInitialized="true";var b=this._isLMSInitialized;if(b=="true"&&a!="LMS"&&a!=undefined){this.LMSSetValue("cmi.core.lesson_status",this._resetvalue);}return b;}catch(c){}};SCORM_API_12.prototype.LMSFinish=function(b){try{debugLog("inside actual LMSFinish function");if(b==""){result=this.LMSCommit("");if(!result){debugLog("Error Occured in LMSFinish while calling LMSCommit; ErrorCode:"+this._errorCode);this._errorCode=201;return"false";}else{debugLog("inside LMSCommit is succeeded");this._isLMSInitialized="false";result=this._cmiBooleanTrue;if(this._callback!=""&&this._callback!=undefined){this._callback();}}}else{this._errorCode=201;debugLog("Error Occured in LMSFinish. ErrorCode:"+this._errorCode);return"false";}return"true";}catch(a){}};SCORM_API_12.prototype.LMSCommit=function(b){try{debugLog("inside LMSCommit");
return"true";}catch(a){}};SCORM_API_12.prototype.LMSGetValue=function(c){try{var a=this._CMIDATA[c];if(a==null){a=" ";}return a;}catch(b){}};SCORM_API_12.prototype.LMSSetValue=function(c,a){try{debugLog("==> param:"+c+" value:"+a);this._CMIDATA[c]=a;if(c!=null&&c!=undefined&&c!=""&&a!=null&&a!=undefined&&a!=""){return"true";}else{return"false";}}catch(b){}};SCORM_API_12.prototype.LMSGetLastError=function(){try{return this._errorCode;}catch(a){}};SCORM_API_12.prototype.LMSGetLastErrorString=function(){try{var b=this._ErrorCodes[this._errorCode];if(b==null){b="Undefined Error Code";}return b;}catch(a){}};SCORM_API_12.prototype.LMSGetDiagnostic=function(){try{return" ";}catch(a){}};SCORM_API_12.prototype.getAllCMIData=function(){try{return this._CMIDATA;}catch(a){}};SCORM_API_12.prototype.setCallBack=function(a){try{this._callback=a;}catch(b){}};SCORM_API_12.prototype.resetValue=function(a){try{this._resetvalue=a;}catch(b){}};SCORM_API_12.prototype.LMSGetErrorString=function(a){try{if(a==null||a==undefined||a==""||a=="null"){a=this._errorCode;
}var c=this._ErrorCodes[a];if(c==null){c="Undefined Error Code";}return c;}catch(b){}};var findAPITries=0;function findAPI(b){try{debugLog("inside findAPI");while((b.API==null)&&(b.parent!=null)&&(b.parent!=b)){findAPITries++;if(findAPITries>7){debugLog("Error finding API -- too deeply nested.");return null;}b=b.parent;}return b.API;}catch(a){}}function getAPI(){try{debugLog("inside getAPI");var a=findAPI(window);if((a==null)&&(window.opener!=null)&&(typeof(window.opener)!="undefined")){a=findAPI(window.opener);}if(a==null){debugLog("Unable to find an API adapter");}return a;}catch(b){}}function debugLog(f){try{var c=document.getElementById("debugConsole");var b=new Date().toString();if(c!=null){var a=document.getElementById("debugConsole").innerHTML;document.getElementById("debugConsole").innerHTML=a+"<br>"+b+" "+f;}}catch(d){}};
function SCORM_API_2004(){try{}catch(a){}}SCORM_API_2004.prototype._version="SCORM 2004 LMSAPI1.0.0";SCORM_API_2004.prototype._desc="SCORM 2004 LMS API Adaptor Version 1.0.0";SCORM_API_2004.prototype._callback="";SCORM_API_2004.prototype._isInitialized="false";SCORM_API_2004.prototype._cmiBooleanFalse="";SCORM_API_2004.prototype._cmiBooleanTrue="";SCORM_API_2004.prototype._errorCode=0;SCORM_API_2004.prototype._valueStr="";SCORM_API_2004.prototype._errStr="";SCORM_API_2004.prototype._CMIDATA=new Array();SCORM_API_2004.prototype._ErrorCodes={"201":"Invalid argument error","202":"Element cannot have children","203":"Element not an array. Cannot have count.","301":"Not initialized","401":"Not implemented error","402":"Invalid set value, element is a keyword","403":"Element is read only.","404":"Element is write only","405":"Element is write only","0":"No Error.The previous LMS API Function call completed successfully.","101":"General Exception.An unspecified, unexpected exception has occured"};
SCORM_API_2004.prototype.Initialize=function(b){try{debugLog("inside actual Initialize function");result=this._cmiBooleanFalse;if(b!=""){this._errorCode=201;this._isInitialized="false";}else{this._isInitialized="true";}return this._isInitialized;}catch(a){}};SCORM_API_2004.prototype.Terminate=function(b){try{debugLog("inside actual Terminate function");if(b==""){result=this.Commit("");if(!result){debugLog("Error Occured in Terminate while calling Commit; ErrorCode:"+this._errorCode);this._errorCode=201;return"false";}else{debugLog("inside Commit is succeeded");this._isInitialized="false";result=this._cmiBooleanTrue;this._callback();}}else{this._errorCode=201;debugLog("Error Occured in LMSFinish. ErrorCode:"+this._errorCode);return"false";}return"true";}catch(a){}};SCORM_API_2004.prototype.Commit=function(b){try{debugLog("inside LMSCommit");if(b!=""){this._errorCode=201;this._isInitialized="false";}else{this._errorCode=0;this._isInitialized="true";}return this._isInitialized;}catch(a){}};
SCORM_API_2004.prototype.GetValue=function(c){try{if(c!=""){var a=this._CMIDATA[c];if(a==null){a=" ";}}else{this._errorCode=301;a="";}return a;}catch(b){}};SCORM_API_2004.prototype.SetValue=function(c,a){try{debugLog("==> param:"+c+" value:"+a);this._CMIDATA[c]=a;if(c!=null&&c!=undefined&&c!=""){return"true";}else{this._errorCode=351;return"false";}}catch(b){}};SCORM_API_2004.prototype.GetLastError=function(){try{return this._errorCode;}catch(a){}};SCORM_API_2004.prototype.GetErrorString=function(a){try{var c=this._ErrorCodes[a];if(c==null){c="Undefined Error Code";}return c;}catch(b){}};SCORM_API_2004.prototype.GetDiagnostic=function(){try{return" ";}catch(a){}};SCORM_API_2004.prototype.getAllCMIData=function(){try{return this._CMIDATA;}catch(a){}};SCORM_API_2004.prototype.setCallBack=function(a){try{this._callback=a;}catch(b){}};var findAPITries=0;function findAPI(b){try{debugLog("inside findAPI");while((b.API==null)&&(b.parent!=null)&&(b.parent!=b)){findAPITries++;if(findAPITries>7){debugLog("Error finding API -- too deeply nested.");
return null;}b=b.parent;}return b.API;}catch(a){}}function getAPI(){try{debugLog("inside getAPI");var a=findAPI(window);if((a==null)&&(window.opener!=null)&&(typeof(window.opener)!="undefined")){a=findAPI(window.opener);}if(a==null){debugLog("Unable to find an API adapter");}return a;}catch(b){}}function debugLog(f){try{var c=document.getElementById("debugConsole");var b=new Date().toString();if(c!=null){var a=document.getElementById("debugConsole").innerHTML;document.getElementById("debugConsole").innerHTML=a+"<br>"+b+" "+f;}}catch(d){}};
(function(a){Drupal.behaviors.contextReactionBlock={attach:function(b){a("form.context-editor:not(.context-block-processed)").addClass("context-block-processed").each(function(){var c=a(this).attr("id");Drupal.contextBlockEditor=Drupal.contextBlockEditor||{};a(this).bind("init.pageEditor",function(d){Drupal.contextBlockEditor[c]=new DrupalContextBlockEditor(a(this));});a(this).bind("start.pageEditor",function(e,d){if(!d){d=a(this).data("defaultContext");}Drupal.contextBlockEditor[c].editStart(a(this),d);});a(this).bind("end.pageEditor",function(d){Drupal.contextBlockEditor[c].editFinish();});});a("#context-blockform:not(.processed)").each(function(){a(this).addClass("processed");Drupal.contextBlockForm=new DrupalContextBlockForm(a(this));Drupal.contextBlockForm.setState();});a("#context-blockform a.remove:not(.processed)").each(function(){a(this).addClass("processed");a(this).click(function(){a(this).parents("tr").eq(0).remove();Drupal.contextBlockForm.setState();return false;});});a("div.context-block-browser",b).nextAll(".form-item").hide();
}};DrupalContextBlockForm=function(b){this.state={};this.setState=function(){a("table.context-blockform-region",b).each(function(){var c=a(this).attr("id").split("context-blockform-region-")[1];var d=[];a("tr",a(this)).each(function(){var e=a(this).attr("id");var f=a(this).find("select,input").first().val();d.push({bid:e,weight:f});});Drupal.contextBlockForm.state[c]=d;});a("form input.context-blockform-state").val(JSON.stringify(this.state));a("table.context-blockform-region tr").each(function(){var c=a(this).attr("id");a("div.context-blockform-selector input[value="+c+"]").parents("div.form-item").eq(0).hide();});a("div.context-blockform-selector input").each(function(){var c=a(this).val();if(a("table.context-blockform-region tr#"+c).size()===0){a(this).parents("div.form-item").eq(0).show();}});};a("#ctools-export-ui-edit-item-form").submit(function(){Drupal.contextBlockForm.setState();});a.each(Drupal.settings.tableDrag,function(d){var c=a("#"+d+":not(.processed)",b);if(c&&c.is(".context-blockform-region")){c.addClass("processed");
c.bind("mouseup",function(e){Drupal.contextBlockForm.setState();return;});}});a("td.blocks a",b).each(function(){a(this).click(function(){var h=a(this).attr("href").split("#")[1];var g="context-blockform-region-"+h;var f=a("div.context-blockform-selector input:checked");if(f.size()>0){var e=false;var c=-10;var i=10;var d=c-1;a("table#"+g+" tr").each(function(){var j=a(this).find("select,input").first().val();if(+j>+d){d=j;}});f.each(function(){var n=document.createElement("tr");var m=a(this).parents("div.form-item").eq(0).hide().children("label").text();var j='<div class="form-item form-type-select"><select class="tabledrag-hide form-select">';var k;e=true;var l=i;if(i>=(1+ +d)){l=++d;e=false;}for(k=c;k<=i;++k){j+="<option";if(k==l){j+=" selected=selected";}j+=">"+k+"</option>";}j+="</select></div>";a(n).attr("id",a(this).attr("value")).addClass("draggable");a(n).html("<td>"+m+"</td><td>"+j+"</td><td><a href='' class='remove'>X</a></td>");Drupal.tableDrag[g].makeDraggable(n);a("table#"+g).append(n);
if(a.cookie("Drupal.tableDrag.showWeight")==1){a("table#"+g).find(".tabledrag-hide").css("display","");a("table#"+g).find(".tabledrag-handle").css("display","none");}else{a("table#"+g).find(".tabledrag-hide").css("display","none");a("table#"+g).find(".tabledrag-handle").css("display","");}Drupal.attachBehaviors(a("table#"+g));Drupal.contextBlockForm.setState();a(this).removeAttr("checked");});if(e){alert(Drupal.t("Desired block weight exceeds available weight options, please check weights for blocks before saving"));}}return false;});});};DrupalContextBlockEditor=function(b){this.editor=b;this.state={};this.blocks={};this.regions={};return this;};DrupalContextBlockEditor.prototype={initBlocks:function(c){var b=this;this.blocks=c;c.each(function(){if(a(this).hasClass("context-block-empty")){a(this).removeClass("context-block-hidden");}a(this).addClass("draggable");a(this).prepend(a('<a class="context-block-handle"></a>'));a(this).prepend(a('<a class="context-block-remove"></a>').click(function(){a(this).parent(".block").eq(0).fadeOut("medium",function(){a(this).remove();
b.updateBlocks();});return false;}));});},initRegions:function(c){this.regions=c;var b=this;a(c).not(".context-ui-processed").each(function(d,e){a(".context-ui-add-link",e).click(function(f){b.showBlockBrowser(a(this).parent());}).addClass("context-ui-processed");});a(".context-block-browser").hide();},showBlockBrowser:function(g){var h=false;var c=a(".context-editing",this.editor).attr("id").replace("-trigger",""),d=a("#"+c)[0];this.browser=a(".context-block-browser",d).addClass("active");if(!this.browser.has("input.filter").size()){var e=a(".block-browser-sidebar .filter",this.browser);var f=a(".blocks",this.browser);new Drupal.Filter(f,false,".context-block-addable",e);}this.browser.show().dialog({modal:true,close:function(){a(this).dialog("destroy");a(".category",this).show();a(this).hide().appendTo(d).removeClass("active");},height:(0.8*a(window).height()),minHeight:400,minWidth:680,width:680});a(".context-block-browser-categories",this.browser).change(function(i){if(a(this).val()==0){a(".category",b.browser).show();
}else{a(".category",b.browser).hide();a(".category-"+a(this).val(),b.browser).show();}});if(this.addToRegion){a(".context-block-addable",this.browser).unbind("click.addToRegion");}var b=this;this.addToRegion=function(j){var i={item:a(this).clone(),sender:a(g)};a(this).parents(".context-block-browser.active").dialog("close");a(g).after(i.item);b.addBlock(j,i,this.editor,c.replace("context-editable-",""));};a(".context-block-addable",this.browser).bind("click.addToRegion",this.addToRegion);},updateBlocks:function(){var b=a("div.context-block-browser");a(".block, .admin-block").each(function(){var c=a(this).attr("id").split("block-")[1];});a(".context-block-item",b).each(function(){var c=a(this).attr("id").split("context-block-addable-")[1];});a(this.regions).each(function(){if(a(".block:has(a.context-block)",this).size()>0){a(this).removeClass("context-block-region-empty");}else{a(this).addClass("context-block-region-empty");}});},updateRegion:function(b,c,d,e){switch(e){case"over":a(d).removeClass("context-block-region-empty");
break;case"out":if(a(".draggable-placeholder",d).size()===1&&a(".block:has(a.context-block)",d).size()==0){a(d).addClass("context-block-region-empty");}break;}},scriptFix:function(e,f,d,c){if(a("script",f.item)){var g=a(Drupal.settings.contextBlockEditor.scriptPlaceholder);var b=a("div.handle label",f.item).text();g.children("strong").html(b);a("script",f.item).parent().empty().append(g);}},addBlock:function(g,h,f,e){var b=this;if(h.item.is(".context-block-addable")){var c=h.item.attr("id").split("context-block-addable-")[1];var i=Drupal.settings.contextBlockEditor.params;i.context_block=c+","+e;if(!Drupal.settings.contextBlockEditor.block_tokens||!Drupal.settings.contextBlockEditor.block_tokens[c]){alert(Drupal.t("An error occurred trying to retrieve block content. Please contact a site administer."));return;}i.context_token=Drupal.settings.contextBlockEditor.block_tokens[c];var d=a('<div class="context-block-item context-block-loading"><span class="icon"></span></div>');h.item.addClass("context-block-added");
h.item.after(d);a.getJSON(Drupal.settings.contextBlockEditor.path,i,function(j){if(j.status){var k=a(j.block);if(a("script",k)){a("script",k).remove();}d.fadeOut(function(){a(this).replaceWith(k);b.initBlocks(k);b.updateBlocks();Drupal.attachBehaviors(k);});}else{d.fadeOut(function(){a(this).remove();});}});}else{if(h.item.is(":has(a.context-block)")){b.updateBlocks();}}},setState:function(){var b=this;a(this.regions).each(function(){var c=a(".context-block-region",this).attr("id").split("context-block-region-")[1];var d=[];a("a.context-block",a(this)).each(function(){if(a(this).attr("class").indexOf("edit-")!=-1){var e=a(this).attr("id").split("context-block-")[1];var f=a(this).attr("class").split("edit-")[1].split(" ")[0];f=f?f:0;var g={bid:e,context:f};d.push(g);}});b.state[c]=d;});a("input.context-block-editor-state",this.editor).val(JSON.stringify(this.state));},disableTextSelect:function(){if(a.browser.safari){a(".block:has(a.context-block):not(:has(input,textarea))").css("WebkitUserSelect","none");
}else{if(a.browser.mozilla){a(".block:has(a.context-block):not(:has(input,textarea))").css("MozUserSelect","none");}else{if(a.browser.msie){a(".block:has(a.context-block):not(:has(input,textarea))").bind("selectstart.contextBlockEditor",function(){return false;});}else{a(this).bind("mousedown.contextBlockEditor",function(){return false;});}}}},enableTextSelect:function(){if(a.browser.safari){a("*").css("WebkitUserSelect","");}else{if(a.browser.mozilla){a("*").css("MozUserSelect","");}else{if(a.browser.msie){a("*").unbind("selectstart.contextBlockEditor");}else{a(this).unbind("mousedown.contextBlockEditor");}}}},editStart:function(e,d){var b=this;a(document.body).addClass("context-editing");this.editor.addClass("context-editing");this.disableTextSelect();this.initBlocks(a(".block:has(a.context-block.edit-"+d+")"));this.initRegions(a(".context-block-region").parent());this.updateBlocks();a("a.context_ui_dialog-stop").hide();a(".editing-context-label").remove();var c=a("#context-editable-trigger-"+d+" .label").text();
c=Drupal.t("Now Editing: ")+c;e.parent().parent().prepend('<div class="editing-context-label">'+c+"</div>");a(this.regions).each(function(){var f=a(this);var g={revert:true,dropOnEmpty:true,placeholder:"draggable-placeholder",forcePlaceholderSize:true,items:"> .block:has(a.context-block.editable)",handle:"a.context-block-handle",start:function(h,i){b.scriptFix(h,i,e,d);},stop:function(h,i){b.addBlock(h,i,e,d);},receive:function(h,i){b.addBlock(h,i,e,d);},over:function(h,i){b.updateRegion(h,i,f,"over");},out:function(h,i){b.updateRegion(h,i,f,"out");},cursorAt:{left:300,top:0}};f.sortable(g);});a(this.regions).each(function(){a(this).sortable("option","connectWith",[".ui-sortable"]);});if(a.ui.version==="1.6"&&a.browser.safari){a.browser.mozilla=true;}},editFinish:function(){this.editor.removeClass("context-editing");this.enableTextSelect();a(".editing-context-label").remove();a(this.blocks).each(function(){a("a.context-block-handle, a.context-block-remove",this).remove();if(a(this).hasClass("context-block-empty")){a(this).addClass("context-block-hidden");
}a(this).removeClass("draggable");});a("a.context_ui_dialog-stop").show();this.regions.sortable("destroy");this.setState();if(a.ui.version==="1.6"&&a.browser.safari){a.browser.mozilla=false;}}};})(jQuery);;
(function(a,b){if(a.ui&&a.ui.dialog){a.ui.dialog.overlay.events=a.map("focus,keydown,keypress".split(","),function(c){return c+".dialog-overlay";}).join(" ");}}(jQuery));;
Drupal.locale = { 'strings': {"Content":"Content","Location":"Location","Group":"Group","ERR047":"You have already registered for this class","ERR054":"There are no courses under this program.","ERR055":"Login again since your session has expired","ERR057":"System error has occurred. Contact Support.","MSG247":"CartAdded","Learning Plan":"Learning Plan","Certification":"Certification","Curricula":"Curricula","English":"English","Register":"Register","Sign In":"Sign In","Registered":"Registered","Completed":"Completed","Enrolled":"Enrolled","Canceled":"Canceled","Pending":"Pending","Expired":"Expired","Survey":"Survey","ERR061":"There are no classes under the course.","ERR066":"Select a class in each course.","LBL001":"Sign In","LBL012":"Enrolled","LBL013":"Completed","LBL014":"Incomplete","LBL015":"Canceled","LBL017":"title a-z","LBL018":"title z-a","LBL019":"date new to old","LBL020":"date old to new","LBL021":"type","LBL022":"mandatory","LBL024":"Expired","LBL025":"Enrolled by","LBL026":"Canceled On","LBL027":"Completed On","LBL028":"Expired On","LBL032":"Registered","LBL034":"Completed","LBL036":"Type","LBL038":"Language","LBL041":"Location","LBL042":"Date","LBL044":"newly listed","LBL045":"start date","LBL046":"Full","LBL049":"Added to cart","LBL050":"Add to cart","LBL052":"Seat left","LBL053":"Seats left","LBL054":"Username","LBL073":"Job Title","LBL074":"Timezone","LBL082":"Remove","LBL083":"Title","LBL086":"Instructor","German":"German","Spanish":"Spanish","French":"French","Italian":"Italian","Japanese":"Japanese","Korean":"Korean","Russian":"Russian","MSG251":"You have successfully shared the  ","LBL087":"Course","LBL088":"Enter a course","LBL096":"Code","LBL102":"Status","LBL106":"Seats","LBL107":"Name","LBL108":"Action","LBL109":"Cancel","LBL112":"mm-dd-yyyy","LBL113":"End: mm-dd-yyyy","LBL116":"Email From","LBL117":"Email To","LBL121":"optional","LBL123":"Close","LBL126":"Waitlist seat left","LBL127":"Waitlist seats left","LBL133":"Job Role","LBL134":"Manager Name","LBL137":"Organization Name","LBL138":"Waitlist","LBL173":"User Type","LBL181":"Type a Username","MSG262":"No search results found.","MSG263":"Do you want to cancel the enrollment?","MSG264":"The entire amount paid will be refunded back to your account","MSG266":"Do you still want to cancel the class registration?","LBL186":"enrolled","LBL190":"Waitlisted","LBL191":"Tags","LBL193":"Type a tag","Organization":"Organization","MSG268":"No courses have been associated","LBL199":"Launch","LBL202":"Attempts Left","LBL203":"Survey","LBL205":"Certificate","LBL218":"Select a date","LBL229":"Description","LBL231":"Attachments","LBL232":"(click to download)","LBL234":"Complete By","LBL247":"Course Equivalence","LBL251":"Start","LBL263":"Class Code","LBL271":" already exist.","LBL274":"Assessment","LBL275":"Enrollments","LBL277":"Sessions","LBL286":"Delete","LBL287":"Add","LBL295":"Session Name","Yes":"Yes","No":"No","LBL304":"Search","LBL316":"Classroom","LBL324":"Type a question","LBL325":"Question","ERR101":" is required.","ERR106":"Select one or more.","LBL342":"Yes","LBL343":"No","MSG311":"Users can register multiple times to the class.","ERR119":"Select one or more Users.","LBL416":"Loading...","LBL426":"Mandatory","LBL427":"Recommended","LBL428":"Any","LBL429":"Recertify","LBL432":"System","LBL435":"Class","LBL545":"Type title or code","CATALOG":"CATALOG","REPORTS":"Reports","Assessment":"Assessment","LBL569":"Done","LBL573":"Activate","LBL579":"Roles","LBL604":"Validity","LBL605":"days","LBL621":"To","Course":"Course","Class":"Class","Classroom":"Classroom","Video":"Video","Virtual Class":"Virtual Class","Web-based":"Web-based","LBL646":"Selected","LBL647":"AND","LBL648":"Starts on","LBL649":"From","LBL661":"View Option","LBL662":"Horizontal","LBL663":"Vertical","MSG379":"No classes exist under one of the associated courses. Registration failed. Contact Support Team.","MSG380":"No seats available for this program","Training Plan":"Training Plan","MSG381":"Your search did not return any results","LBL651":"Re-Certify","Mandatory":"Mandatory","Recommended":"Recommended","Optional":"Optional","LBL674":"Select","LBL668":"Score","LBL670":"Session Details","LBL675":"Select Start Date","LBL676":"Select End Date","MSG394":"You have already completed the survey.","MSG395":"Select atleast one option.","MSG399":"Paid training cannot be rescheduled. Contact Support.","MSG400":"Cancel the Course registration and Register again.","MSG401":"will be deducted if you cancel the class.","MSG402":"An amount of","MSG403":"There are no records in the system","LBL677":"Days Remaining","LBL680":"Canceled by","LBL681":"Completed by","LBL685":"completed","LBL686":"incomplete","LBL687":"expired","LBL688":"canceled","LBL689":"pending","LBL691":"Full Name","LBL692":"Previous","LBL693":"Next","LBL694":"Preview","LBL698":"Incomplete","LBL699":"Relevant to status","LBL702":"Type Course Title","LBL704":"Enrolled On","LBL706":"Completion Date","LBL726":"Not Registered","ERR149":"Select a class in each course.","LBL721":"Registration Status","LBL716":"Select Class","ERR152":"Invalid email address in","MSG419":"The session is completed.","MSG420":"The session has not started, try again at","MSG424":"Cancellation in progress.....","LBL713":"More","MSG430":"You are already enrolled in this program","LBL735":"Expires On","LBL737":"Web-based","LBL738":"Virtual Class","LBL739":"Video","LBL740":"Certification","LBL741":"Curricula","LBL742":"Learning Plan","LBL743":"C","LBL746":"R","LBL747":"Marked Complete","LBL749":"Confirmation","LBL756":"Type a Content name","LBL763":"Starts At","Not Registered":"Not Registered","Instructor":"Instructor","ERR154":"System error, Contact Support Team.","LBL766":"Type a Class Title or Code","MSG498":"There is no content attached to the class.","Compliance":"Compliance","ERR169":" are required.","MSG511":"Not Started","LBL816":"View","LBL820":"Order Id","LBL846":"Format Report Body","LBL847":"Format Report Header","LBL848":"Select options","MSG522":"Are you sure you want to delete?","LBL852":"User Profile","LBL854":"Lesson","LBL857":"Attempts","LBL868":"Add Comment","LBL871":"Post","MSG535":"You have already registered for the class","MSG536":"Do you want to register again?","LBL880":"Join","LBL889":"Lessons","LBL893":"Minimize","LBL894":"maximize","LBL910":"Day","Simplified Chinese":"Simplified Chinese","LBL930":"Unlock","LBL941":"RegFrom","LBL942":"Reserved","LBL945":"on","LBL951":"Type Class Title","In progress":"In progress","Incomplete":"Incomplete","No Show":"No Show","Attended":"Attended","Waitlist":"Waitlist","Manager":"Manager","MSG588":"per page","MSG605":"There are no users to be transferred.","LBL943":"Change","LBL929":"Message","LBL981":"of","LBL983":"Keyword","LBL989":"Page","LBL1003":"Module","LBL1039":"All","MSG639":"character types are lower case, upper case, digit or punctuation","MSG644":"The group name","LBL1064":"Points","Check":"Check","LBL1123":"Version","LBL1145":"Insert","LBL1154":"Select valid From Date","LBL1155":"To date cannot be less than the From date","MSG687":"Select an option.","LBL1163":"Do you want to confirm the order?","LBL1164":"Do you want to cancel the order?","LBL1165":"Refund","MSG692":"Cannot register since there is price associated to the Class.Contact Support.","LBL1193":"Incomplete on","LBL1207":"Schedule","LBL1224":"Last Run","LBL1230":"Type name or username","LBL1239":"Next Run","LBL1235":"Enter message. If empty SMS will not be sent to users.","LBL1246":"Priced training cannot be canceled. Cancellation can be done from the order screen.","LBL1253":"Pre","ERR245":"Attempts should not be less than 1","LBL1267":"You have already registered for another class of the same course","LBL1268":"Do you want to register to another class?","MSG711":"Access is not set. All users will be registered to the class if access is not set. Do you want to set Access?","Groups":"Groups","by":"by","Share":"Share","LBL1270":"Type a group name","Search for refine":"Search to refine","The location is associated to class":"The location is associated to class","You need to complete":"You need to complete","LBL1272":"Uncheck","E-MAIL":"E-MAIL","EMBED":"EMBED","LBL1275":"Widget Size","LBL1276":"Show thumbnail image","LBL1277":"Show description","LBL1278":"Show Register button","LBL1279":"Show Separator line","LBL1280":"Pass URL","ERR248":"Select the required details and activate the discount.","Reregister":"Reregister","!name cannot be longer than %max characters but is currently %length characters long.":"!name cannot be longer than %max characters but is currently %length characters long.","Panel":"Panel","MSG729":"Unchecking the manager role will remove all direct and indirect reports for this user. Do you want to continue?","MSG727":"Attempts not set for one or more content.","MSG728":"Do you want to proceed?","LBL1283":"Not Set","LBL1284":"Success Status","failed":"Failed","passed":"Passed","unknown":"Unknown","MSG730":"User enrollment is in progress. An email will be sent to you after it is done.","MSG746":"There are no currency to be added.","MSG747":"Are you sure you want to delete the currency","Waived":"Waived","MSG754":"Content is playing in a window. Close the window before launching another content."} };;
