(function(c,b,a,d){c.widget("ui.contentPlayer",{options:{fullScreenControl:true,statusBarControl:true,contentList:null,defaultContent:0,isMultiLesson:0,lastPlayedObject:{},playerMode:"normal-mode",LaunchFrom:""},_init:function(){self=this;contentPlayer.closed=false;self.lastPlayedObject={};},initiateContentPlayer:function(f){var h=this;contentPlayer.closed=false;var i=c(b).height();var g=100;var e=i-690;if(e<0){g=0;}else{g=e/2;}c("#cp-modal").css("top",g+"px");h.getLaunchObject(f.LaunchFrom);},setPlayerMode:function(h){try{var g=this;if(h!=d&&h!=null){g.options.playerMode=h;}}catch(f){}},_create:function(){},_generateOverlayContent:function(){try{var h=this;if(c("#cp-overlay").length>0){return;}var f=c('<div id="cp-overlay-parent" class="cp-overlay-parent"></div><div id="modalBackdrop" style="z-index: 1000; display: none;"></div><div id="cp-overlay" class="cp-overlay"></div>');c("body").append(f);h._generateModalContent();h._generatePlayerToolbar();h._generatePlayerMenuContent();}catch(g){}},_generateModalContent:function(){try{var f=c('<div id="cp-modal" class="cp-modal"><div id="cp-modalcontainer" class="ui-resizable ui-draggable"><div id="cp-modalcontent"></div></div></div>');
c("#cp-overlay").append(f);}catch(g){}},_generatePlayerToolbar:function(){try{var h=this;var f="";f+='<div id="cp-toolbarcontainer" class="cp-toolbarcontainer">';f+='<div id="cp-title" class="limit-title-row">';f+="";f+="</div>";f+='<div id="cp-tools">';if(this.options.fullScreenControl){f+='<span class="cp-modal-fulscr"></span>';f+='<span class="cp-modal-minscr" style="display:none;"></span>';}f+='<span class="icon-seperator">|</span> <span class="cp-modal-close">&times; </span>';f+="</div>";f+='<div id="cp-menu-launcher"><div class="cp-menu-launcher-release" id="cp-menu-launcher-icon"></div></div>';f+="</div>";if(c("#cp-toolbarcontainer").length>0){c("#cp-toolbarcontainer").replaceWith(f);}else{c("#cp-modalcontent").append(f);}c(".cp-modal-close").live("click",function(){h.closeModal();});}catch(g){}},_generatePlayerMenuContent:function(){try{var g=this;var h=c('<div id="cp-menucontainer" class="cp-menucontainer" alt="show" oncontextmenu="return false;"></div>');if(c("#cp-menucontainer").length>0){c("#cp-menucontainer").replaceWith(h);
}else{c("#cp-toolbarcontainer").after(h);}c("#cp-menu-launcher").live("click",function(){g.showMenu();});}catch(f){}},_generatePlayerStatusBar:function(){try{var h=this;var f="";f+='<div id="cp-statusbarcontainer">';f+='<div class="cp-action-btns">';f+='<div id = "cp-done-btn" class="cp-modal-close cp-done-btn">'+Drupal.t("LBL569")+"</div>";f+="</div>";f+="</div>";if(c("#cp-statusbarcontainer").length>0){c("#cp-statusbarcontainer").replaceWith(f);}else{c("#cp-contentcontainer").append(f);}}catch(g){}},getPlayList:function(i){try{var f=new Date().getTime();var k=this;var h=i.enrollId;var m=i.masterEnrollId;var l={};if(i.programId>0){var g=this.constructUrl("ajax/content-player/program-playlist/"+m);}else{var g=this.constructUrl("ajax/content-player/playlist/"+h);}c.ajax({type:"POST",url:g,data:l,success:function(e){var n=new Date().getTime()-f;k.options.contentList=e.menuList;k.classDetails=e.classDetails;if(e.classDetails.cls_comp_status=="lrn_crs_cmp_inc"){k.closeModal();}if(n>1000){playertimeoutcall(k,i);
}k._generatePlayerMenu(i);c("#cp-modalcontainer #now-play-contentId-"+i.cType+"-"+i.contentId).show();if(c("#cp-content-navigation-container").length>0){k._generatePlayerContentMenu(i,1);c("#cp-modalcontainer #now-play-subcontentId-"+i.LessonId).show();}k.aftercompletetrunk8();}});}catch(j){}},aftercompletetrunk8:function(){c(".cp-menulist .limit-title").trunk8(trunk8.contstrip_title);c(".enroll-course-title .limit-title").trunk8(trunk8.myenroll_title);c(".limit-title-lp").trunk8(trunk8.myprogramLP_title);c(".lp-class-title-details .limit-title").trunk8(trunk8.myprogramClass_title);c(".limit-title-lp-mod").trunk8(trunk8.myprogramModule_title);},_generatePlayerMenu:function(i){try{var h=this;h.initiateContentPlayer(i);var n="$('#"+h.options.LaunchFrom+"').data('contentPlayer')";var j=h.options.contentList;var g,o;var f=Object.keys(j).length;c("#cp-title").html('<span class="ContentPlayerTitle vtip limit-title contplycls-limit-title" title="'+htmlEntities(h.classDetails.classTitle)+'">'+titleRestrictionFadeoutImage(h.classDetails.classTitle,"content-player-title")+'</span><span class="ClassCount" > ('+h.classDetails.completed_content_count+"/"+f+" "+Drupal.t("Completed")+")</span>");
var l="";if(j.length>0){if(i.pagefrom=="seemore"||i.pagefrom=="lp_seemore"||i.pagefrom=="lp_class_seemore"||i.pagefrom=="class_details"||i.pagefrom=="course_class_list"||i.pagefrom=="lrnplan_course_class_list"){var k=(i.programId>0)?"cp-menulist-seemore-"+i.containerId:"cp-menulist-seemore-"+i.enrollId;l+='<div class="cls-cp-menulist"><ul id="'+k+'" class="cp-menulist" oncontextmenu="return false;">';}else{l+='<div class="cls-cp-menulist"><ul id="cp-menulist-'+i.enrollId+'" class="cp-menulist" oncontextmenu="return false;">';}c.each(j,function(H,J){var K=(j[H]["contentTitle"]!=d&&j[H]["contentTitle"]!="")?j[H]["contentTitle"]:j[H]["Code"];K=htmlEntities(K);var A=(J.isMultiLesson==1)?j[H]["defaultContent"]:H;var I=j[H]["contentId"];var B=j[H]["cType"];var e=j[H]["play_status"];if((typeof j[H]["cls_title"]!="undefined")||(j[H]["contentType"]!="pre-assessment"&&j[H]["contentType"]!="survey"&&j[H]["contentType"]!="post-assessment")){var C=h.classDetails.prev_comp_status;var G=h.classDetails.prev_class_title;
var x=h.classDetails.prev_class_status;var z=h.classDetails.cls_title;var N=(this.currTheme=="expertusoneV2"&&z.length>50)?50:z.length;var L="$('body').data('learningcore').callMessageWindow(' "+z.replace(/"/g,"&quot;")+" ','"+Drupal.t("You need to complete")+" "+escape(G)+" "+Drupal.t("Course")+"',  '"+N+"');";}var s={masterEnrollId:h.setValue(i.masterEnrollId,0),enrollId:h.setValue(i.enrollId),programId:h.setValue(i.programId,0),isMultiLesson:h.setValue(J.isMultiLesson,0),contentType:j[H]["contentType"],cType:j[H]["cType"],contentId:j[H]["contentId"],LessonId:h.setValue(j[H]["LessonId"],""),VersionId:h.setValue(j[H]["VersionId"],""),url1:h.setValue(j[H]["LearnerLaunchURL"],""),courseId:h.setValue(i.courseId,0),classId:h.setValue(i.classId,0),url2:h.setValue(j[H]["PresenterLaunchURL"],""),ErrMsg:"",Status:h.setValue(j[H]["Status"],""),LessonLocation:h.setValue(j[H]["LessonLocation"],""),launch_data:h.setValue(j[H]["LaunchData"],""),suspend_data:h.setValue(j[H]["SuspendData"],""),exit:h.setValue(j[H]["CmiExit"],""),AICC_SID:h.setValue(j[H]["AICC_SID"],""),MasteryScore:h.setValue(j[H]["masteryscore"],""),remDays:j[H]["remDays"],ValidityDays:j[H]["ValidityDays"],no_of_attempts:j[H]["no_of_attempts"],AttemptLeft:j[H]["AttemptLeft"],attempts:j[H]["attempts"],MaxAttempt:j[H]["MaxAttempt"],surveycount:j[H]["surveycount"],is_post_ass_launch:j[H]["is_post_ass_launch"],playStatus:j[H]["play_status"],access_denied_flag:j[H]["access_denied_flag"],defaultContent:A,pagefrom:h.setValue(j[H]["pagefrom"],""),LaunchFrom:i.LaunchFrom,containerId:i.containerId};
s=objectToString(s);var p="icn-"+j[H]["contentType"].toLowerCase().replace(/ /g,"-").replace(/\./g,"");l+='<li class="cp-list-menu-'+B+"-"+I+'">';l+='	<div class="cp-menuitem">';l+='		<div class="cp-menu-details"><div class="cp-menu-details-holder">';var E=GetLabelsForContentType(Drupal.t(j[H]["contentType"]));var y="";y+='			<div class="cp-menu-icon">';y+='				<span title = "'+E+'" class="content-type-icon '+p+' vtip" ></span>';y+='				<div class="conten-play-status current-status-disable" id="now-play-contentId-'+B+"-"+I+'" style="display:none"><span>'+Drupal.t("Now")+"</span><span> "+Drupal.t("Playing")+"</span></div>";y+="			</div>";y+='			<div class="cp-menu-action limit-title-row">';var w="";if(j[H]["ValidityDays"]!==""&&j[H]["ValidityDays"]!=d){var q=(j[H]["remDays"]!==d&&j[H]["remDays"]!=null)?parseInt(j[H]["remDays"]):"";if(q<=0){var D=Drupal.t("Expired");q="";}else{if(q==1){var D=Drupal.t("LBL910");}else{if(q>1){var D=Drupal.t("LBL605");}}}w=q+" "+D;}if(C=="notallow"&&x!="lrn_crs_cmp_cmp"&&i.pagefrom!="catalog"&&(i.pagefrom=="lp_seemore"||i.pagefrom=="lrnplan_course_class_list"||i.pagefrom=="lp_class_seemore")){if(i.pagefrom=="seemore"||i.pagefrom=="lp_seemore"||i.pagefrom=="lp_class_seemore"||i.pagefrom=="class_details"||i.pagefrom=="course_class_list"||i.pagefrom=="lrnplan_course_class_list"){l+='<a class="clsMenulistTitle clsInActiveMenu" id="selconetentmenulink-'+B+"-"+I+'" href="javascript:void(0);" onclick="'+L+' ">';
}else{l+='<a class="clsMenulistTitle clsInActiveMenu" id="selconetentmenulink-'+B+"-"+I+'" href="javascript:void(0);" onclick="'+n+".changePlayerContent("+s+');">';}l+=y+'<span title="'+K+'" class="vtip clsInActiveMenu limit-title">'+K+"</span></div></a>";}else{if(e==true){if(i.pagefrom=="seemore"||i.pagefrom=="lp_seemore"||i.pagefrom=="lp_class_seemore"||i.pagefrom=="class_details"||i.pagefrom=="course_class_list"||i.pagefrom=="lrnplan_course_class_list"){l+='<a class="clsMenulistTitle" id="selconetentmenulink-'+B+"-"+I+'" href="javascript:void(0);" onclick="'+n+".playContent("+s+');">';}else{l+='<a class="clsMenulistTitle" id="selconetentmenulink-'+B+"-"+I+'" href="javascript:void(0);" onclick="'+n+".changePlayerContent("+s+');">';}l+=y+'<span title="'+K+'" class="vtip clsActiveMenu limit-title">'+K+"</span></div></a>";}else{if(i.pagefrom=="seemore"||i.pagefrom=="lp_seemore"||i.pagefrom=="lp_class_seemore"||i.pagefrom=="class_details"||i.pagefrom=="course_class_list"||i.pagefrom=="lrnplan_course_class_list"){l+='<a class="clsMenulistTitle clsInActiveMenu" id="selconetentmenulink-'+B+"-"+I+'" href="javascript:void(0);" onclick="'+n+".playContent("+s+');">';
}else{l+='<a class="clsMenulistTitle clsInActiveMenu" id="selconetentmenulink-'+B+"-"+I+'" href="javascript:void(0);" onclick="'+n+".changePlayerContent("+s+');">';}l+=y+'<span title="'+K+'" class="vtip clsInActiveMenu limit-title">'+K+"</span></div></a>";}}l+='			<div class="cp-menu-detail">';if((j[H]["AttemptLeft"]!==""&&j[H]["AttemptLeft"]!=d&&j[H]["AttemptLeft"]!="notset")||(j[H]["ValidityDays"]!==""&&j[H]["ValidityDays"]!=d)||(j[H]["VersionNum"]!==""&&j[H]["VersionNum"]!=d&&j[H]["VersionNum"]!=null)){var v=(i.classId==0)?i.programId:i.classId;var t=i.enrollId;l+='<span class="clsShowContentValidty" onclick="'+n+".showContentValidation('"+B+"_"+j[H]["contentId"]+"_"+v+"_"+t+'\');"></span><span style="display:none;" class ="clsConentValidtiy" id="sel_content_'+B+"_"+j[H]["contentId"]+"_"+v+"_"+t+'">';var F=true;if(j[H]["AttemptLeft"]!==""&&j[H]["AttemptLeft"]!=d&&j[H]["AttemptLeft"]!="notset"){F=false;l+='<span class="clsAttemptLeft"><div class="clsContentValidtyLBL" >'+Drupal.t("LBL857")+'</div><div>:</div><div class="clsContentValidtyVal">'+j[H]["AttemptLeft"]+" "+Drupal.t("LBL3072")+"</div></span>";
}if(j[H]["ValidityDays"]!==""&&j[H]["ValidityDays"]!=d){F=false;l+='<span class="clsValidityDays"><div class="clsContentValidtyLBL">'+Drupal.t("LBL604")+'</div><div>:</div><div class="clsContentValidtyVal">'+w+"</div></span>";}if(j[H]["VersionNum"]!==""&&j[H]["VersionNum"]!=d&&j[H]["VersionNum"]!=null){var r=true;if(j[H]["LearnerLaunchURL"]!=null&&(j[H]["subtype"]=="h5p-video-mp4"||j[H]["subtype"]=="h5p-Youtube"||j[H]["subtype"]=="h5p-Vimeo"||j[H]["subtype"]=="h5p-video-webm"||j[H]["subtype"]=="h5p-presentatn")){r=false;}if(r){l+='<span class="clsValidityDays"><div class="clsContentValidtyLBL">'+Drupal.t("LBL1123")+'</div><div>:</div><div class="clsContentValidtyVal">'+j[H]["VersionNum"]+"</div></span>";}else{if(F){l+='<div class="no-records-msg">'+Drupal.t("MSG278")+"</div>";}}}l+='<span class="clstooltiparrow"></span> </span>';}l+="</div>";l+="			</div></div>";if(j[H]["contentType"]=="pre-assessment"||j[H]["contentType"]=="survey"||j[H]["contentType"]=="post-assessment"){var M=j[H]["contentId"];
var u="survey_assessment";}else{var M=j[H]["contentId"];var u="content";}if(i.programId>0){h.progressbarLine(i.containerId,j[H]["content_completion"],M,i.pagefrom,u);l+='			<div id="cp-menu-progress_'+i.containerId+"_"+M+"_"+u+'" class="cp-menu-progress yogaraja">';}else{h.progressbarLine(i.enrollId,j[H]["content_completion"],M,i.pagefrom,u);l+='			<div id="cp-menu-progress_'+i.enrollId+"_"+M+"_"+u+'" class="cp-menu-progress">';}l+="			</div>";l+="	</div>";l+="</li>";});l+="</ul></div>";}else{if(i.pagefrom!="seemore"&&i.pagefrom!="lp_seemore"&&i.pagefrom!="lp_class_seemore"&&i.pagefrom!="class_details"&&i.pagefrom!="course_class_list"&&i.pagefrom!="lrnplan_course_class_list"){l+='<div id="sel-cp-menulist-nomenu-'+i.enrollId+'" style="font-family:openSansRegular, Arial; font-size:12px; color:#aaa; text-align:center; padding:40px 0; border:1px solid #ddd;">'+Drupal.t("LBL635")+"</div>";}}if(f<2){c("#cp-menucontainer").addClass("cp-menulist-border");}else{c("#cp-menucontainer").removeClass("cp-menulist-border");
}h.applyCarouselEffect(i,l);if(i.pagefrom!="class_details"&&i.pagefrom!="course_class_list"&&i.pagefrom!="lrnplan_course_class_list"){c(".cp-menulist .limit-title").trunk8(trunk8.contstrip_title);}vtip();}catch(m){}},applyCarouselEffect:function(i,m){try{var h=this;var p=4;var q="$('#"+h.options.LaunchFrom+"').data('contentPlayer')";var j=h.options.contentList;var g=Object.keys(j).length;if(i.pagefrom=="seemore"){var l=188;var r="755px";c("#seemore_"+i.enrollId).css("display","none");c("#paindContentResults_"+i.enrollId).css("display","block");var o='<div class="cp_seeless" id="seeless_'+i.enrollId+'" onclick="'+q+".seelesscontent("+i.enrollId+');">'+Drupal.t("LBL3042")+"</div>";c("#paindContentResults_"+i.enrollId).html(m);if(a.getElementById("seeless_")+i.enrollId){c("#seeless_"+i.enrollId).remove();}setTimeout(function(){c("#"+i.enrollId+"SubGrid").after(o);},300);if(j.length<=0){c("#paindContentResults_"+i.enrollId).css("display","none");}if(g>p){c("#paindLPContentResults_"+i.enrollId+" .cls-cp-menulist").removeClass("menulist-lt4");
if(c(".clsContentFull").length){c("#paindContentResults_"+i.enrollId).width("755px");}else{c("#paindContentResults_"+i.enrollId).width("583px");}}else{c("#paindContentResults_"+i.enrollId).width(r);r=(j.length*l)+"px";c("#paindContentResults_"+i.enrollId+" .cls-cp-menulist").css("width",r).addClass("menulist-lt4");}h.destroyLoader("enroll_details_"+i.enrollId);}else{if(i.pagefrom=="class_details"){var l=196;var r="591px";p=3;c("#paindContentResults_"+i.enrollId).css("display","block");c("#paindContentResults_"+i.enrollId).html(m);if(j.length<=0){c("#paindContentResults_"+i.enrollId).css("display","none");}if(g>p){c("#paindContentResults_"+i.enrollId).width(r);}else{c("#paindContentResults_"+i.enrollId).width(r);r=(j.length*l)+"px";c("#paindContentResults_"+i.enrollId+" .cls-cp-menulist").css("width",r).addClass("menulist-lt4");}}else{if(i.pagefrom=="course_class_list"||i.pagefrom=="lrnplan_course_class_list"){var l=196;var r="394px";p=2;c("#paindContentResults_"+i.enrollId).css("display","block");
c("#paindContentResults_"+i.enrollId).html(m);if(j.length<=0){c("#paindContentResults_"+i.enrollId).css("display","none");}if(g>p){c("#paindContentResults_"+i.enrollId).width(r);}else{c("#paindContentResults_"+i.enrollId).width(r);r=(j.length*l)+"px";c("#paindContentResults_"+i.enrollId+" .cls-cp-menulist").css("width",r).addClass("menulist-lt4");}}else{if(i.pagefrom=="lp_seemore"){var l=188;var r="755px";var k=i.containerId;var o='<tr id="lp_seeless_tr_'+k+'" data-rowid='+k+' class="jqgcrow ui-row-'+k+'"><td>&nbsp;</td><td colspan="2"><div class="lp_seeless" id="lp_seeless_'+k+'" onclick="'+q+".seelessLPContent('"+k+"');\">"+Drupal.t("LBL3042")+"</div></td></tr>";c("#paindLPContentResults_"+k).html(m);if(a.getElementById("lp_seeless_tr_")+k){c("#lp_seeless_tr_"+k).remove();}c("#"+k+"SubGrid").after(o);if(a.getElementById(k+"SubGrid")){c("#lp_seemore_"+k).css("display","none");c("#lp_seeless_tr_"+k).css("display","table-row");}else{c("#lp_seemore_"+k).css("display","none");}if(j.length<=0){c("#paindLPContentResults_"+k).css("display","none");
}if(g>p){c("#paindLPContentResults_"+k+" .cls-cp-menulist").removeClass("menulist-lt4");if(c(".clsContentFull").length){c("#paindLPContentResults_"+k).width("755px");}else{c("#paindLPContentResults_"+k).width("583px");}}else{c("#paindLPContentResults_"+k).width(r);r=(j.length*l)+"px";c("#paindLPContentResults_"+k+" .cls-cp-menulist").css("width",r).addClass("menulist-lt4");}}else{if(i.pagefrom=="lp_class_seemore"){var l=177;var r="707px";c("#lp_class_seemore_"+i.enrollId).css("display","none");c("#paindContentResults_"+i.enrollId).css("display","block");c("#paindContentResults_"+i.enrollId).html(m);if(j.length<=0){c("#paindContentResults_"+i.enrollId).css("display","none");}if(g>p){c("#paindLPContentResults_"+i.enrollId+" .cls-cp-menulist").removeClass("menulist-lt4");if(c(".clsContentFull").length){c("#paindContentResults_"+i.enrollId).width("710px");}else{c("#paindContentResults_"+i.enrollId).width("583px");}}else{c("#paindContentResults_"+i.enrollId).width(r);r=(j.length*l)+"px";c("#paindContentResults_"+i.enrollId+" .cls-cp-menulist").css("width",r).addClass("menulist-lt4");
}}else{c("#cp-menucontainer").html(m);}}}}}if(g>p){var f=(i.programId>0)?i.containerId:i.enrollId;h.attachMenuCarousel(g,i.pagefrom,f);}if(i.pagefrom=="lp_class_seemore"||i.pagefrom=="lp_seemore"){h.destroyLoader("enroll-lp-result-container");}}catch(n){}},updatePlayerChangeState:function(f){try{contentPlayer.changed=(f=="true")?true:false;}catch(g){}},showContentValidation:function(e){if(c("#cp-modal").css("display")=="none"||c("#cp-modal").css("display")==d){$this=c("#sel_content_"+e);c(".clsConentValidtiy").not($this).hide();c("#sel_content_"+e).toggle();}else{$this=c("#cp-modalcontainer #sel_content_"+e);c("#cp-modalcontainer .clsConentValidtiy").not($this).hide();c("#cp-modalcontainer #sel_content_"+e).toggle();}},changePlayerContent:function(g){try{var i=this;i.createLoader("cp-modalcontainer");var f=i.lastPlayedObject;if(c.isEmptyObject(f)){i.getPlayList(g);i.getPlayerContent(g);}else{g.closed=false;i.updatePlayedStatus(g);}}catch(h){}},updatePlayedStatus:function(A){try{var m=this;
var x=m.lastPlayedObject;var v=x.contentType;A.launchObject=m.options.LaunchFrom;if(c("#cp-modal").css("display")=="none"&&x.play_status==true){if(a.getElementById("lnr-catalog-search")&&m.options.LaunchFrom=="lnr-catalog-search"){c("#lnr-catalog-search").data("lnrcatalogsearch").createLoader("searchRecordsPaint");if(a.getElementById("course-details-display-content")){c("#course-details-display-content").data("lnrcoursedetails").createLoader("class-list-loader");}if(a.getElementById("class_detail_content")){c("#class_detail_content").data("lnrclassdetails").createLoader("class_detail_content");}if(a.getElementById("learning-plan-details-display-content")){c("#learning-plan-details-display-content").data("lnrplandetails").createLoader("class-container-loader-"+x.classId);}}if(a.getElementById("learner-enrollment-tab-inner")&&m.options.LaunchFrom=="learner-enrollment-tab-inner"){c("#learner-enrollment-tab-inner").data("enrollment").createLoader("enroll-result-container");}if(a.getElementById("learningplan-tab-inner")&&m.options.LaunchFrom=="learningplan-tab-inner"){c("#learningplan-tab-inner").data("learningplan").createLoader("enroll-lp-result-container");
}}if(x.play_status==true){switch(v){case"SCORM 1.2":case"SCORM 2004":case"Knowledge Content":var k={};k.completionStatus="completed";k.status="completed";k.score="0";k.location="0";k.totalTime="0";k.sessionTime="";var i=d;if(A.access_denied_flag==1||x.access_denied_flag==1){m.getPlayList(A);setTimeout(function(){m.getPlayerContent(A);},500);m.destroyLoader("launch-wizard");m.destroyLoader("cp-modalcontainer");if(a.getElementById("learner-enrollment-tab-inner")){m.destroyLoader("cp-modalcontainer");}if(a.getElementById("learningplan-tab-inner")){c("#learningplan-tab-inner").data("learningplan").destroyLoader("enroll-lp-result-container");}if(a.getElementById("launch-wizard")){c("#class_detail_content #launch-wizard").hide();}if(a.getElementById("course-details-display-content")){c("#course-details-display-content").data("lnrcoursedetails").destroyLoader("class-list-loader");}if(a.getElementById("learning-plan-details-display-content")){c("#learning-plan-details-display-content").data("lnrplandetails").destroyLoader("class-container-loader-"+clid);
}if(a.getElementById("class_detail_content")){c("#class_detail_content").data("lnrclassdetails").destroyLoader("class_detail_content");}}else{c("#"+m.options.LaunchFrom).data("contentLaunch").updateScore(i,A);}break;case"AICC":case"Tin Can":var i=(v=="AICC"||v=="Tin Can")?scoobj.callback_param:d;setTimeout(function(){c("#"+m.options.LaunchFrom).data("contentLaunch").updateScore(i,A);},500);break;case"Video on Demand":var s=x.LaunchFrom;var g=x.courseId;var o=x.classId;var f=x.LessonId;var h=x.VersionId;var j=x.enrollId;var u="";var l="";c("#"+m.options.LaunchFrom).data("contentLaunch").updateVODScoreOnCtoolsModalClose(s,g,o,f,h,j,u,l,A);break;case"pre-assessment":case"post-assessment":case"survey":var p=x.minMark;var z=x.maxMark;var r=x.maxMark;var q=x.status;q="suspend";var n=x.preStatus;var y=x.contentId;var t=c("#block-take-survey").data("surveylearner").committed;if(t!=1){c("#block-take-survey").data("surveylearner").saveCurrentState(p,z,r,q,n,y,A);}else{if(A.closed!=true){c("#"+m.options.LaunchFrom).data("contentPlayer").playNextContent(A);
}if(a.getElementById("lnr-catalog-search")&&m.options.LaunchFrom=="lnr-catalog-search"){if(a.getElementById("lnr-catalog-search")){c("#lnr-catalog-search").data("lnrcatalogsearch").destroyLoader("searchRecordsPaint");}if(a.getElementById("course-details-display-content")){c("#course-details-display-content").data("lnrcoursedetails").destroyLoader("class-list-loader");}else{if(a.getElementById("class_detail_content")){c("#paindContentclsid_"+x.classId).click();c("#class_detail_content").data("lnrclassdetails").destroyLoader("class_detail_content");}}if(a.getElementById("learning-plan-details-display-content")){c("#learning-plan-details-display-content").data("lnrplandetails").destroyLoader("class-container-loader-"+x.classId);}}}if(a.getElementById("learner-enrollment-tab-inner")&&m.options.LaunchFrom=="learner-enrollment-tab-inner"){c("#learner-enrollment-tab-inner").data("enrollment").destroyLoader("enroll-result-container");}if(a.getElementById("learningplan-tab-inner")&&m.options.LaunchFrom=="learningplan-tab-inner"){c("#learningplan-tab-inner").data("learningplan").destroyLoader("enroll-lp-result-container");
}c("#learning-plan-details-display-content").data("lnrplandetails").renderCoursesList(1);c("#block-take-survey").surveylearner("destroy");break;default:break;}}if(A.closed!=true&&x.play_status==false){c("#"+m.options.LaunchFrom).data("contentPlayer").playNextContent(A);}else{}}catch(w){}},playNextContent:function(f){try{f.playNext=1;c("#"+f.launchObject).data("contentPlayer").getPlayList(f);setTimeout(function(){c("#"+f.launchObject).data("contentPlayer").getPlayerContent(f);},500);c("#cp-content-navigation").removeAttr("style");}catch(g){}},getLaunchObject:function(i){try{var f="";var h=this;if(i!=d&&i!=null){switch(i){case"CL":f="lnr-catalog-search";break;case"ME":f="learner-enrollment-tab-inner";break;case"LP":f="learningplan-tab-inner";break;default:f="learner-enrollment-tab-inner";break;}}h.options.LaunchFrom=f;return f;}catch(g){}},getPlayerContent:function(m){try{var n="";if(m.access_denied_flag!="undefined"){n=m.access_denied_flag;}var l=this;if(m.defaultContent=="notset"){var q="";
var p="";if(m.lp_have_only_post_ass_cont!=d&&m.lp_have_only_post_ass_cont==true){p=Drupal.t("MSG688");}else{if(m.cl_ilt_have_only_post_ass_cont!=d&&m.cl_ilt_have_only_post_ass_cont==true){p=Drupal.t("MSG384");}else{var i=(l.options.contentList[0]["contentTitle"]!=""&&l.options.contentList[0]["contentTitle"]!="undefined"&&l.options.contentList[0]["contentTitle"]!=d)?l.options.contentList[0]["contentTitle"]:Drupal.t("Content");p=i+"&nbsp;<b>"+Drupal.t("MSG796")+"</b>";}}q+='<div id="cp-contentcontainer" class="cp-contentcontainer cp-full-player" style="height: auto; width: 99%;">';q+='	<div id="cp-content-main"><span class="msg-content">'+p+"</span></div>";q+="</div>";if(c("#cp-contentcontainer").length>0){c("#cp-contentcontainer").replaceWith(q);}else{c("#cp-menucontainer").after(q);}this.windowAdjustment(m);this.resizeInnerContent();l.destroyLoader("cp-modalcontainer");setTimeout(function(){c("#cp-modalcontainer .cls-cp-menulist ul li:first-child .conten-play-status").show();},50);}else{l.setDefaultContent(m.defaultContent);
var j=l.setValue(m.enrollId,0);var r=l.setValue(m.masterEnrollId,0);var s=l.defaultContent;var h=parseInt(l.isMultiLesson);if(h==1){var g=l.options.contentList[l.defaultContent[0]][l.defaultContent[1]];}else{var g=l.options.contentList[s];}g.enrollId=j;g.masterEnrollId=r;g.pagefrom=l.setValue(m.pagefrom,"");g.programId=l.setValue(m.programId,0);g.classId=l.setValue(m.classId,0);g.courseId=l.setValue(m.courseId,0);g.classTitle=l.setValue(m.classTitle,"");g.userId=l.setValue(m.userId,"");g.isMultiLesson=h;g.LaunchFrom=l.setValue(m.LaunchFrom,"");g.suspend_data=l.setValue(g.SuspendData,"");g.playNext=l.setValue(m.playNext,"");g.preStatus=(m.contentType=="pre-assessment")?1:0;var k=g;l.lastPlayedObject=k;if(h==1){var f=this.constructUrl("ajax/content-player/play-subcontent");}else{var f=this.constructUrl("ajax/content-player/playcontent");}c.ajax({type:"POST",url:f,data:k,success:function(e){l._generatePlayerContent(e,g);l.playerCompleteCall(g);}});}}catch(o){}},playerCompleteCall:function(){try{var g=this;
var h=g.isMultiLesson;if(h){c(".cp-content-navigation-control").css("margin-left",c("#cp-content-navigation").width()-18);}g.destroyLoader("cp-modalcontainer");}catch(f){}},setDefaultContent:function(g){try{var i=this;if(g!==d||g!=""||g!="undefined"){var f=g.split("-");if(f.length>1){i.defaultContent=f;i.isMultiLesson=1;}else{i.defaultContent=f[0];i.isMultiLesson=0;}}}catch(h){}},_generatePlayerContent:function(r,C){try{var s=this;var v,i="";var f=s.isMultiLesson;var n=(f==1)?"cp-nav-player":"cp-full-player";var p;if(C.play_status==true&&C.access_denied_flag!=1){if(f==1){var v=s.setValue(r.content,"No Content found !");if(c("#cp-content-navigation-container").length>0){i='	<div id="cp-content-main">'+v+"</div>";}else{var x="";x=s._generatePlayerContentMenu(C,0);i+='<div id="cp-contentcontainer" class="cp-contentcontainer '+n+'">';i+='<a href="javascript:void(0)" class="cp-content-navigation-control">&lt;</a>';i+='	<div id="cp-content-navigation">';i+='		<div id="cp-content-navigation-container">'+x+"</div>";
i+="	</div>";i+='	<div id="cp-content-main">'+v+"</div>";i+="</div>";c(".cp-content-navigation-control").live("click",function(){s.showContentNavMenu();});}}else{if(C.contentType=="pre-assessment"||C.contentType=="post-assessment"){var q,g,l="";c("#block-take-survey").surveylearner();var h=c("#block-take-survey").data("surveylearner");i=r.content;if(C.programId>0){q=C.masterEnrollId;g=C.programId+"###"+C.masterEnrollId;l="enroll-lp-result-container";}else{q=C.enrollId;g=C.classId+"###"+C.enrollId+"###"+C.courseId+"###"+C.classId;l="enroll-result-container";}var A=(C.contentType=="pre-assessment")?1:0;h.surveyId=C.contentId;h.callTakeSurveyToClass(C.objectid,escape(C.classTitle),C.objecttype,"assessment",g,q,A,l);c("#take_survey_main").jScrollPane({});}else{if(C.contentType=="survey"){var q,g,l="";c("#block-take-survey").surveylearner();var h=c("#block-take-survey").data("surveylearner");i=r.content;if(C.programId>0){q=C.masterEnrollId;g=C.programId+"###"+C.masterEnrollId;l="enroll-lp-result-container";
}else{q=C.enrollId;g=C.classId+"###"+C.enrollId+"###"+C.courseId+"###"+C.classId;l="enroll-result-container";}var A=0;h.surveyId=C.contentId;h.callTakeSurveyToClass(C.objectid,escape(C.classTitle),C.objecttype,"survey",g,q,A,l);}else{v=s.setValue(r.content,"No Content found !");i+='<div id="cp-contentcontainer" class="cp-contentcontainer '+n+'">';i+='	<div id="cp-content-main">'+v+"</div>";i+="</div>";}}}if(r.isIframeContent==1){if(C.contentType=="Knowledge Content"&&C.subtype=="h5p-presentatn"){var j=C.MaxAttempt;var m=C.AttemptLeft;var w=C.contentId;var B=C.contentTitle;var z=C.Status;var k=C.courseId;var u=C.classId;var o=C.classTitle;var j=C.MaxAttempt;var m=C.AttemptLeft;c("#cp-menucontainer").attr("MaxAttempt",j);c("#cp-menucontainer").attr("AttemptLeft",m);c("#cp-menucontainer").attr("contentId",w);c("#cp-menucontainer").attr("contentTitle",encodeURIComponent(B));c("#cp-menucontainer").attr("contentStatus",z);c("#cp-menucontainer").attr("courseId",k);c("#cp-menucontainer").attr("classId",u);
c("#cp-menucontainer").attr("classTitle",encodeURIComponent(o));c("#cp-menucontainer").attr("subtype",C.subtype);C.LearnerLaunchURL=C.LearnerLaunchURL+"&enrollId="+C.enrollId+"&preview=false";}c("#"+s.options.LaunchFrom).contentLaunch();c("#"+s.options.LaunchFrom).data("contentLaunch").launchWBTContent(C);if(s.options.LaunchFrom=="learner-enrollment-tab-inner"){c("#"+s.options.LaunchFrom).data("enrollment").destroyLoader("enroll-result-container");}if(s.options.LaunchFrom=="learningplan-tab-inner"){c("#"+s.options.LaunchFrom).data("learningplan").destroyLoader("enroll-lp-result-container");}}if(c("#cp-contentcontainer").length>0){if(f==1){c("#cp-contentcontainer #cp-content-main").replaceWith(i);}else{c("#cp-contentcontainer").replaceWith(i);}}else{c("#cp-menucontainer").after(i);}if(C.contentType=="Video on Demand"&&(C.subtype=="h5p-Vimeo"||C.subtype=="h5p-Youtube"||C.subtype=="h5p-video-mp4"||C.subtype=="h5p-video-webm")){s.initiateH5P(C);}else{if(C.contentType=="Video on Demand"){s.initiateVideoPlayer(r.params,s);
}}}else{if(C.play_status==false){var i="";var v="";v=C.contentTitle+"&nbsp;<b>"+Drupal.t("MSG796")+"</b>";i+='<div id="cp-contentcontainer" class="cp-contentcontainer cp-full-player" style="height: auto; width: 99%;">';i+='	<div id="cp-content-main"><span class="msg-content">'+v+"</span></div>";i+="</div>";if(c("#cp-contentcontainer").length>0){c("#cp-contentcontainer").replaceWith(i);}else{c("#cp-menucontainer").after(i);}s.destroyLoader("cp-modalcontainer");}else{var t=s.options.LaunchFrom;var i="";var v="";v=Drupal.t("MSG796");params="{'Id':'"+C.LessonId+"','enrollId':'"+C.enrollId+"','VersionId':'"+C.VersionId+"','url1':'"+C.LearnerLaunchURL+"','courseId':'"+C.courseId+"','classId':'"+C.classId+"','url2':'','AICC_SID':'"+C.AICC_SID+"','ErrMsg':'','contentType':'"+C.contentType+"','Status':'"+C.Status+"'}";C.LaunchFromTab=t;launch_data=objectToString(C);i+='<div id="cp-contentcontainer" class="cp-contentcontainer cp-full-player" style="height: auto; width: 99%;">';i+='	<div id="cp-content-main"><span id = "access_denied_flag" class="msg-content">'+Drupal.t("MSG997")+'&nbsp;<a class="launch_window" onclick="RedirectForLoadDeniedContent('+launch_data+');">'+Drupal.t("MSG998")+"</a>";
i+='<span id = "launch_msg">'+Drupal.t("MSG999")+"</span></span>";i+="</div></div>";if(c("#cp-contentcontainer").length>0){c("#cp-contentcontainer").replaceWith(i);}else{c("#cp-menucontainer").after(i);}s.destroyLoader("cp-modalcontainer");}}if(this.options.statusBarControl){this._generatePlayerStatusBar();}this.showNowPlay(C);this.windowAdjustment(C);this.resizeInnerContent();}catch(y){}},showNowPlay:function(i){try{var k=this;var h=k.options.contentList;var g=Object.keys(h).length;c(".conten-play-status").hide();c(".sub-content-play-status").hide();if(a.getElementById("now-play-contentId-"+i.cType+"-"+i.contentId)){setTimeout(function(){c("#cp-modalcontainer #now-play-contentId-"+i.cType+"-"+i.contentId).show();},50);}setTimeout(function(){c("#cp-modalcontainer #now-play-subcontentId-"+i.LessonId).show();},200);c(".cp-menulist li").removeClass("active-content");if(g>4){var f=1;if(c(".cp-list-menu-"+i.cType+"-"+i.contentId).attr("jcarouselindex")>4){whole_number=Math.ceil(c(".cp-list-menu-"+i.cType+"-"+i.contentId).attr("jcarouselindex")/4);
f=(whole_number*4)-3;}setTimeout(function(){c("#cp-menucontainer").jcarouselcp("scroll",f,false);},200);}setTimeout(function(){c("#cp-modalcontainer .cp-list-menu-"+i.cType+"-"+i.contentId).addClass("active-content");},100);if(g<2){c("#cp-menucontainer").addClass("cp-menulist-border");}else{c("#cp-menucontainer").removeClass("cp-menulist-border");}}catch(j){}},windowAdjustment:function(j){var n=this;var f=c("body");c("#cp-modal #cp-contentcontainer").css({height:"auto",width:"auto"});var i=c("#cp-modalcontainer");var o=c("#cp-modalcontainer");var e=i.offset();var k={width:c("#modalBackdrop").css("width"),height:c("#modalBackdrop").css("height")};i.resizable({handles:"all",minHeight:i.height(),minWidth:i.width(),create:function(q,r){n.resizeInnerContent();},resize:function(q,r){if(a.getElementById("cp-frame-container")){c("#cp-modal #cp-frame-container .iframe-overlay").show();}n.resizeInnerContent();},start:function(q,r){if(a.getElementById("cp-frame-container")){c("#cp-modal #cp-frame-container .iframe-overlay").show();
}},stop:function(s,t){c("#cp-modal #cp-frame-container .iframe-overlay").hide();var r=c(a).width()-o.width()-5;var u=c(a).height()-o.height()-5;o.draggable("option","containment",[5,5,r,u]);var q=c("#cp-overlay .ui-icon-gripsmall-diagonal-se").position();e=i.offset();if(q!=null&&e!=null){if(f.width()<=(q.left+e.left+5)){i.css(t.originalPosition);i.css(t.originalSize);}if(f.height()+c(b).scrollTop()<=(q.top+e.top+5)){i.css(t.originalPosition);i.css(t.originalSize);}if(e.top-c(b).scrollTop()<5){i.css(t.originalPosition);i.css(t.originalSize);}}e=i.offset();n.showNowPlay(j);n.resizeInnerContent();}});var p=function(){var q=c(a).width()-o.width()-5;var r=c(a).height()-o.height()-5;o.draggable({containment:[5,5,q,r],handle:"div.cp-toolbarcontainer",cursor:"move",create:function(s,t){c("#cp-overlay .cp-toolbarcontainer").css("cursor","move");},start:function(s,t){c("#cp-overlay #cp-content-main .iframe-overlay").show();},stop:function(u,v){c("#cp-overlay #cp-content-main .iframe-overlay").hide();
var t=c(a).width()-o.width()-5;var w=c(a).height()-o.height()-5;o.draggable("option","containment",[5,5,t,w]);e=i.offset();var s=c("#cp-overlay .ui-icon-gripsmall-diagonal-se").position();if(s!=null&&e!=null){if(f.width()<=(s.left+e.left+5)){i.css(v.originalPosition);c("#modalBackdrop").css(k);}if(f.height()+c(b).scrollTop()<=(s.top+e.top+5)){i.css(v.originalPosition);c("#modalBackdrop").css(k);}console.log(e);if(e.top-c(b).scrollTop()<5){i.css(v.originalPosition);c("#modalBackdrop").css(k);}}}});};p();var m=function(){o.draggable("destroy");c("#cp-overlay .cp-toolbarcontainer").css("cursor","default");};var g=function(q){q.preventDefault();i.attr("data-css",JSON.stringify({width:i.width(),height:i.height(),position:i.css("position"),top:i.css("top"),left:i.css("left")}));i.attr("data-windowtop",c(b).scrollTop());i.addClass("fullscreen-mode").css({width:"100%",top:"0px",left:"0px",bottom:"0px",position:"fixed",right:"0px",height:"auto",border:"none",margin:0,padding:0,"z-index":999999});
c("#cp-overlay .cp-modal-fulscr").hide();var r=i.height()-230;if(c("#h5pplayer").size()>0){h5p_maximize(r);}c("#cp-overlay .cp-modal-minscr").show();c(".ui-resizable-handle").toggle();n.setPlayerMode("full-mode");m();e=i.offset();n.showNowPlay(j);n.resizeInnerContent();};c("#cp-overlay .cp-modal-fulscr").unbind();c("#cp-overlay .cp-modal-fulscr").bind("click",g);var l=function(t){t.preventDefault();e=i.offset();i.css(JSON.parse(i.attr("data-css")));i.removeClass("fullscreen-mode");c(b).scrollTop(i.attr("data-windowtop"));c("#cp-overlay .cp-modal-fulscr").show();c("#cp-overlay .cp-modal-minscr").hide();c(".ui-resizable-handle").toggle();n.setPlayerMode("normal-mode");p();n.showNowPlay(j);n.resizeInnerContent();var r=b.parent.$("#cp-content-main").width();var s=b.parent.$("#cp-content-main").height()-15;var q=s-25;if(c("#h5pplayer").size()>0){h5p_minimize(r,s,q);}};c("#cp-overlay .cp-modal-minscr").unbind();c("#cp-overlay .cp-modal-minscr").bind("click",l);var h=(function(){var q=0;return function(s,r){clearTimeout(q);
q=setTimeout(s,r);};})();c(b).resize(function(){h(function(){i.offset(e);},500);});if(a.getElementById("cp-overlay")!==d&&a.getElementById("cp-overlay")!=null){c("#modalBackdrop").css("z-index",c("#cp-overlay").zIndex()-1);}},resizeInnerContent:function(){try{var r=parseInt(c("#cp-toolbarcontainer").height());var n=parseInt(c("#cp-menucontainer").height());var q=parseInt(c("#cp-statusbarcontainer").height());var l;if(c("#cp-menucontainer").attr("alt")=="show"){l=179;}else{l=79;}var j=c("#cp-modalcontainer");if(a.getElementById("cp-frame-container")){c("#cp-overlay #cp-frame-container").height(j.height()-l);c("#cp-overlay #cp-content-navigation").height(j.height()-l);c("#cp-overlay #cp-content-navigation").css("max-height",j.height()-l);c("#cp-overlay #cp-content-navigation").css("overflow","hidden");c("#cp-overlay #cp-content-navigation").jScrollPane();if(c(".cp-content-navigation-control").length>0){var h=(parseInt(c(".cp-content-navigation-control").css("margin-left"))==0)?0:c("#cp-content-navigation-container").width()-18;
c(".cp-content-navigation-control").css("margin-left",h);}var m=b.parent.$("#cp-content-main").height()-15;c("#cp-frame-container").contents().find(".h5p-wrapper").css("height",m);c("#cp-frame-container").contents().find(".h5p-wrapper").css("max-height",m);}else{if(a.getElementById("selSurveyContainer")){var k=j.height()-l;c("#selSurveyContainer").css("height",k+"px");c("#selSurveyContainer").jScrollPane({autoReinitialise:true});c(".SurveyContent .SurveyHLeftContent").addClass("jspScrollable");c(".SurveyContent .SurveyHLeftContent").jScrollPane({});var g=j.width();c(".SurveyHLeftContent").css("width",g+"px");c(".SurveyHLeftContent").jScrollPane({autoReinitialise:true});}else{if(a.getElementById("video-container")){c("#cp-content-main #video-container").height(j.height()-l);c.cookie("vdo_hgt",c("#video-container").height());c.cookie("vdo_wdt",c("#video-container").width());if(vodPlayer!=d){resizeVideoJS(vodPlayer);}}else{c("#cp-overlay #cp-content-main").height(j.height()-l);if(c("#cp-menucontainer").attr("alt")=="show"){var i=b.parent.$("#cp-content-main").width();
var m=b.parent.$("#cp-content-main").height()-15;var f=m-25;if(c("#h5pplayer").size()>0){h5p_minimize(i,m,f);}}else{var p="";p=b.parent.$("#cp-content-main").height()-40;if(c("#h5pplayer").size()>0){h5p_maximize(p);}}}}}c("#cp-menucontainer .cp-menulist li").removeClass("last");}catch(o){}},initiateH5P:function(k){try{if(k.LearnerLaunchURL.indexOf("http")>=0||k.LearnerLaunchURL.indexOf("https")>=0){var g=k.LearnerLaunchURL.split("///");k.LearnerLaunchURL=g[1];}var g=k.LearnerLaunchURL+"&enrollId="+k.enrollId+"&preview=false";var l=c("#cp-content-main").width();var m=c("#cp-content-main").height();var f=k.contentId;var r=k.contentTitle;var j=k.Status;var n=k.courseId;var q=k.classId;var h=k.classTitle;var i=k.MaxAttempt;var p=k.AttemptLeft;c("#cp-content-main").html("<iframe id='h5pplayer' subtype='"+k.subtype+"' contentId='"+f+"' MaxAttempt='"+i+"' AttemptLeft='"+p+"'  contentTitle='"+encodeURIComponent(r)+"' contentStatus='"+j+"' courseId='"+n+"' classId='"+q+"' classTitle='"+encodeURIComponent(h)+"' border='0' frameBorder='0' src='"+g+"' height='100%' style='width:"+l+"px;height:"+m+"px;'> </iframe>");
createLoaderNew("cp-content-main");}catch(o){}},initiateVideoPlayer:function(f,h){try{seekForFirstTime=false;if(videojs!==d&&f.video_session_id!==d){disposeVideoJSPlayer(f.video_session_id);videojs(f.video_session_id,{},function(){vodPlayer=this;if(c("#video-container").length>0){vodPlayer.height(c("#video-container").height());vodPlayer.width(c("#video-container").width());}vodPlayer.on("mouseout",function(){this.controls(false);});vodPlayer.on("mouseover",function(){this.controls(true);});if(f.play_from!==d){vodPlayer.currentTime(f.play_from);vodPlayer.play();seekForFirstTime=true;}vodPlayer.on("loadedmetadata",function(){if(seekForFirstTime&&f.play_from>this.currentTime()){this.currentTime(f.play_from);seekForFirstTime=false;}});vodPlayer.on("durationchange",function(){this.controlBar.progressControl.seekBar.loadProgressBar.update();});c("#loaderdivmodal-content").remove();updateStatusToDB=setInterval(function(){updateVideoProgressToDB(h);},Drupal.settings.content,vodPlayer);ajaxInterval=vodPlayer.setInterval(function(){updateVideoProgress(vodPlayer);
},1000,vodPlayer);var e=(f.update_frequency!==d?(f.update_frequency*1000):10000);saveInterval=setInterval(function(){saveVideoProgress(vodPlayer,false);},e,vodPlayer);vodPlayer.on("ended",function(){vodPlayer=this;if(vodPlayer.techName_=="Youtube"){vodPlayer.pause();vodPlayer.play();}var i=100;videoTrackerProgress={session_id:f.video_session_id,current_position:this.currentTime(),progress:i,video_duration:this.duration(),additional_data:{video_session_id:f.video_session_id}};saveVideoProgress(vodPlayer,true);updateVideoProgressToDB(h);clearInterval(updateStatusToDB);clearInterval(saveInterval);clearInterval(ajaxInterval);});});}}catch(g){}},_generatePlayerContentMenu:function(i,h){try{var k=this;var m="$('#"+k.options.LaunchFrom+"').data('contentPlayer')";var l="";var g=k.defaultContent[0];var f=k.options.contentList[g];l+='<ul id="cp-content-menulist">';c.each(f,function(o,r){if(typeof r=="object"&&r!=null){var t=f[o]["LessonId"];var n=f[o]["play_status"];var q={masterEnrollId:k.setValue(i.master_enroll_id,0),enrollId:k.setValue(i.enrollId),contentType:f[o]["contentType"],contentTitle:f[o]["contentTitle"],contentId:f[o]["contentId"],cType:f[o]["cType"],LessonId:f[o]["LessonId"],VersionId:k.setValue(f[o]["VersionId"],""),url1:k.setValue(f[o]["LearnerLaunchURL"],""),courseId:k.setValue(i.courseId,0),classId:k.setValue(i.classId,0),url2:k.setValue(f[o]["PresenterLaunchURL"],""),ErrMsg:"",Status:k.setValue(f[o]["Status"],""),LessonLocation:k.setValue(f[o]["LessonLocation"],""),launch_data:k.setValue(f[o]["LaunchData"],""),suspend_data:k.setValue(f[o]["SuspendData"],""),exit:k.setValue(f[o]["CmiExit"],""),AICC_SID:k.setValue(f[o]["AICC_SID"],""),MasteryScore:k.setValue(f[o]["masteryscore"],""),remDays:f[o]["remDays"],ValidityDays:f[o]["ValidityDays"],no_of_attempts:f[o]["no_of_attempts"],AttemptLeft:f[o]["AttemptLeft"],attempts:f[o]["attempts"],MaxAttempt:f[o]["MaxAttempt"],surveycount:f[o]["surveycount"],is_post_ass_launch:f[o]["is_post_ass_launch"],playStatus:f[o]["play_status"],defaultContent:g+"-"+o,is_multi_lesson:1,LaunchFrom:i.LaunchFrom};
q=objectToString(q);l+="<li>";l+='	<div class="cp-content-menu-details">';if(n==true){l+='		<a id="selsubconetentmenulink-'+f[o]["cType"]+"-"+t+'" href="javascript:void(0);" onclick="'+m+".changePlayerContent("+q+');">'+decodeURIComponent(unescape(r.contentTitle))+"	</a>";}else{l+='		<a id="selsubconetentmenulink-'+f[o]["cType"]+"-"+t+'" href="javascript:void(0);" onclick="'+m+".changePlayerContent("+q+');">'+decodeURIComponent(unescape(r.contentTitle))+"	</a>";}l+='		<div class="sub-content-play-status current-status-disable" id="now-play-subcontentId-'+t+'" style="display:none"><span>'+Drupal.t("Now")+"</span><span> "+Drupal.t("Playing")+"</span></div>";l+="	</div>";if(f[o]["contentType"]=="pre-assessment"||f[o]["contentType"]=="survey"||f[o]["contentType"]=="post-assessment"){var e=f[o]["surveyid"];var s=f[o]["LessonId"];var p="survey_assessment";}else{var e=f[o]["contentId"];var s=f[o]["LessonId"];var p="content";}k.progressbarLine(i.enrollId,f[o]["content_completion"],e,"launch",p,s,1);
l+='<div id="cp-menu-progress_'+i.enrollId+"_"+e+"_"+s+"_"+p+'" class="cp-menu-progress">';l+="</div>";l+="</li>";}});l+="</ul>";if(h==1){c("#cp-content-navigation-container").html(l);}else{return l;}}catch(j){}},_refreshContentPlayer:function(){try{this._generatePlayerMenu();this._generatePlayerContent();}catch(f){}},playContent:function(f){try{c("div").remove("#cp-overlay");var h=this;h._generateOverlayContent();h.showModal();h.getPlayList(f);setTimeout(function(){if(f.defaultContent==""){f.defaultContent=h.classDetails.defaultLaunchContent+"";}f.defaultContent=(f.defaultContent!=""||f.defaultContent!=null)?f.defaultContent:0;if(h.classDetails.lp_have_only_post_ass_cont!=d){f.lp_have_only_post_ass_cont=h.classDetails.lp_have_only_post_ass_cont;}if(h.classDetails.cl_ilt_have_only_post_ass_cont!=d){f.cl_ilt_have_only_post_ass_cont=h.classDetails.cl_ilt_have_only_post_ass_cont;}h.getPlayerContent(f);},2000);}catch(g){}},playContentMylearning:function(h){try{var j=this;if(h.pagefrom=="lp_class_seemore"){this.createLoader("enroll-lp-result-container");
c("#subgrid-class_menu_detail_"+h.enrollId).css("display","table-row");c("#lp_class_seemore_"+h.enrollId).css("display","none");c("#lp-cl-"+h.enrollId+" #classShortDesc_"+h.enrollId).find("#arrow-more").click();c("#lp-cl-"+h.enrollId+" #classShortDesc_"+h.enrollId).find("#arrow-less").css("display","none");if(a.getElementById("cp-menulist-seemore-"+h.enrollId)||a.getElementById("sel-cp-menulist-nomenu-"+h.enrollId)){c("#paindContentResults_"+h.enrollId).css("display","block");this.destroyLoader("enroll-lp-result-container");}else{j.getPlayList(h);}c(".lp_class_seeless").each(function(){var e=c(this).attr("id").split("_");if(a.getElementById("cp-menulist-seemore-"+h.enrollId)){c("#lp_class_seemore_"+e[1]).css("display","none");}});if(a.getElementById(h.enrollId+"SubGrid")){setTimeout(function(){c("#"+h.enrollId+"SubGrid").show(300);},100);}else{setTimeout(function(){c("#lp-class-accodion-"+h.enrollId).click();},200);}c("#lp_class_seeless_"+h.enrollId).css("display","block");c("#lp_class_seemore_"+h.enrollId).css("display","none");
h.defaultContent=(h.defaultContent!=""||h.defaultContent!=null)?h.defaultContent:0;}else{if(h.pagefrom=="lp_seemore"){var g=h.containerId;this.createLoader("enroll-lp-result-container");c("#lp_seemore_"+g).css("display","none");c("#"+g+" #LPShortDesc_"+g).find("#arrow-more").click();c("#"+g+" #LPShortDesc_"+g).find("#arrow-less").css("display","none");if(a.getElementById("cp-menulist-seemore-"+g)||a.getElementById("sel-cp-menulist-nomenu-"+g)){c("#paindLPContentResults_"+g).css("display","block");}else{j.getPlayList(h);}c(".lp_cp_seeless").each(function(){var e=c(this).attr("id").split("_");if(a.getElementById("cp-menulist-seemore-"+g)){c("#lp_seemore_"+e[1]).css("display","none");}});if(a.getElementById(g+"SubGrid")){setTimeout(function(){c("#"+g+"SubGrid").show(300);},100);this.destroyLoader("enroll-lp-result-container");}else{setTimeout(function(){c("#prg-accodion-"+g).click();},100);}c("#lp_seeless_tr_"+g).css("display","table-row");h.defaultContent=(h.defaultContent!=""||h.defaultContent!=null)?h.defaultContent:0;
}else{if(h.pagefrom=="class_details"){c(".class-content-wrapper").show();c(".content-details-warpper").show();var f=c("#paindContentclsid_"+h.classId).attr("alt");h.enrollId=(h.enrollId=="")?f:h.enrollId;if(f!=h.enrollId){h.enrollId=f;}j.getPlayList(h);}else{if(h.pagefrom=="course_class_list"||h.pagefrom=="lrnplan_course_class_list"){c("#class_content_moredetail_"+h.classId+" .class-content-wrapper").show();c("#class_content_moredetail_"+h.classId+" .content-details-warpper").show();var f=c("#paindContentclsid_"+h.classId).attr("alt");h.enrollId=(h.enrollId=="")?f:h.enrollId;if(f!=h.enrollId){h.enrollId=f;}j.getPlayList(h);}else{this.createLoader("enroll_details_"+h.enrollId);c(".clsDetailsDiv").css("display","none");c("#seemore_"+h.enrollId).css("display","none");c("#"+h.enrollId+" #classShortDesc_"+h.enrollId).find("#arrow-more").click();c("#"+h.enrollId+" #classShortDesc_"+h.enrollId).find("#arrow-less").css("display","none");if(a.getElementById("cp-menulist-seemore-"+h.enrollId)||a.getElementById("sel-cp-menulist-nomenu-"+h.enrollId)){c("#paindContentResults_"+h.enrollId).css("display","block");
j.destroyLoader("enroll_details_"+h.enrollId);j.aftercompletetrunk8();}else{j.getPlayList(h);}if(a.getElementById(h.enrollId+"SubGrid")){c("#"+h.enrollId+"SubGrid").show();}else{c("#class-accodion-"+h.enrollId).click();}c("#seeless_"+h.enrollId).css("display","block");c("#seemore_"+h.enrollId).css("display","none");h.defaultContent=(h.defaultContent!=""||h.defaultContent!=null)?h.defaultContent:0;}}}}if(h.pagefrom=="seemore"){resetFadeOutForAttributes("#"+h.enrollId+"SubGrid","main-item-container","line-item-container","container","myenrollment");}}catch(i){}vtip();},destroy:function(){},closeModal:function(){try{var h=this;var f=h.lastPlayedObject;if(f.LaunchType=="VOD"){saveInterval=(typeof saveInterval=="undefined"?null:saveInterval);ajaxInterval=(typeof ajaxInterval=="undefined"?null:ajaxInterval);updateStatusToDB=(typeof updateStatusToDB=="undefined"?null:updateStatusToDB);clearInterval(updateStatusToDB);clearInterval(saveInterval);clearInterval(ajaxInterval);}if(h.defaultContent=="notset"||h.classDetails.cls_comp_status=="lrn_crs_cmp_inc"||f.access_denied_flag==1){if(h.classDetails.cls_comp_status=="lrn_crs_cmp_inc"||f.access_denied_flag==1){if(a.getElementById("learningplan-tab-inner")){if(typeof c("body").data("learningcore")=="undefined"||c("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentLPResults")==false){c("#paintEnrollmentLPResults").trigger("reloadGrid");
}}if(a.getElementById("learner-enrollment-tab-inner")){c("#paintEnrollmentResults").setGridParam({postData:{enrId:h.lastPlayedObject.enrollId}});if(typeof c("body").data("learningcore")=="undefined"||c("body").data("learningcore").refreshLastAccessedLearningRow("#paintEnrollmentResults")==false){c("#paintEnrollmentResults").trigger("reloadGrid");}}if(a.getElementById("lnr-catalog-search")){if(a.getElementById("paintContentResults")){if(typeof c("#lnr-catalog-search").data("lnrcatalogsearch")=="undefined"||c("#lnr-catalog-search").data("lnrcatalogsearch").refreshLastAccessedCatalogRow()==false){c("#paintContentResults").trigger("reloadGrid");}}else{if(a.getElementById("tbl-paintCatalogContentResults")){c("#tbl-paintCatalogContentResults").trigger("reloadGrid");}else{location.reload();}}}}c("#cp-overlay-parent").css("display","none");c("#cp-overlay").css("display","none");c("#cp-modal").css("display","none");}else{c("#cp-overlay-parent").css("display","none");c("#cp-overlay").css("display","none");
c("#cp-modal").css("display","none");if(typeof f=="object"&&f!=null){contentPlayer.closed=true;data={closed:true,access_denied_flag:f.access_denied_flag};h.updatePlayedStatus(data);}if(c("#cp-modal").hasClass("fullscreen-mode")){c("#cp-modal").removeClass("fullscreen-mode");c("#cp-modal").css(JSON.parse(c("#cp-modal").attr("data-css")));}c("#cp-overlay .cp-modal-fulscr").show();c("#cp-overlay .cp-modal-minscr").hide();c("#cp-modalcontainer").removeAttr("data-windowtop");c("#cp-modalcontainer").removeAttr("data-css");c("#cp-modalcontainer").removeAttr("style");c.cookie("vdo_hgt",null,{path:"/"});c.cookie("vdo_wdt",null,{path:"/"});}c("#cp-menu-launcher").die("click");c(".cp-modal-close").die("click");c("#selSurveyContainer").html("");}catch(g){}},launchsurvey:function(k){try{var j=this;var h=k.enrollId;var n=k.userId;var p=k.classId;var m=k.courseId;var q=k.masterEnrollId;var g=k.classTitle;var l=k.programId;var i={};if(k.masterEnrollId>0){var f=this.constructUrl("ajax/content-player/program_survey_list/"+q+"/"+n+"/"+l);
}else{var f=this.constructUrl("ajax/content-player/survey_list/"+h+"/"+n+"/"+p);}c.ajax({type:"POST",url:f,data:i,success:function(r){var e=r.defaultcontent.toString();if(k.masterEnrollId>0){c("#learner-enrollment-tab-inner").data("contentPlayer").playContent({masterEnrollId:k.masterEnrollId,enrollId:"0",programId:r.programId,isMultiLesson:"0",contentType:"survey",cType:"survey",contentId:r.contentid,LessonId:"",VersionId:"",url1:"",courseId:m,classId:p,url2:"",ErrMsg:"",Status:"",LessonLocation:"",launch_data:"",suspend_data:"",exit:"",AICC_SID:"",MasteryScore:"",remDays:"undefined",ValidityDays:"undefined",no_of_attempts:"null",AttemptLeft:"undefined",attempts:"null",MaxAttempt:"undefined",surveycount:"0",is_post_ass_launch:"undefined",playStatus:"true",defaultContent:e,pagefrom:"",LaunchFrom:"ME"});}else{c("#learner-enrollment-tab-inner").data("contentPlayer").playContent({masterEnrollId:"0",enrollId:h,programId:"0",isMultiLesson:"0",contentType:"survey",cType:"survey",contentId:r.contentid,LessonId:"",VersionId:"",url1:"",courseId:m,classId:p,url2:"",ErrMsg:"",Status:"",LessonLocation:"",launch_data:"",suspend_data:"",exit:"",AICC_SID:"",MasteryScore:"",remDays:"undefined",ValidityDays:"undefined",no_of_attempts:"null",AttemptLeft:"undefined",attempts:"null",MaxAttempt:"undefined",surveycount:"0",is_post_ass_launch:"undefined",playStatus:"true",defaultContent:e,pagefrom:"",LaunchFrom:"ME"});
}}});}catch(o){}},showModal:function(){try{c("#cp-overlay-parent").css("display","block");c("#cp-overlay").css("display","block");c("#cp-modal").css("display","block");var g=b.innerWidth;var f=c("#cp-modal").width();var h=Math.round((g-f)/2);c("#cp-modal").css({display:"block",left:h+"px"});c("#cp-menucontainer").css("display","block");c("#cp-content-main").html("");}catch(i){}},showMenu:function(){try{var i=this;var g=c("#cp-menucontainer");var f=c("#cp-menu-launcher");if(g.attr("alt")=="show"){g.attr("alt","hide");}else{g.attr("alt","show");}if(g.css("display")=="none"){g.toggle("fast","swing",i.resizeInnerContent());f.css({top:"140px",left:"47%"});c("#cp-menu-launcher-icon").removeClass("cp-menu-launcher-pop");}else{g.toggle("fast","swing",i.resizeInnerContent());f.css({top:"40px",left:"47%"});c("#cp-menu-launcher-icon").addClass("cp-menu-launcher-pop");}}catch(h){}},showContentNavMenu:function(){try{if(c("#cp-content-navigation").css("display")=="none"){var f=c("#cp-content-navigation").width()-18;
c(".cp-content-navigation-control").css("margin-left",f+"px").html("<").removeClass("exp-arrow");c("#cp-content-navigation").show();c("#cp-content-main").width("80%");}else{c(".cp-content-navigation-control").css("margin-left","0").html(">").addClass("exp-arrow");c("#cp-content-navigation").hide();c("#cp-content-main").width("100%");}}catch(g){}},setLastContentSeparator:function(g,f){try{var i=Math.abs(parseInt(c(g).css("left")));var k=Math.abs(parseInt(c(g+" li div.cp-menuitem").css("width")));c(g+" li").removeClass("last");var h=0;if(i==0){h=0;}else{h=i/k;}lastItem=Math.round(h+f);c(g+" li::nth-child("+lastItem+")").addClass("last");}catch(j){}},attachMenuCarousel:function(i,m,g){try{var k=this;var h=4;var l=i;if(m=="class_details"){var h=3;}if(m=="course_class_list"||m=="lrnplan_course_class_list"){var h=2;}if(m=="seemore"||m=="lp_seemore"||m=="lp_class_seemore"||m=="class_details"||m=="course_class_list"||m=="lrnplan_course_class_list"){if(m=="lp_seemore"){var f=c("#paindLPContentResults_"+g).jcarouselcp({scroll:h,itemLoadCallback:function(n,e){if(parseInt(l)<parseInt(h)){n.last=parseInt(l);
}k.setLastContentSeparator("#paindLPContentResults_"+g+" .cp-menulist",h);}});}else{var f=c("#paindContentResults_"+g).jcarouselcp({scroll:h,itemLoadCallback:function(n,e){if(parseInt(l)<parseInt(h)){n.last=parseInt(l);}if(m=="lp_class_seemore"){k.setLastContentSeparator("#paindContentResults_"+g+" .cp-menulist",h);}else{k.setLastContentSeparator("#paindContentResults_"+g+" .cp-menulist",h);}}});}if(m=="class_details"||m=="course_class_list"||m=="lrnplan_course_class_list"){c(".paindContentResults .jcarousel-prev-horizontal").show();c(".paindContentResults .jcarousel-next-horizontal").show();}if(m=="seemore"){c("#enroll-result-container .jcarousel-prev-horizontal").show();c("#enroll-result-container .jcarousel-next-horizontal").show();}else{if(m=="lp_seemore"){c("#enroll-lp-result-container .jcarousel-prev-horizontal").show();c("#enroll-lp-result-container .jcarousel-next-horizontal").show();}else{if(m=="lp_class_seemore"){c("#enroll-lp-result-container .jcarousel-prev-horizontal").show();
c("#enroll-lp-result-container .jcarousel-next-horizontal").show();}}}}else{var f=c("#cp-menucontainer").jcarouselcp({itemLoadCallback:function(o,n){if(parseInt(l)<parseInt(h)){o.last=parseInt(l);}var e=k.options.playerMode;if(e=="normal-mode"){k.setLastContentSeparator("#cp-menucontainer .cp-menulist",h);}else{c("#cp-menucontainer .cp-menulist li").removeClass("last");}}});c("#cp-menucontainer .jcarousel-prev-horizontal").show();c("#cp-menucontainer .jcarousel-next-horizontal").show();}}catch(j){}},showCarouselNavigation:function(){try{}catch(f){}},showFullScreen:function(f){try{c("#cp-contentcontainer").fullScreen({callback:function(){this.removeClass("fullscreen");}});setTimeout(function(){c("#cp-frame-container").css("position","fixed");},500);}catch(g){}},setValue:function(f,e){var e=(e!=""||e!=d)?e:0;return(f!=d&&f!="")?f:e;},seelesscontent:function(f){try{c("#paindContentResults_"+f).hide(300);c("#"+f+"SubGrid").hide(300);c("#"+f+" #classShortDesc_"+f).find("#arrow-less").click();
c("#seeless_"+f).css("display","none");c("#seemore_"+f).css("display","block");}catch(g){}},seelessLPContent:function(f){try{c("#paindLPContentResults_"+f).hide(300);c("#"+f+"SubGrid").hide(300);c("#"+f+" #LPShortDesc_"+f).find("#arrow-less").click();c("#lp_seeless_tr_"+f).css("display","none");c("#lp_seemore_"+f).css("display","block");}catch(g){}},lpclassseelesscontent:function(f){try{c("#compLpDetails"+f).hide();c("#paindContentResults_"+f).hide();c("#"+f+"ClassSubGrid").hide();c("#lp-cl-"+f+" #classShortDesc_"+f).find("#arrow-less").click();c("#lp_class_seeless_"+f).css("display","none");c("#subgrid-class_menu_detail_"+f).css("display","none");c("#lp_class_seemore_"+f).css("display","block");}catch(g){}},_setOption:function(e,f){switch(e){case"color":break;default:this.options[e]=f;break;}},progressbarLine:function(h,m,o,g,k,n,i){try{var l="-17px";if(g=="seemore"||g=="class_details"||g=="course_class_list"||g=="lrnplan_course_class_list"||g=="lp_class_seemore"){var f="#paindContentResults_"+h;
}else{if(g=="lp_seemore"){var f="#paindLPContentResults_"+h;}else{if(i==1&&g=="launch"){var f="#cp-contentcontainer";}else{var f="#cp-menucontainer";}}}if(i==1){var n=n+"_";}else{var n="";}setTimeout(function(){var e=f+" #cp-menu-progress_"+h+"_"+o+"_"+n+k;if(!c(e).hasClass("cp-prg-done")){if(typeof this.bar=="undefined"||typeof this.bar[e]=="undefined"){var p=new ProgressBar.Line(e,{strokeWidth:5,easing:"easeInOut",duration:1400,color:"#86D752",trailColor:"#DDDDDD",trailWidth:5,svgStyle:{width:"100%",height:"100%"},text:{style:{color:"#ffffff",position:"relative",textAlign:"center",right:"0",top:l,padding:0,margin:0,transform:null,width:"100%"},autoStyleContainer:false},from:{color:"#FFEA82"},to:{color:"#ED6A5A"},step:function(s,q){var r=Math.round(m*100);q.setText(r+" %");}});if(typeof this.bar=="undefined"){this.bar=[];}this.bar[e]=p;p.text.style.fontFamily='Ariel,,"Raleway", Helvetica, sans-serif';p.text.style.fontSize="0.7rem";p.animate(m);}else{this.bar[e].destroy();var p=new ProgressBar.Line(e,{strokeWidth:5,easing:"easeInOut",duration:1400,color:"#86D752",trailColor:"#DDDDDD",trailWidth:5,svgStyle:{width:"100%",height:"100%"},text:{style:{color:"#ffffff",position:"relative",textAlign:"center",right:"0",top:l,padding:0,margin:0,transform:null,width:"100%"},autoStyleContainer:false},from:{color:"#FFEA82"},to:{color:"#ED6A5A"},step:function(s,q){var r=Math.round(m*100);
q.setText(r+" %");}});this.bar[e]=p;p.text.style.fontFamily='Ariel,,"Raleway", Helvetica, sans-serif';p.text.style.fontSize="0.7rem";p.animate(m);}}},100);}catch(j){}},refreshContentProgressBarLine:function(e,g){if(g.contentCode=="sry_det_typ_ass"||g.contentCode=="sry_det_typ_sry"||g.contentType=="pre-assessment"||g.contentType=="survey"||g.contentType=="post-assessment"){var f="survey_assessment";}else{var f="content";}if(g.tot_progress>0){if(g.content_id!=d&&g.RegId!=d){e.progressbarLine(g.RegId,g.tot_progress,g.content_id,"",f);e.progressbarLine(g.RegId,g.progress,g.content_id,"launch",f,g.LessonId,1);}}else{if(g.launchFrom=="TP"){if(g.content_id!=d&&g.RegId!=d){e.progressbarLine("prg_"+g.MasterId,g.progress,g.content_id,"",f);}}else{if(g.content_id!=d&&g.RegId!=d){e.progressbarLine(g.RegId,g.progress,g.content_id,"",f);}}}},getSurveyResult:function(g,f){try{}catch(h){}}});c.extend(c.ui.contentPlayer.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);
})(jQuery,window,document);var updateStatusToDB;if(document.addEventListener){document.addEventListener("webkitfullscreenchange",exitHandler,false);document.addEventListener("mozfullscreenchange",exitHandler,false);document.addEventListener("fullscreenchange",exitHandler,false);document.addEventListener("MSFullscreenChange",exitHandler,false);}function exitHandler(){if(document.webkitIsFullScreen==false||document.mozFullScreen==false||document.msFullscreenElement==false){$("#cp-frame-container").css("position","relative");}else{$("#cp-frame-container").css("position","fixed");}}function resizeVideoJS(d){var e=vodPlayer.id();var c=16/9;var b=$("#video-container").width();var a=$("#video-container").height();d.width(b).height(a);}$(function(){try{if(document.getElementById("learner-enrollment-tab-inner")){$("#learner-enrollment-tab-inner").contentPlayer();}if(document.getElementById("learningplan-tab-inner")){$("#learningplan-tab-inner").contentPlayer();}if(document.getElementById("lnr-catalog-search")){$("#lnr-catalog-search").contentPlayer();
}$("body").click(function(b){if(!$(b.target).closest(".clsConentValidtiy").length&&!$(b.target).closest(".clsShowContentValidty").length){$(".clsConentValidtiy").hide();}});}catch(a){}});function objectToString(a){var c="";c+="{";for(var b in a){if(a.hasOwnProperty(b)){c+="'"+b+"':'"+a[b]+"',";}}c+="}";return c;}function showLblMsg(a){$("#cp-contentcontainer #cp-content-main").html('<span class="msg-content"><b>'+Drupal.t("MSG796")+"</b></span>");}function keyBindForMaximize(a){if(a.keyCode==27){alert(1111);$("#cp-frame-container").css("position","relative");}}function log(a){console.log(a);}function createLoaderNew(c){var a=480;var b=300;$("#"+c).prepend("<div id='loader' class='loadercontent' style='z-index:10007;height:480px;width:100%;margin-top:-125px;'></div>");$("#loader").html('<table border="0" style="width: 100%; height: 100%;"><tr><td width="40%" height="'+a+'px">&nbsp;</td><td align="center" height="100%" valign="middle"><div class="loaderimg"><span class="ui-accordion-header"></span></div></td><td width="40%" height="'+a+'px">&nbsp;</td></tr></table>');
}function h5p_maximize(a){$("#h5pplayer").css("width",$("#cp-content-main").width());$("#h5pplayer").css("height",a);$("#h5pplayer").css("width","100%");$("#h5pplayer").css("max-width","100%");$("#h5pplayer").contents().find(".Fullsc").css("width","100%");$("#h5pplayer").contents().find(".Fullsc").css("max-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".Fullsc").css("max-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".Fullsc").parent().css("max-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".Fullsc").parent().css("min-width",$("#cp-content-main").width());$("#h5pplayer").css("height","100%");$("#h5pplayer").css("max-height","100%");$("#h5pplayer").contents().find(".Fullsc").css("max-height",a);$("#h5pplayer").contents().find(".Fullsc").css("min-height",a);$("#h5pplayer").contents().find(".Fullsc").parent().css("max-height",a);$("#h5pplayer").contents().find(".Fullsc").parent().css("min-height",a);$("#h5pplayer").contents().find(".FullscYoutube").css("width","100%");
$("#h5pplayer").contents().find(".FullscYoutube").css("max-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".FullscYoutube").css("max-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".FullscYoutube").parent().css("max-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".FullscYoutube").parent().css("min-width",$("#cp-content-main").width());$("#h5pplayer").contents().find(".FullscYoutube").css("max-height",a);$("#h5pplayer").contents().find(".FullscYoutube").css("min-height",a);$("#h5pplayer").contents().find(".FullscYoutube").parent().css("max-height",a);$("#h5pplayer").contents().find(".FullscYoutube").parent().css("min-height",a);if($("#h5pplayer").attr("subtype")=="h5p-Vimeo"){$("#h5pplayer").contents().find("#my_video_2").attr("style","height:180%;width:100%;left:0;position:absolute;top:-40%");}}function h5p_minimize(b,c,a){$("#h5pplayer").contents().find(".Fullsc").css("max-width",b);$("#h5pplayer").contents().find(".Fullsc").css("max-width",b);
$("#h5pplayer").contents().find(".Fullsc").parent().css("max-width",b);$("#h5pplayer").contents().find(".Fullsc").parent().css("min-width",b);$("#h5pplayer").contents().find(".Fullsc").css("max-height",c);$("#h5pplayer").contents().find(".Fullsc").css("min-height",c);$("#h5pplayer").contents().find(".Fullsc").parent().css("max-height",a);$("#h5pplayer").contents().find(".Fullsc").parent().css("min-height",a);$("#h5pplayer").contents().find(".FullscYoutube").css("max-width",b);$("#h5pplayer").contents().find(".FullscYoutube").css("max-width",b);$("#h5pplayer").contents().find(".FullscYoutube").parent().css("max-width",b);$("#h5pplayer").contents().find(".FullscYoutube").parent().css("min-width",b);$("#h5pplayer").contents().find(".FullscYoutube").css("max-height",c);$("#h5pplayer").contents().find(".FullscYoutube").css("min-height",c);$("#h5pplayer").contents().find(".FullscYoutube").parent().css("max-height",a);$("#h5pplayer").contents().find(".FullscYoutube").parent().css("min-height",a);
if($("#h5pplayer").attr("subtype")=="h5p-Vimeo"){$("#h5pplayer").contents().find("#my_video_2").attr("style","height:180%;width:100%;left:0;position:absolute;top:-40%");}}function updateVideoProgressToDB(c){if($("#video-container").length){var h=c.lastPlayedObject;var k=h.LaunchFrom;var e=h.courseId;var g=h.classId;var j=h.LessonId;var a=h.VersionId;var b=h.enrollId;var f="";var d="";var i={launchflag:1,data:undefined};$("#"+c.options.LaunchFrom).data("contentLaunch").updateVODScoreOnCtoolsModalClose(k,e,g,j,a,b,f,d,i);}}function GetLabelsForContentType(b){try{switch(b){case"Knowledge Content":case"SCORM 1.2":case"SCORM 2004":case"Tin Can":case"AICC":label=Drupal.t(b);break;case"Video on Demand":label=Drupal.t("Video");break;case"survey":label=Drupal.t("Survey");break;case"pre-assessment":label=Drupal.t("LBL1253")+" "+Drupal.t("Assessment");if(Drupal.settings.user.language=="es"){label=Drupal.t("LBL1253");}break;case"post-assessment":label=Drupal.t("LBL871")+" "+Drupal.t("Assessment");if(Drupal.settings.user.language=="es"){label=Drupal.t("LBL871");
}break;default:label=Drupal.t(b);}return label;}catch(a){}}function RedirectForLoadDeniedContent(a){try{$("#"+a.LaunchFromTab).data("contentLaunch").launchWBTContent(a);}catch(b){console.log(b);}}function playertimeoutcall(b,a){setTimeout(function(){if(a.defaultContent==""){a.defaultContent=b.classDetails.defaultLaunchContent+"";}a.defaultContent=(a.defaultContent!=""||a.defaultContent!=null)?a.defaultContent:0;if(b.classDetails.lp_have_only_post_ass_cont!=undefined){a.lp_have_only_post_ass_cont=b.classDetails.lp_have_only_post_ass_cont;}if(b.classDetails.cl_ilt_have_only_post_ass_cont!=undefined){a.cl_ilt_have_only_post_ass_cont=b.classDetails.cl_ilt_have_only_post_ass_cont;}b.getPlayerContent(a);},1000);}