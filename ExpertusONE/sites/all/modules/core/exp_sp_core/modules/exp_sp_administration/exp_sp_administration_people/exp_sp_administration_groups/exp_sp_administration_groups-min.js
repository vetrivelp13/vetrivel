(function(a){a.widget("ui.peoplegroup",{getUsersearch:function(){try{var b=a("#search_all_user_type-hidden").val();a("#hiddengptype").val(b);}catch(c){}},moreRoleHideShow:function(){try{a(".more-drop-down").slideToggle();a(".more-drop-down li:last").css("border-bottom","0px none");}catch(b){}},callMultiSelect:function(l,d){var c=a("#attr_open").val();this.currTheme=Drupal.settings.ajaxPageState.theme;a("#avil_"+c).css("display","none");a("#avil_"+l).css("display","block");a("#attr_open").val(l);a("#avil_"+c).prev().find("span:last").removeClass("down-tip-arrow").addClass("right-tip-arrow");a("#avil_"+l).prev().find("span:last").removeClass("right-tip-arrow").addClass("down-tip-arrow");d=(d==null||d==undefined||d=="")?0:d;var b=this.constructUrl("administration/people/groups/attributs/"+l+"/"+d);var h=this.constructUrl("administration/people/groups/attributs/autocomplete//"+l);$msobj=a("#root-admin").data("peoplegroup");if(a("#avil_"+l).html()!=""){if(l=="ste_con_ste"){b+="&country="+encodeURIComponent(a("#atr_ste_con_cnt").val());
h+="&country="+encodeURIComponent(a("#atr_ste_con_cnt").val());var e=a("#avil_ste_con_ste").data("expmultiselect");e.options.url=b;e.options.searchfilter.url=h;e.recs=1;e.page=1;e.reqcnt=0;e.autocompleteInit();e._constructajaxcall();var k=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("min-height",k+"px");a("#atr-sel-pane").css("min-height",k+"px");$msobj.callScrollBar();return true;}else{var k=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("min-height",k+"px");a("#atr-sel-pane").css("min-height",k+"px");$msobj.callScrollBar();return true;}}if(l=="ste_con_ste"&&a("#atr_ste_con_cnt").val()==""){var k=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("min-height",k+"px");a("#atr-sel-pane").css("min-height",k+"px");var i=new Array();i[0]=Drupal.t("LBL674")+" "+Drupal.t("LBL039");var f=expertus_error_message(i,"error");a("#show_expertus_message").show();
a("#show_expertus_message").html(f);return false;}else{if(l=="ste_con_ste"&&a("#atr_ste_con_cnt").val()!=""){b+="&country="+encodeURIComponent(a("#atr_ste_con_cnt").val());h+="&country="+encodeURIComponent(a("#atr_ste_con_cnt").val());}}var g;if(l!="ste_con_rol"&&l!="ste_con_hdt"){g={url:b,dataType:"json",searchfilter:{url:h,enable:true},rownum:20,width:200,height:225,checkAll:true,uncheckAll:true,onselect:this.onselectfn,onunselect:this.onunselectfn,onselectAll:this.selectAllFn,onunselectAll:this.unselectAllFn,afterload:function(){var m=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("min-height",m+"px");a("#atr-sel-pane").css("min-height",m+"px");},helpText:{autocomplete:Drupal.t("Search for refine"),checkAll:Drupal.t("Select All"),uncheckAll:Drupal.t("Unselect All")},widget:this};}else{g={url:b,dataType:"json",searchfilter:{url:h,enable:false},rownum:20,width:200,height:75,checkAll:false,uncheckAll:false,onselect:this.onselectfn,onunselect:this.onunselectfn,onselectAll:this.selectAllFn,onunselectAll:this.unselectAllFn,afterload:function(){var m=a(".attr-select-pane").css("height","auto").height();
a("#attr-separator, .No-attr-sel, .attr-pane").css("min-height",m+"px");a("#atr-sel-pane").css("min-height",m+"px");},widget:this};}if(this.currTheme=="expertusoneV2"){a("#avil_"+l).expMultiSelectExtend(g);}else{a("#avil_"+l).expmultiselect(g);}},onselectfn:function(h,g,k){var d=a(h).attr("id").replace("avil_","");if(a("#atr_"+d).val()=="All"){k.headerShowHide(d,"sel");a("#avil_"+d).prev().find("span:first").removeClass("empty-group").addClass("list-group");return true;}var f=new Array(),e="";var c=a("#sel_"+d).html();if(d=="ste_con_hdt"){a("#avil_"+d).prev().find("span:first").removeClass("empty-group").addClass("list-group");if(a("#hidden_hire_start_ste_con_hdt_ltn").val()!=""){f.push('<span class="item-short-desc">'+Drupal.t("LBL1138")+" "+a("#hidden_hire_start_ste_con_hdt_ltn").val()+"</span>");}if(a("#hidden_hire_start_ste_con_hdt_gtn").val()!=""){f.push('<span class="item-short-desc">'+Drupal.t("LBL1136")+" "+a("#hidden_hire_start_ste_con_hdt_gtn").val()+"</span>");}if(a("#hidden_hire_start_ste_con_hdt_btw").val()!=""){f.push('<span class="item-short-desc">'+Drupal.t("LBL1144")+" "+a("#hidden_hire_start_ste_con_hdt_btw").val()+" "+Drupal.t("LBL647").toLowerCase()+" "+a("#hire_end").val()+"</span>");
}}else{if(c!=""){f=c.split(", ");}else{a("#avil_"+d).prev().find("span:first").removeClass("empty-group").addClass("list-group");}f.push(g.title);}f=k.doSort(f);k.headerShowHide(d,"sel");if(d=="ste_con_hdt"){a("#sel_"+d).html(f.join(""));a("#show_sel_"+d).html(a("#sel_"+d).html());}else{a("#sel_"+d).html(f.join(", "));a("#show_sel_"+d).html(descController("",a("#sel_"+d).html(),100));}k.setMoreIconClick(a("#sel_"+d));e=a("#atr_"+d).val();if(d=="ste_con_hdt"){if((a("#hidden_hire_start_"+g.value).val()!=""&&(g.value=="ste_con_hdt_gtn"||g.value=="ste_con_hdt_ltn"))||(g.value=="ste_con_hdt_btw"&&a("#hidden_hire_start_"+g.value).val()!=""&&a("#hire_end").val()!="")){if(e.indexOf(g.value)<0){e+=(e=="")?g.value:","+g.value;}}}else{e+=(e=="")?g.value:","+g.value;}a("#atr_"+d).val(e);a('input[id="grp_war"]').attr("value",0);if(a(".attr-content").children(".list-group").length>0){a("#no-attr-sel").hide();a("#atr-sel-pane").show();}else{a("#atr-sel-pane").hide();a("#no-attr-sel").show();}var b=a(".attr-select-pane").css("height","auto").height();
a("#attr-separator, .No-attr-sel, .attr-pane").css("min-height",b+"px");a("#atr-sel-pane").css("min-height",b+"px");k.callScrollBar();},doSort:function(b){return b.sort(function(d,c){return d.toUpperCase().localeCompare(c.toUpperCase());});},onunselectfn:function(m,f,e){var b=a(m).attr("id").replace("avil_","");if(a("#atr_"+b).val()=="All"){a("#sel_"+b).html("");a("#show_sel_"+b).html("");a("#atr_"+b).val("");var g=a("#avil_"+b).expmultiselect("getValue","selected");var l=new Array();var h=new Array();a.each(g,function(){l.push(this.title);h.push(this.value);});e.headerShowHide(b,"sel");a("#sel_"+b).html(l.join(", "));a("#show_sel_"+b).html(descController("",a("#sel_"+b).html(),100));e.setMoreIconClick(a("#show_sel_"+b));a("#atr_"+b).val(h.join(","));e.callScrollBar();if(b=="ste_con_cnt"){e.removeStates(f.value,"all");}return true;}var c=new Array();var d=new Array();if(b=="ste_con_hdt"){if(a("#hidden_hire_start_ste_con_hdt_ltn").val()!=""){c.push('<span class="item-short-desc">'+Drupal.t("LBL1138")+" "+a("#hidden_hire_start_ste_con_hdt_ltn").val()+"</span>");
}if(a("#hidden_hire_start_ste_con_hdt_gtn").val()!=""){c.push('<span class="item-short-desc">'+Drupal.t("LBL1136")+" "+a("#hidden_hire_start_ste_con_hdt_gtn").val()+"</span>");}if(a("#hidden_hire_start_ste_con_hdt_btw").val()!=""){c.push('<span class="item-short-desc">'+Drupal.t("LBL1144")+" "+a("#hidden_hire_start_ste_con_hdt_btw").val()+" "+Drupal.t("LBL647").toLowerCase()+" "+a("#hire_end").val()+"</span>");}}else{var c=unescape(a("#sel_"+b).html()).replace(/"/g,"&quot;").replace(/&amp;/g,"&").split(", ");if(c.indexOf(f.title)>=0){c.splice(c.indexOf(f.title),1);}}if(b=="ste_con_hdt"){a("#sel_"+b).html(c.join(""));a("#show_sel_"+b).html(a("#sel_"+b).html());}else{a("#sel_"+b).html(c.join(", "));a("#show_sel_"+b).html(descController("",a("#sel_"+b).html(),100));}e.setMoreIconClick(a("#show_sel_"+b));d=a("#atr_"+b).val().split(",");if(d.indexOf(f.value)>=0){d.splice(d.indexOf(f.value),1);a("#atr_"+b).val(d.join(","));}if(a("#sel_"+b).html()==""){a("#avil_"+b).prev().find("span:first").removeClass("list-group").addClass("empty-group");
}e.headerShowHide(b,"unsel");a('input[id="grp_war"]').attr("value",0);if(a(".attr-content").children(".list-group").length>0){a("#no-attr-sel").hide();a("#atr-sel-pane").show();}else{a("#atr-sel-pane").hide();a("#no-attr-sel").show();}e.callScrollBar();if(b=="ste_con_cnt"){e.removeStates(f.value,"single");}var k=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("height",k+"px");a("#atr-sel-pane").css("height",k+"px");},removeStates:function(c,b){if(a("#sel_ste_con_ste").html()!=""){if(b=="single"){a("#avil_ste_con_ste").find("#ui-multiselect-con").find("#chk ul li input").each(function(){if(a(this).attr("id").substring(0,2)==c){a(this).removeAttr("checked");a(this).click();}});}else{if(b=="all"){a("#avil_ste_con_ste").find("#ui-multiselect-con").find("#selectuncheckall").each(function(){a(this).removeAttr("checked");a(this).click();});}}}},headerShowHide:function(c,d){var e,m,b;if(d=="sel"){e="empty-group",m="list-group";}else{e="list-group",m="empty-group";
}if(a("#sel_"+c).html()==""){a("#header_"+c).removeClass(e).addClass(m);var k=a("#atr_list").val();var g=k.split(",");var l=true,i="";var n=g.indexOf(c);for(j=n-1;j>0;j--){i=a("#sel_"+g[j]).html();if((i!=null&&i!="")){if(d=="unsel"){l=false;}if(a("#and_"+c).hasClass(e)&&l==false){a("#and_"+c).removeClass(e).addClass(m);}else{a("#and_"+g[j]).removeClass(e).addClass(m);}break;}}if(l===true){for(j=n+1;j<g.length;j++){i=a("#sel_"+g[j]).html();if((i!=null&&i!="")){a("#and_"+c).removeClass(e).addClass(m);break;}}}}},rowEditGroupuser:function(d,b,e){var c=this.constructUrl("administration/people/groups/removeusers/"+d+"/"+b+"/"+e);a.ajax({url:c,type:"POST",async:false,success:function(f){}});},callScrollBar:function(){var d=a(".attr-pane").height();var b=a(".attr-selected-pane").height();if(b>=d){if(a(".attr-selected-pane").find(".jspContainer").length>0){a(".attr-selected-pane").jScrollPane().data().jsp.reinitialise();}else{a(".attr-selected-pane").jScrollPane({});}var c=a(".attr-selected-pane").height()-2;
a(".attr-selected-pane .jspVerticalBar").css("height",c);}else{if(a(".attr-selected-pane").find(".jspContainer").length>0){a(".attr-selected-pane").jScrollPane("destroy");a(".attr-selected-pane").html(a(".attr-selected-pane .jspPane").html());}}},selectAllFn:function(d,e){var c=a(d).attr("id").replace("avil_","");e.headerShowHide(c,"sel");a("#sel_"+c).html(Drupal.t("LBL1039"));a("#show_sel_"+c).html(descController("",a("#sel_"+c).html(),100));a("#atr_"+c).val("All");if(a(".attr-content").children(".list-group").length>0){a("#no-attr-sel").hide();a("#atr-sel-pane").show();}else{a("#atr-sel-pane").hide();a("#no-attr-sel").show();}e.callScrollBar();if(a("#atr_"+c).val()=="All"){e.headerShowHide(c,"sel");a("#avil_"+c).prev().find("span:first").removeClass("empty-group").addClass("list-group");return true;}var b=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("height",b+"px");a("#atr-sel-pane").css("height",b+"px");},unselectAllFn:function(d,e){var c=a(d).attr("id").replace("avil_","");
a("#sel_"+c).html("");a("#show_sel_"+c).html("");a("#atr_"+c).val("");e.callScrollBar();if(a("#atr_"+c).val()==""){e.headerShowHide(c,"unsel");a("#avil_"+c).prev().find("span:first").removeClass("list-group").addClass("empty-group");if(a(".attr-content").children(".list-group").length>0){a("#no-attr-sel").hide();a("#atr-sel-pane").show();}else{a("#atr-sel-pane").hide();a("#no-attr-sel").show();}if(c=="ste_con_cnt"){e.removeStates("","all");}return true;}e.headerShowHide(c,"unsel");if(c=="ste_con_cnt"){e.removeStates("","all");}var b=a(".attr-select-pane").css("height","auto").height();a("#attr-separator, .No-attr-sel, .attr-pane").css("height",b+"px");a("#atr-sel-pane").css("height",b+"px");},setMoreIconClick:function(c){var b=this;a(c).find(".more-icon-sec").click(function(){b.callScrollBar();});}});a.extend(a.ui.peoplegroup.prototype,EXPERTUS_SMARTPORTAL_AbstractManager,EXPERTUS_SMARTPORTAL_AbstractDetailsWidget);})(jQuery);$(function(){try{$("#root-admin").peoplegroup();}catch(a){}});
Drupal.ajax.prototype.commands.onAfterLoadForm=function(c,b,a){setTimeout(function(){if($(".attr-content").children(".list-group").length>0){$("#no-attr-sel").hide();$("#atr-sel-pane").show();}else{$("#atr-sel-pane").hide();$("#no-attr-sel").show();}var f=$("#atr_list").val().split(",");var g=$("#code").val();if(g!="grp_adm"&&g!="grp_sup"&&g!="grp_ins"&&g!="grp_mgr"){var h=$(".addedit-edit-name").attr("id");if(b.grpId>0){if(b.reload&&($("#edit-name").val()==""||$("#"+h).val()=="")){$("#"+h).addClass("error");}else{if($("#sel_"+f[f.length-1]).html()==""){$(".attr-selected-pane .and-class:last").removeClass("list-group").addClass("empty-group");}$("#root-admin").data("peoplegroup").callScrollBar();$("#root-admin").data("peoplegroup").callMultiSelect($("#attr_open").val(),b.grpId);$("#"+h).removeClass("error");}}else{if(b.reload&&($("#edit-name").val()==""||$("#"+h).val()=="")){$("#"+h).addClass("error");}else{$("#root-admin").data("peoplegroup").callMultiSelect($("#attr_open").val(),b.grpId);
$("#"+h).removeClass("error");}}}else{if(g=="grp_ins"||g=="grp_mgr"){var e=$("#attr_open").val();$("#root-admin").data("peoplegroup").callMultiSelect(e,b.grpId);$("#avil_"+e).append("<div id='hideover'></div>");var d={"margin-top":-80,height:$("#avil_"+e).height(),width:$("#avil_"+e).width(),position:"absolute"};$("#hideover").css(d);}}$(".more-icon-sec").click(function(){$("#root-admin").data("peoplegroup").callScrollBar();});$("#role-addedit-form").keypress(function(i){if(i.keyCode==13){i.preventDefault();return false;}});},200);return true;};function countryBind(){$("#grpcontry_filterset").append('<input type="hidden" id="country-sel" value="" >');var a="/?q=administration/people/group/country&aa=44";$("#grpcontry-addltext-filter").unbind(".autocomplete");$("#grpcontry-addltext-filter").autocomplete(a,{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading",multiple:true,formatItem:function(b){return b[1];},extraParams:{id:"country-sel"}});
$("#grpcontry-addltext-filter").blur(function(){if($("#grpcontry-addltext-filter").val()!="Type a Country"&&$("#grpcontry-addltext-filter").val()!=""){$("#grploc-addltext-filter").removeAttr("disabled");$("#grploc_filterset").find(".filter-search-start-date-left-bg").removeClass("group-state-disabled-left-bg");$("#grploc_filterset").find(".filter-search-start-date-middle-bg").removeClass("group-state-disabled-middle-bg");$("#grploc_filterset").find(".filter-search-start-date-right-bg").removeClass("group-state-disabled-right-bg");$("#grploc_filterset").find(".filter-search-start-date-middle-bg").focus();}else{$("#country-sel").val("");$("#grploc-addltext-filter").attr("disabled","disabled");$("#grploc_filterset").find(".filter-search-start-date-left-bg").addClass("group-state-disabled-left-bg");$("#grploc_filterset").find(".filter-search-start-date-middle-bg").addClass("group-state-disabled-middle-bg");$("#grploc_filterset").find(".filter-search-start-date-right-bg").addClass("group-state-disabled-right-bg");
$("#grploc_filterset").find(".filter-search-start-date-middle-bg").val("");$("#grploc-addltext-filter").val("Type a State");$("#grploc-addltext-filter").css("color","#999999");}a="/?q=administration/people/group/location&country="+$("#country-sel").val();$("#grploc-addltext-filter").unbind(".autocomplete");$("#grploc-addltext-filter").autocomplete(a,{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading",multiple:true});});}function permdetailsShowHide(b,c,a){if($(b).hasClass("more-icon-close")){$(b).removeClass("more-icon-close").addClass("more-icon-open");}else{$(b).removeClass("more-icon-open").addClass("more-icon-close");}if(a=="subparentlevel"){$("#permission-td-table .subchild"+c).toggle();}else{if($("#permission-td-table  .sub-sub-level"+c).is(":visible")){$("#permission-td-table .child"+c+" .more-text a").removeClass("more-icon-open");$("#permission-td-table .child"+c+" .more-text a").addClass("more-icon-close");$("#permission-td-table .sub-sub-level"+c).hide();
}$("#permission-td-table .child"+c).toggle();}$("#admin-add-scroll").jScrollPane("reinitialise");vtip();}function setPrivilege(d,c){c=(typeof c=="undefined")?0:c;var f=$(d).attr("id");var a=f.split("_");if(a[0]=="group"||a[0]=="subgroup"){if(a[0]=="subgroup"){var b="_"+a[4];}else{b="";}switch(a[1]){case"view":if($(d).is(":checked")===true){selectGroup(d,true);if(c==1){selectGroup($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),true,c);selectGroup($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),true,c);selectGroup($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),true,c);}if(a[0]=="group"){$(".subgroup_view_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_view_"+e[2]+"_"+e[3]+"_"+e[4]),true);});}}else{selectGroup(d,false);if(c==1){selectGroup($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false,c);selectGroup($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),false,c);selectGroup($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),false,c);}else{selectGroup($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false);selectGroup($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),false);
selectGroup($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),false);}if(a[0]=="group"){$(".subgroup_view_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_delete_"+e[2]+"_"+e[3]+"_"+e[4]),false);selectGroup($("#"+e[0]+"_view_"+e[2]+"_"+e[3]+"_"+e[4]),false);selectGroup($("#"+e[0]+"_create_"+e[2]+"_"+e[3]+"_"+e[4]),false);selectGroup($("#"+e[0]+"_edit_"+e[2]+"_"+e[3]+"_"+e[4]),false);});}}break;case"create":if($(d).is(":checked")===true){selectGroup(d,true);selectGroup($("#"+a[0]+"_view_"+a[2]+"_"+a[3]+b),true);if(a[0]=="group"){$(".subgroup_create_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_view_"+e[2]+"_"+e[3]+"_"+e[4]),true);selectGroup($("#"+e[0]+"_create_"+e[2]+"_"+e[3]+"_"+e[4]),true);});}}else{selectGroup(d,false);selectGroup($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false);selectGroup($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),false);if(a[0]=="group"){$(".subgroup_create_"+a[3]).each(function(){var e=$(this).attr("id").split("_");
selectGroup($("#"+e[0]+"_create_"+e[2]+"_"+e[3]+"_"+e[4]),false);selectGroup($("#"+e[0]+"_edit_"+e[2]+"_"+e[3]+"_"+e[4]),false);selectGroup($("#"+e[0]+"_delete_"+e[2]+"_"+e[3]+"_"+e[4]),false);});}}break;case"edit":if($(d).is(":checked")===true){selectGroup(d,true);selectGroup($("#"+a[0]+"_view_"+a[2]+"_"+a[3]+b),true);selectGroup($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),true);if(a[0]=="group"){$(".subgroup_edit_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_view_"+e[2]+"_"+e[3]+"_"+e[4]),true);selectGroup($("#"+e[0]+"_create_"+e[2]+"_"+e[3]+"_"+e[4]),true);selectGroup($("#"+e[0]+"_edit_"+e[2]+"_"+e[3]+"_"+e[4]),true);});}}else{selectGroup(d,false);selectGroup($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false);if(a[0]=="group"){$(".subgroup_edit_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_edit_"+e[2]+"_"+e[3]+"_"+e[4]),false);selectGroup($("#"+e[0]+"_delete_"+e[2]+"_"+e[3]+"_"+e[4]),false);});}}break;case"delete":if($(d).is(":checked")===true){selectGroup(d,true);
selectGroup($("#"+a[0]+"_view_"+a[2]+"_"+a[3]+b),true);selectGroup($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),true);selectGroup($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),true);if(a[0]=="group"){$(".subgroup_delete_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_delete_"+e[2]+"_"+e[3]+"_"+e[4]),true);selectGroup($("#"+e[0]+"_view_"+e[2]+"_"+e[3]+"_"+e[4]),true);selectGroup($("#"+e[0]+"_create_"+e[2]+"_"+e[3]+"_"+e[4]),true);selectGroup($("#"+e[0]+"_edit_"+e[2]+"_"+e[3]+"_"+e[4]),true);});}}else{selectGroup(d,false);if(a[0]=="group"){$(".subgroup_delete_"+a[3]).each(function(){var e=$(this).attr("id").split("_");selectGroup($("#"+e[0]+"_delete_"+e[2]+"_"+e[3]+"_"+e[4]),false);});}}break;}}else{if(a[0]=="sub"||a[0]=="subchild"){if(a[0]=="subchild"){var b="_"+a[4];}else{b="";}switch(a[1]){case"view":if($(d).is(":checked")===true){selectSubLevel(d,true);if(c==1){selectSubLevel($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),true,c);selectSubLevel($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),true,c);
selectSubLevel($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),true,c);}}else{selectSubLevel(d,false);if(c==1){selectSubLevel($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false,c);selectSubLevel($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),false,c);selectSubLevel($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),false,c);}else{selectSubLevel($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false);selectSubLevel($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),false);selectSubLevel($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),false);}}break;case"create":if($(d).is(":checked")===true){selectSubLevel(d,true);selectSubLevel($("#"+a[0]+"_view_"+a[2]+"_"+a[3]+b),true);}else{selectSubLevel(d,false);selectSubLevel($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false);selectSubLevel($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),false);}break;case"edit":if($(d).is(":checked")===true){selectSubLevel(d,true);selectSubLevel($("#"+a[0]+"_view_"+a[2]+"_"+a[3]+b),true);selectSubLevel($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),true);}else{selectSubLevel(d,false);selectSubLevel($("#"+a[0]+"_delete_"+a[2]+"_"+a[3]+b),false);
}break;case"delete":if($(d).is(":checked")===true){selectSubLevel(d,true);selectSubLevel($("#"+a[0]+"_view_"+a[2]+"_"+a[3]+b),true);selectSubLevel($("#"+a[0]+"_create_"+a[2]+"_"+a[3]+b),true);selectSubLevel($("#"+a[0]+"_edit_"+a[2]+"_"+a[3]+b),true);}else{selectSubLevel(d,false);}break;}}}}function selectGroup(k,m,c){c=(typeof c=="undefined")?0:c;var b=$(k).attr("id");var h=new Array();var f=0;var d=b.split("_");if(d[0]=="subgroup"){h[0]="subchild_"+d[1]+"_"+d[3]+"_"+d[4];f=1;}else{h[0]="sub_"+d[1]+"_"+d[3];h[1]="subchild_"+d[1]+"_"+d[3]+"_"+d[4];h[2]="subgroup_"+d[1]+"_"+d[3]+"_"+d[4];f=3;}var l,a;for(var g=0;g<f;g++){if(document.getElementById(h[g])!=null){c=($('input[obname="'+h[g]+'"]').parent().attr("class").indexOf("readonly")>0)?1:0;}(c==1)?(l="checkbox-selected-readonly",a="checkbox-unselected-readonly"):(l="checkbox-selected",a="checkbox-unselected");if(m===true){$(k).attr("checked","checked").parent().removeClass(a).addClass(l);$('input[obname="'+h[g]+'"]').each(function(){c=($(this).parent().attr("class").indexOf("readonly")>0)?1:0;
(c==1)?(l="checkbox-selected-readonly",a="checkbox-unselected-readonly"):(l="checkbox-selected",a="checkbox-unselected");$(this).attr("checked","checked").parent().removeClass(a).addClass(l);if($(this).attr("isParent")==1){var i=$(this).attr("id");var e=i.split("_");selectSubLevel($("#sub_delete_"+e[2]+"_"+e[3]),true,1);selectSubLevel($("#sub_edit_"+e[2]+"_"+e[3]),true,1);selectSubLevel($("#sub_create_"+e[2]+"_"+e[3]),true,1);}});}else{$(k).removeAttr("checked").parent().removeClass(l).addClass(a);$('input[obname="'+h[g]+'"]').each(function(){c=($(this).parent().attr("class").indexOf("readonly")>0)?1:0;(c==1)?(l="checkbox-selected-readonly",a="checkbox-unselected-readonly"):(l="checkbox-selected",a="checkbox-unselected");$(this).removeAttr("checked").parent().removeClass(l).addClass(a);if($(this).attr("isParent")==1){var i=$(this).attr("id");var e=i.split("_");selectSubLevel($("#sub_delete_"+e[2]+"_"+e[3]),false,1);selectSubLevel($("#sub_edit_"+e[2]+"_"+e[3]),false,1);selectSubLevel($("#sub_create_"+e[2]+"_"+e[3]),false,1);
}});}}}function selectSubLevel(k,r,c){c=(typeof c=="undefined")?0:c;var b=$(k).attr("id");var d=b.split("_");if(d[0]=="subchild"){var n="_"+d[4];}else{n="";}var l=(d[0]=="subchild")?"subgroup":"group";var o=l+"_"+d[1]+"_"+d[3]+n;var h=d[0]+"_"+d[1]+"_"+d[3]+n;var q,a,i,f;if(document.getElementById(h)!=null){c=($('input[obname="'+h+'"]').parent().attr("class").indexOf("readonly")>0)?1:c;}(c==1)?(q="checkbox-selected-readonly",a="checkbox-unselected-readonly"):(q="checkbox-selected",a="checkbox-unselected");if(r===true){$(k).attr("checked","checked").parent().removeClass(a).addClass(q);var g=$('input[obname="'+h+'"]').length;var m=$('input[obname="'+h+'"]').filter(":checked").length;if(g==m){c=($('input[obname="'+o+'"]').parent().attr("class").indexOf("readonly")>0)?1:0;(c==1)?(q="checkbox-selected-readonly",a="checkbox-unselected-readonly"):(q="checkbox-selected",a="checkbox-unselected");$('input[obname="'+o+'"]').attr("checked","checked").parent().removeClass(a).addClass(q);}}else{$(k).removeAttr("checked").parent().removeClass(q).addClass(a);
c=($('input[obname="'+o+'"]').parent().attr("class").indexOf("readonly")>0)?1:0;(c==1)?(q="checkbox-selected-readonly",a="checkbox-unselected-readonly"):(q="checkbox-selected",a="checkbox-unselected");$('input[obname="'+o+'"]').removeAttr("checked").parent().removeClass(q).addClass(a);}}function resetPopPosision(a){if(a.indexOf("qtip_addusers_visible_disp")>=0){if($.browser.msie){$("#"+a+" #bubble-face-table").css("bottom","12px");}}}$(document).ajaxComplete(function(e,g,d){var h=$("#root-admin").data("peoplegroup").constructUrl("administration/people/groups/attributs");var f=$(".page-administration-people-group .ui-multiselect-con-class:visible");if(d.url.indexOf(h)>-1&&g.responseText!=undefined&&g.responseText!=""&&$.parseJSON(g.responseText).data.length<=5){f.find(".mcontainerclass").css("height","auto");f.find(".create-group-hidecontainer").css("margin-bottom","10px");f.css("height","auto");}f.css("width","257px");f.find("#multiautocomplete").css("width","230px");$(".page-administration-people-group").find(".access-mro-visibility .ui-multiselect-con-class").css("width","270px");
var a=$("#background_job").val();if(a>0){var c=new Array();c[0]=Drupal.t("MSG921");var b=expertus_error_message(c,"error");$("#show_expertus_message").show();$("#show_expertus_message").html(b);}});function getUsersearchType(){try{var a=$("#search_all_user_type-hidden").val();$("#hiddengptype").val(a);}catch(b){}}function updHireDate(d){try{var c=$(d).val();var a=$(d).attr("name");if(a.indexOf("hire_start")>=0){$("#hidden_"+a).val(c);}else{$("#hire_end").val(c);}if(a.indexOf("hire_start")>=0){id=$(d).attr("id").replace("hire_start_","");if($("#"+id).is(":checked")==false&&a.indexOf("ste_con_hdt_btw")==-1){$("#"+id).attr("checked","checked");$("#"+id).click();}else{if($("#"+id).is(":checked")==true){var b=$("#avil_ste_con_hdt").expmultiselect("getValue","selected");$.each(b,function(){if(this.value==id){res='{"value":"'+this.value+'","title":"'+unescape(this.title).replace(/"/g,"&quot;").replace(/\\/g,"&#92;")+'","selected":"'+this.selected+'"}';}});$msobj=$("#root-admin").data("peoplegroup");
$msobj.onselectfn($("#avil_ste_con_hdt"),JSON.parse(res),$msobj);}}}else{if(a.indexOf("hire_end")>=0){id=$(d).attr("id").replace("hire_end_","");if($("#"+id).is(":checked")==false&&a.indexOf("ste_con_hdt_btw")!=-1){$("#"+id).attr("checked","checked");$("#"+id).click();}else{if($("#"+id).is(":checked")==true){var b=$("#avil_ste_con_hdt").expmultiselect("getValue","selected");$msobj=$("#root-admin").data("peoplegroup");$msobj.onselectfn($("#avil_ste_con_hdt"),b[0],$msobj);}}}}}catch(f){console.log(f);}}