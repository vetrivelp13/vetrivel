var SOAPClient={url:"",SOAPServer:"",ContentType:"text/xml",CharSet:"utf-8",ResponseXML:null,ResponseText:"",Status:0,ContentLength:0,Namespace:function(a,b){return{name:a,uri:b};},SendRequest:function(c,f,b){if(SOAPClient.url!=null){SOAPClient.ResponseText="";SOAPClient.ResponseXML=null;SOAPClient.Status=0;var d=c.toString();SOAPClient.ContentLength=d.length;function e(g){if(f!=null){SOAPClient.Status=g.status;SOAPClient.ResponseText=g.responseText;SOAPClient.ResponseXML=g.responseXML;f(g.responseXML);}}function a(g){b(g.responseXML);}$.ajax({type:"POST",url:SOAPClient.url,dataType:"xml",processData:false,data:d,complete:e,error:a,beforeSend:function(g){g.setRequestHeader("Method","POST");g.setRequestHeader("Content-Length",SOAPClient.ContentLength);g.setRequestHeader("Content-Type",SOAPClient.ContentType+'; charset="'+SOAPClient.CharSet+'"');g.setRequestHeader("SOAPServer",SOAPClient.SOAPServer);g.setRequestHeader("SOAPAction",c.Action);}});}},ToXML:function(d){var b="";var i=false;try{if(d!=null&&typeof(d)=="object"&&d.typeOf=="SOAPObject"){if(d.ns!=null){if(typeof(d.ns)=="object"){i=true;
b+="<"+d.ns.name+":"+d.name;b+=" xmlns:"+d.ns.name+'="'+d.ns.uri+'"';}else{b+="<"+d.name;b+=' xmlns="'+d.ns+'"';}}else{b+="<"+d.name;}if(d.attributes.length>0){var h;var a=d.attributes.length-1;do{h=d.attributes[a];if(i){b+=" "+d.ns.name+":"+h.name+'="'+h.value+'"';}else{b+=" "+h.name+'="'+h.value+'"';}}while(a--);}b+=">";if(d.hasChildren()){var f,c;for(f in d.children){c=d.children[f];if(typeof c=="object"){b+=SOAPClient.ToXML(c);}}}if(d.value!=null){b+=d.value;}if(i){b+="</"+d.ns.name+":"+d.name+">";}else{b+="</"+d.name+">";}return b;}}catch(g){alert("Unable to process SOAPObject! Object must be an instance of SOAPObject");}}};var SOAPRequest=function(e,c,d){this.Action=e;var b=[];var f=(d!=null)?[d]:[];var a=(c!=null)?[c]:[];this.addNamespace=function(g,h){b.push(new SOAPClient.Namespace(g,h));};this.addHeader=function(g){f.push(g);};this.addBody=function(g){a.push(g);};this.toString=function(){var g=new SOAPObject("SOAP-ENV:Envelope");g.attr("xmlns:SOAP-ENC","http://schemas.xmlsoap.org/soap/encoding/");
g.attr("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");g.attr("xmlns:xsd","http://www.w3.org/2001/XMLSchema");g.attr("SOAP-ENV:encodingStyle","http://schemas.xmlsoap.org/soap/encoding/");g.attr("xmlns:SOAP-ENV","http://schemas.xmlsoap.org/soap/envelope/");if(b.length>0){var h,j;for(h in b){j=b[h];if(typeof(j)=="object"){g.attr("xmlns:"+j.name,j.uri);}}}if(f.length>0){var k=g.appendChild(new SOAPObject("SOAP-ENV:Header"));populateSoapBody(k,f[0]);}if(a.length>0){var i=g.appendChild(new SOAPObject("SOAP-ENV:Body"));populateSoapBody(i,a[0]);}return g.toString();};};var populateSoapBody=function(c,a){var b;for(b in a){c.appendChild(a[b]);}};var isString=function(b){if(typeof(b)=="string"){return true;}if(typeof(b)=="object"){var a=b.constructor.toString().match(/string/i);return(a!=null);}return false;};var SOAPObject=function(a){this.typeOf="SOAPObject";this.ns=null;this.name=a;this.attributes=[];this.children=[];this.value=null;this.attr=function(b,c){this.attributes.push({name:b,value:c});
return this;};this.appendChild=function(b){this.children.push(b);return b;};this.hasChildren=function(){return(this.children.length>0)?true:false;};this.EncodeXmlSpecialChar=function(b){if(typeof(b)=="string"){b=Drupal.checkPlain(b);}return b;};this.val=function(b){if(b==null){return this.value;}else{this.value=this.EncodeXmlSpecialChar(b);return this;}};this.toString=function(){return SOAPClient.ToXML(this);};};