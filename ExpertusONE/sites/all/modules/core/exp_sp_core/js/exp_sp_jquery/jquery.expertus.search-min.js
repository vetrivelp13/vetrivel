(function(a){jQuery.fn.expertusSearch=function(d,e,g,c,b,f){return this.each(function(){a.fn.expertusSearchRender(this.id,d,e,g,c,b,f);});};jQuery.fn.expertusSearchRender=function(f,b,d,k,h,c,j){var e="Unable to render search options!";if(h==null){alert(SMARTPORTAL.t(e+" No search params are specified."));return false;}for(var g=0;g<h.length;g++){if(h[g].title==""||h[g].autocomplete==""){alert(SMARTPORTAL.t(e+" Search param title and autocomplete type and subtype values are mandatory. Check param ")+"["+(g+1)+"]");return false;}}a("#"+f).html(a.fn.expertusSearchHtml(b,d,k,h,c,j));a(".searchadv").addClass("sp_divflt");a(".searchoptsseparator").addClass("sp_divflt");};jQuery.fn.expertusSearchHtml=function(b,d,k,h,c,j){var g="";if(d!=""){g+='<div class="block-title-left sp_content_header"><div class="block-title-right block-header"><div class="block-title-middle"><h2 style="width: auto;padding:0px 0px 0px 7px;">'+d+"</h2>";g+='<div class="contentGuide" id="contentGuide"></div></div></div></div>';
}g+="<div id='"+b+"_newsearchopts'>";g+="<table id='"+b+"_searchtable' class='searchtable' cellpadding='0' cellspacing='0' >";g+="<tr><td colspan='2'>";g+="<div id='"+b+"_advsearchdisplay'>";if(c.advanced){g+="<div id='searchopts' style='float:left;'><span class='advance-search' id='"+b+"_advancedsearch'>"+SMARTPORTAL.t("Advanced Search")+"</span></div>";}if(c.faq){g+="<div id='searchopts' style='margin-left:15px;float:left;'><span class='advance-search' id='"+b+"_faqsearch'>"+SMARTPORTAL.t("Analytical Search")+"</span></div>";}if(c.CategoryBrowse){g+="<div id='searchopts' style='margin-left:15px;float:left;'><span class='advance-search' id='"+b+"_categorybrowse'>"+SMARTPORTAL.t("Taxonomy Search")+"</span></div>";}if(c.customBtn){var f=c.customBtnDt;g+="<div id='searchopts' style='margin-left:15px;float:left;'><span><a class='advance-search' style='cursor:pointer;' id='"+b+"_custonbtn' title='"+SMARTPORTAL.t(f.title)+"'>"+f.title+"</a></span></div>";}g+="</div>";g+="</td>";g+="</tr>";g+="<tr>";
g+="<td class='searchtableoptions' style='padding-bottom:2px;'>";if(h.length>1){for(var e=0;e<h.length;e++){g+="<input class='"+b+"_searchparam' name='searchparam' type='radio' "+(e==0?" checked ":"")+" onclick='javascript:$.fn.expertusAutocompleteFulsh(\""+b+'_searchtext");$.fn.expertusAutocomplete("'+b+'_searchtext","'+h[e].autocomplete_type+'","'+h[e].key+'","'+h[e].autocomplete_formatindex+'","'+h[e].entityType+"\");' value='"+h[e].key+"' /><span>"+h[e].title+"</span>";}}else{g+="<input class='"+b+"_searchparam' name='searchparam' type='hidden' onclick='javascript:$.fn.expertusAutocompleteFulsh(\""+b+'_searchtext");$.fn.expertusAutocomplete("'+b+'_searchtext","'+h[0].autocomplete_type+'","'+h[0].key+'","'+h[0].autocomplete_formatindex+'","'+h[0].entityType+"\");' value='"+h[0].key+"' /><span>&nbsp;&nbsp;"+h[0].title+"</span>";}g+="</td>";g+="<td>";g+='<div class="sp_action">';if(c.savequery){g+='<div style="margin-top:-1px;text-align:right;"><img style="cursor:pointer;" src="'+themepath+'/images/save1.jpg" id="'+b+'_savequery" title="'+SMARTPORTAL.t("Save query")+'"><img style="margin-left:5px;cursor:pointer;" src="'+themepath+'/images/open1.jpg" id="'+b+'_findsavequery" title="'+SMARTPORTAL.t("Retrive saved query")+'"></div>';
g+="<div id='"+b+"_savequeryDiv' class='saved-query-div' style='display:none;'></div>";}else{g+='<div style="margin-top:12px;"></div>';}g+="<div>";if(k!=undefined){if(k.searchtype!="AssociateSearch"){g+='<span><input class="spButtonSpan" type="button" value="'+k.title+'" onclick="javascript:'+k.script+'"/></span>&nbsp;';}}if(j!=undefined&&j.length>0){if(j[0].searchtype!="AssociateSearch"){for(var e=0;e<j.length;e++){g+='<span><input class="spButtonSpan" type="button" value="'+j[e].title+'" onclick="javascript:'+j[e].script+'"/></span>';}}}g+="</div>";g+="</div>";g+="</td>";g+="</tr>";g+="<tr>";g+="<td style='width:70%' colspan='2'>";g+="<input id='"+b+"_searchtext' class='searchtext' style='width: 350px;' type='text'/>";g+="<input style='margin-left:3px;' class='spButtonSpan' id='"+b+"_simplesearch' type='submit' value='"+(Drupal.t("LBL304")).toUpperCase()+"' /></td></tr>";g+="<tr><td colspan='2' style='height:10px;'></td></tr>";g+="</table>";g+="</div>";if(c.advanced||c.faq){}return g;
};jQuery.fn.expertusAutocompleteFulsh=function(b){a("#"+b).flushCache();};jQuery.fn.expertusAutocomplete=function(f,c,b,e,d){if(e==undefined||e=="undefined"||e==""||e==NaN){a("#"+f).setOptions({extraParams:{type:c,subtype:b,returntype:"text",actionkey:"Autocomplete",entityType:d}});}else{a("#"+f).setOptions({formatItem:function(g){return e==undefined?g[0]:g[e];},extraParams:{type:c,subtype:b,returntype:"text",actionkey:"Autocomplete",entityType:d}});}};})(jQuery);