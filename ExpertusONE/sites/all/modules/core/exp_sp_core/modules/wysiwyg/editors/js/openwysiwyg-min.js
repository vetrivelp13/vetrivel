Drupal.wysiwyg._openwysiwyg=$;$=jQuery;jQuery.each(WYSIWYG,function(a,b){if(jQuery.isFunction(b)){WYSIWYG[a]=function(){var d=$;$=Drupal.wysiwyg._openwysiwyg;var c=b.apply(this,arguments);$=d;return c;};}});WYSIWYG.getEditor=function(a){return Drupal.wysiwyg._openwysiwyg("wysiwyg"+a);};(function(b){var a=WYSIWYG.maximize;WYSIWYG.maximize=function(d){var c=b("#toolbar",Drupal.overlayChild?window.parent.document:document);a.apply(this,arguments);if(this.maximized[d]){c.hide();}else{c.show();}};Drupal.wysiwyg.editor.attach.openwysiwyg=function(d,g,f){f.ImagesDir=f.path+"images/";f.PopupsDir=f.path+"popups/";f.CSSFile=f.path+"styles/wysiwyg.css";var c=new WYSIWYG.Settings();for(var e in f){c[e]=f[e];}WYSIWYG.setSettings(g.field,c);WYSIWYG_Core.includeCSS(WYSIWYG.config[g.field].CSSFile);WYSIWYG._generate(g.field,c);};Drupal.wysiwyg.editor.detach.openwysiwyg=function(e,f,d){if(typeof f!="undefined"){var c=WYSIWYG.config[f.field];if(typeof c!="undefined"){WYSIWYG.updateTextArea(f.field);if(d!="serialize"){jQuery("#wysiwyg_div_"+f.field).remove();
delete c;}}if(d!="serialize"){jQuery("#"+f.field).show();}}else{jQuery.each(WYSIWYG.config,function(g){WYSIWYG.updateTextArea(g);if(d!="serialize"){jQuery("#wysiwyg_div_"+g).remove();delete this;jQuery("#"+g).show();}});}};Drupal.wysiwyg.editor.instance.openwysiwyg={insert:function(c){b("#wysiwyg"+this.field).contents().find("body").focus();WYSIWYG.insertHTML(c,this.field);},setContent:function(d){var e=WYSIWYG.getEditorWindow(this.field).document;if(WYSIWYG.config[this.field].ReplaceLineBreaks){d=d.replace(/\n\r|\n/ig,"<br />");}if(WYSIWYG.viewTextMode[this.field]){var c=document.createTextNode(d);e.body.innerHTML="";e.body.appendChild(c);}else{e.open();e.write(d);e.close();}},getContent:function(){var d="";var e=WYSIWYG.getEditorWindow(this.field).document;if(WYSIWYG.viewTextMode[this.field]){if(WYSIWYG_Core.isMSIE){d=e.body.innerText;}else{var c=e.body.ownerDocument.createRange();c.selectNodeContents(e.body);d=c.toString();}}else{d=e.body.innerHTML;}d=WYSIWYG.stripURLPath(this.field,d);
d=WYSIWYG_Core.replaceRGBWithHexColor(d);if(WYSIWYG.config[this.field].ReplaceLineBreaks){d=d.replace(/(\r\n)|(\n)/ig,"");}return d;}};})(jQuery);