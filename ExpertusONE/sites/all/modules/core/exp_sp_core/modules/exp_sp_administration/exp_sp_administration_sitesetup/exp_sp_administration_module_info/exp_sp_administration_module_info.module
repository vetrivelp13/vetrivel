<?php 
/**
* Implementation of hook_init().
*/
function exp_sp_administration_module_info_init(){
	try {
  if ((substr($_SERVER['REQUEST_URI'], -strlen('administration/sitesetup/moduleinfo')) == 'administration/sitesetup/moduleinfo')){
       $css_theme_optional = array('type' => 'file', 'group' => CSS_THEME);
    global $theme_key;
   	if($theme_key == 'expertusoneV2') {
  		//NEWUI THEME STYLE SHEET
  		drupal_add_css(drupal_get_path('module', 'exp_sp_administration_module_info') .'/exp_sp_administration_module_info_v2.css', $css_theme_optional);	
  		drupal_add_css(drupal_get_path('module', 'exp_sp_administration_learning') .'/exp_sp_administration_learning_v2.css', $css_theme_optional);
  		drupal_add_css(drupal_get_path('module', 'exp_sp_administration_config') .'/exp_sp_administration_config_v2.css', array('type' => 'file', 'group' => CSS_THEME, 'weight'=>1300));
  	} else {
	 		drupal_add_css(drupal_get_path('module', 'exp_sp_administration_module_info') .'/exp_sp_administration_module_info.css', $css_theme_optional);	
	 		drupal_add_css(drupal_get_path('module', 'exp_sp_administration_learning') .'/exp_sp_administration_learning.css', $css_theme_optional);
  	}
  }
  } catch (Exception $ex) {
  	watchdog_exception('exp_sp_administration_module_info_init', $ex);
  	expertusErrorThrow($ex);
  }
}

 /**
 * Implementation of hook_menu().
 */
function exp_sp_administration_module_info_menu() {
	try {
  $items = array(); 
  $items['administration/sitesetup/moduleinfo'] = array(
    'title' => t('LBL1003'),
    'page callback' => 'empty_value', 
    'access callback' => 'is_module_admin_access', 
  	//'access callback' => 'is_drupal_super_admin',
    'type' => MENU_CALLBACK,
    'weight' => 1,
    'access arguments' => array('Module Info Admin Perm'),
  );
  $items['administration/sitesetup/moduleinfo/search/all'] = array( 
    'title' => 'Fetch module list to display in JQGrid',
    'page callback' => 'sendModuleInfoListToJqGrid',
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info.inc'
  );
  $items['administration/sitesetup/moduleinfo/textfilter-autocomplete'] = array(
     'title' => 'Search By Module Filter Autocomplete',
     'page callback' => 'getmoduleNameFilterAutoComplete',
     'access callback' => 'user_access',
     'access arguments' => array('Module Info Admin Perm'),
     'type' => MENU_CALLBACK,
     'file' => 'exp_sp_administration_module_info.inc',
  );     
  $items['ajax/administration/sitesetup/moduleinfo/publish-and-unpublish/%'] = array (
     'title' => 'Enable Or Disable a Module',
     'page callback' => 'publishOrUnpublishModule',
     'page arguments' => array(5),
     'type' => MENU_CALLBACK,
     'access arguments' => array('Module Info Admin Perm'),
     'file' => 'exp_sp_administration_module_info.inc'
	 );
	 
   $items['administration/sitesetup/moduleinfo/webanalytics/%ctools_js'] = array(
    'title' => 'Web Analytics Admin',
    'page callback' => 'exp_sp_administration_webanalytics_display_form',
    'page arguments' => array(4),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_webanalytics.inc'
  );
  
   $items['administration/sitesetup/moduleinfo/pwdpolicy/%ctools_js'] = array(
    'title' => 'Password Policy Admin',
    'page callback' => 'exp_sp_administration_pwdpolicy_display_form',
    'page arguments' => array(4),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_pwdpolicy.inc'
  );

   $items['administration/sitesetup/moduleinfo/ipranges/%ctools_js'] = array(
    'title' => 'IP Ranges Admin',
    'page callback' => 'exp_sp_administration_iprange_display_form',
    'page arguments' => array(4),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_iprange.inc'
  );

   $items['administration/sitesetup/moduleinfo/ipranges/addedit/%'] = array(
    'title' => 'IP Range Configuration',
    'page callback' => 'exp_sp_administration_iprange_addedit_form',
    'page arguments' => array(4,5),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_iprange.inc'
  );

   $items['administration/sitesetup/moduleinfo/ipranges/list'] = array(
    'title' => 'IP Range Select',
    'page callback' => 'exp_sp_administration_iprange_details',
    'page arguments' => array(4),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_iprange.inc'
  );

   $items['administration/sitesetup/moduleinfo/ipranges/delete/%'] = array(
    'title' => 'IP Range Delete',
    'page callback' => 'exp_sp_administration_iprange_delete',
    'page arguments' => array(5),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_iprange.inc'
  );
  
  $items['administration/sitesetup/moduleinfo/pwdstrength/%'] = array(
    'title' => 'Password Policy Admin Password Strength',
    'page callback' => 'exp_sp_administration_pwdstrength_display_form',
    'page arguments' => array(4),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_pwdstrength.inc'
  );
  
  $items['administration/sitesetup/moduleinfo/ldap/%ctools_js/addedit'] = array(
    'title' => 'Edit LDAP Details',
    'page callback' => 'ldapAddEdit',
    'access callback' => 'user_access',
    'page arguments' => array(4),
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_ldap.inc',
  );
  $items['administration/sitesetup/moduleinfo/saml/%ctools_js/addedit'] = array(
  		'title' => 'Edit SAML Details',
  		'page callback' => 'SamlAddEdit',
  		'access callback' => 'user_access',
  		'page arguments' => array(4),
  		'access arguments' => array('Module Info Admin Perm'),
  		'type' => MENU_CALLBACK,
  		'file' => 'exp_sp_administration_module_saml.inc',
  );
   $items['administration/sitesetup/moduleinfo/cloudfiles/%ctools_js/addedit'] = array(
  		'title' => 'Edit Cloud Files Details',
  		'page callback' => 'cloud_files_AddEdit',
  		'access callback' => 'user_access',
  		'page arguments' => array(4,5),
  		'access arguments' => array('Module Info Admin Perm'),
  		'type' => MENU_CALLBACK,
  		'file' => 'exp_sp_administration_module_info_cloud_files.inc',
  );
   $items['administration/sitesetup/moduleinfo/salesforceintegration/%ctools_js/addedit'] = array(
  		'title' => 'Edit SalesForce Settings',
  		'page callback' => 'salesforce_integration_AddEdit',
  		'access callback' => 'user_access',
  		'page arguments' => array(4,5),
  		'access arguments' => array('Module Info Admin Perm'),
  		'type' => MENU_CALLBACK,
  		'file' => 'exp_sp_administration_module_info_salesforce_integration.inc',
  );
   $items['administration/sitesetup/moduleinfo/userreg/%ctools_js'] = array(
	    		'title' => 'User Registration Details',
	    		'page callback' => 'exp_sp_administration_userreg_display_addedit_form',
	    		'page arguments' => array(3,4),
	    		'access callback' => 'user_access',
	    		'access arguments' => array('Module Info Admin Perm'),
	    		'type' => MENU_CALLBACK,
	    		'file' => 'exp_sp_administration_module_info_userreg.inc',
    );
  $items['administration/sitesetup/moduleinfo/adfs/%ctools_js/addedit'] = array(
  		'title' => 'Edit ADFS Details',
  		'page callback' => 'AdfsAddEdit',
  		'access callback' => 'user_access',
  		'page arguments' => array(4),
  		'access arguments' => array('Module Info Admin Perm'),
  		'type' => MENU_CALLBACK,
  		'file' => 'exp_sp_administration_module_adfs.inc',
  );
  
  $items['administration/sitesetup/moduleinfo/userpoints/%ctools_js/addedit'] = array(
    'title' => 'Edit User Points Details',
    'page callback' => 'exp_sp_administration_userpoints_display_form',
    'access callback' => 'user_access',
    'page arguments' => array(4),
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file path' => drupal_get_path('module', 'exp_sp_admin_userpoints'),
    'file' => 'exp_sp_admin_userpoints.inc'
  );
  
  $items['administration/sitesetup/moduleinfo/webex/%ctools_js'] = array(
  		'title' => 'Edit WebEx Details',
  		'page callback' => 'exp_sp_administration_webex_display_addedit_form',
  		'access callback' => 'user_access',
  		'page arguments' => array(4),
  		'access arguments' => array('Module Info Admin Perm'),
  		'type' => MENU_CALLBACK,
  		'file' => 'exp_sp_administration_module_info_webex.inc'
  );

  $items['administration/sitesetup/moduleinfo/metatag/%ctools_js/addedit'] = array(
  		'title' => 'Meta Tag',
  		'page callback' => 'exp_sp_administration_metatag_addedit',
  		'page arguments' => array(4),
  		'access callback' => 'user_access',
  		'access arguments' => array('Module Info Admin Perm'),
  		'type' => MENU_CALLBACK,
  		'file' => 'exp_sp_administration_module_info_metatag.inc'
  );
     $items['administration/sitesetup/moduleinfo/share/%ctools_js'] = array(
	   	'title' => 'share',
	   	'page callback' => 'exp_sp_administration_share_display_addedit_form',
	   	'page arguments' => array(3,4),
	    'access callback' => 'user_access',
	    'access arguments' => array('Module Info Admin Perm'),
	    'type' => MENU_CALLBACK,
	    'file' => 'exp_sp_administration_module_info_share.inc',
  );

	$items['administration/sitesetup/moduleinfo/uspsapi/%ctools_js/addedit'] = array(
		 'title' => 'Edit User Address Validation',
		 'page callback' => 'user_addrValidation_AddEdit',
		 'access callback' => 'user_access',
		 'page arguments' => array(4,5),
		 'access arguments' => array('Module Info Admin Perm'),
		 'type' => MENU_CALLBACK,
		 'file' => 'exp_sp_administration_module_info_uspsapi.inc',
 );

 
   $items['administration/sitesetup/moduleinfo/trainingicons/%ctools_js/addedit'] = array(
    'title' => 'Training Icons',
    'page callback' => 'training_icons_AddEdit',
    'page arguments' => array(4),
    'access callback' => 'user_access',
    'access arguments' => array('Module Info Admin Perm'),
    'type' => MENU_CALLBACK,
    'file' => 'exp_sp_administration_module_info_training_icons.inc'
  );

  return $items;
  } catch (Exception $ex) {
  	watchdog_exception('exp_sp_administration_module_info_menu', $ex);
  	expertusErrorThrow($ex);
  }
}

/**
 * Implementation of hook_permission().
 */
function exp_sp_administration_module_info_permission() {
	try {
  return array(
    'Module Info Admin Perm' => array(
      'title' => t('Module Info Admin Perm')
    ),
    'Site Setup Admin Configure Perm' => array(
      'title' => t('Site Setup Admin Configure Perm')
    ),    
  );
  } catch (Exception $ex) {
  	watchdog_exception('exp_sp_administration_module_info_permission', $ex);
  	expertusErrorThrow($ex);
  }
}

?>