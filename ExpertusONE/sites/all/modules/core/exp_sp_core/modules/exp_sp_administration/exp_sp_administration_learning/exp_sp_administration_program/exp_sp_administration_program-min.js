var tpTabDoubleClick=false;var tpTabDoubleClickData=null;(function(a){Drupal.behaviors.trainingPlanAdminFieldsBehavior={attach:function(c,b){try{a(".addedit-edit-expires-in-value:not(.addaddedit-edit-expires-in-value-processed)").addClass("addaddedit-edit-expires-in-value-processed").each(function(){var e=a(this).data("default-text");if(a(this).val()==null||a(this).val()==undefined||a(this).val()==""||a(this).val()==e){a(this).val(e);a(this).removeClass("narrow-search-filterset-daterange-nonempty");a(this).addClass("narrow-search-filterset-daterange-empty");}a(this).focus(function(f){if(a(this).val()==e){a(this).val("");a(this).removeClass("narrow-search-filterset-daterange-empty");a(this).addClass("narrow-search-filterset-daterange-nonempty");}});a(this).blur(function(f){if(a(this).val()==e||a(this).val()==""){a(this).val(e);a(this).removeClass("narrow-search-filterset-daterange-nonempty");a(this).addClass("narrow-search-filterset-daterange-empty");}});a(this).change(function(f){if(a(this).val()==""||a(this).val()==e){a(this).val(e);
a(this).removeClass("narrow-search-filterset-daterange-nonempty");a(this).addClass("narrow-search-filterset-daterange-empty");}else{a(this).removeClass("narrow-search-filterset-daterange-empty");a(this).addClass("narrow-search-filterset-daterange-nonempty");}});});a(".addedit-edit-tpattachinggroupname:not(.addedit-edit-tpattachinggroupname-processed)").addClass("addedit-edit-tpattachinggroupname-processed").each(function(){var e="Enter Group Name";if(a(".addedit-edit-tpattachinggroupname").val()==null||a("#edit-tpattachinggroupname").val()==undefined||a("#edit-tpattachinggroupname").val()==""||a("#edit-tpattachinggroupname").val()==e){a("#edit-tpattachinggroupname").val(e);a("#edit-tpattachinggroupname").removeClass("narrow-search-filterset-daterange-nonempty");a("#edit-tpattachinggroupname").addClass("narrow-search-filterset-daterange-empty");}a(".addedit-edit-tpattachinggroupname").focus(function(f){if(a(".addedit-edit-tpattachinggroupname").val()==e){a(".addedit-edit-tpattachinggroupname").val("");
a(".addedit-edit-tpattachinggroupname").removeClass("narrow-search-filterset-daterange-empty");a(".addedit-edit-tpattachinggroupname").addClass("narrow-search-filterset-daterange-nonempty");}});a(".addedit-edit-tpattachinggroupname").blur(function(f){if(a(".addedit-edit-tpattachinggroupname").val()==e||a(this).val()==""){a(".addedit-edit-tpattachinggroupname").val(e);a(".addedit-edit-tpattachinggroupname").removeClass("narrow-search-filterset-daterange-nonempty");a(".addedit-edit-tpattachinggroupname").addClass("narrow-search-filterset-daterange-empty");}});a(".addedit-edit-tpattachinggroupname").change(function(f){if(a(".addedit-edit-tpattachinggroupname").val()==""||a(".addedit-edit-tpattachinggroupname").val()==e){a(".addedit-edit-tpattachinggroupname").val(e);a(".addedit-edit-tpattachinggroupname").removeClass("narrow-search-filterset-daterange-nonempty");a(".addedit-edit-tpattachinggroupname").addClass("narrow-search-filterset-daterange-empty");}else{a(".addedit-edit-tpattachinggroupname").removeClass("narrow-search-filterset-daterange-empty");
a(".addedit-edit-tpattachinggroupname").addClass("narrow-search-filterset-daterange-nonempty");}});});add_module_toggle();}catch(d){}}};})(jQuery);function add_module_toggle(){var a=$("#page-container-tabs-prg .module-course-lists:last .nonlist").size();if(a==0){$("#add-module-list").css("display","block");}else{$("#add-module-list").css("display","none");}$("#tab_count").val($("#program_attach_tabs .admin-module-navigation .tp-module-tab").size());}function editGroupDetails(c){try{var b=$("#program-group-course-addedit-form-"+c).is(":visible");$("#showform").css("display","none");$("#view-tp-list-wrapper .addedit-form-wrapper").hide();$("#program-trainingplan-addedit-form-details").find(".edit-class-list").css({background:"#ffffff"});$(".edit-class-list").find(".admin-edit-button").css("display","block");if(b==true){$("#program-group-course-addedit-form-"+c).hide();}else{$("#program-group-course-addedit-form-"+c).show();$("#delete_all_"+c).find(".edit-class-list").css({"background-color":"#D7ECF9"});
$("#delete_all_"+c).find(".admin-edit-button").css("display","none");}$("#edit-newtheme-cancel-link").click();}catch(a){}}function showCourseForm(){try{var a=$("#showform").is(":visible");$("#showform").css("display","block");$("#view-tp-list-wrapper .addedit-form-wrapper").hide();$("#program-course-attaching-from-addedit-form .addedit-form-wrapper").hide();$("#program-trainingplan-addedit-form-details").find(".edit-class-list").css({background:"#ffffff"});$(".edit-class-list").find(".admin-edit-button").css("display","block");if(a==true){$("#showform").css("display","none");}else{$("#add-course-form-details").css("display","block");$("#showform").css("display","block");}$("#edit-newtheme-cancel-link").click();}catch(b){}}function remove_success_messages(){try{$("#view-tp-list-wrapper .messages").remove();}catch(a){}}function remove_error_messages(){try{$("#view-tp-list-wrapper .error").remove();$("#view-tp-list-wrapper .messages").remove();$("#no-courses-list").hide();}catch(a){}}function delete_operation(){try{$("#view-tp-list-wrapper .messages").remove();
$("#view-tp-list-wrapper .error").remove();$("#showform").css("display","none");}catch(a){}}function onLoadChangeGreyout(){try{var a=$("#hiddengptype").val();$("#search_all_course_type-hidden").val(a);$(".ac_results").css("display","none");if($("#tpattchedcoursename-autocomplete").val()==""){if(a=="grpnametype"){$("#tpattchedcoursename-autocomplete").val(Drupal.t("LBL036")+" "+Drupal.t("Group"));}else{if(a=="crstit"){$("#tpattchedcoursename-autocomplete").val(Drupal.t("LBL088")+" "+Drupal.t("LBL083"));}else{if(a=="crscode"){$("#tpattchedcoursename-autocomplete").val(Drupal.t("LBL036")+" "+Drupal.t("LBL096"));}}}}if($("#hiddengpval").val()==Drupal.t("LBL036")+" "+Drupal.t("Group")||$("#hiddengptype").val()=="grpnametype"){$("#tpattchedcoursename-autocomplete_hidden").val(Drupal.t("LBL036")+" "+Drupal.t("Group"));}var b=$("#tp-admin-crs-search-textsearch").val();if(b==Drupal.t("LBL088")+" "+Drupal.t("LBL083")||b==Drupal.t("LBL036")+" "+Drupal.t("Group")||b==Drupal.t("LBL036")+" "+Drupal.t("LBL096")){$("#tp-admin-crs-search-textsearch").addClass("input-field-grey");
}else{$("#tp-admin-crs-search-textsearch").removeClass("input-field-grey");}}catch(c){}}function getTpSearchType(){try{var a=$("#search_all_course_type-hidden").val();$("#hiddengptype").val(a);}catch(b){}}function cancelGroupDetails(g){try{var a=$("#hidden_group_name_"+g).val();var c=$("#hidden_sequence_no_"+g).val();var b=$("#hidden_is_req_"+g).val();$("#edit-attachgroupname-"+g).val(a);$("#edit-sequenceno-"+g).val(c);if(b==1){$("#edit-is-required-"+g).attr("checked","checked");}else{$("#edit-is-required-"+g).removeAttr("checked");}$("#view-tp-list-wrapper .messages").remove();var f=$("#program-group-course-addedit-form-"+g).is(":visible");$("#showform").css("display","none");$("#view-tp-list-wrapper .addedit-form-wrapper").hide();$("#program-trainingplan-addedit-form-details").find(".edit-class-list").css({background:"#ffffff"});$(".edit-class-list").find(".admin-edit-button").css("display","block");if(f==true){$("#program-group-course-addedit-form-"+g).hide();}else{$("#program-group-course-addedit-form-"+g).show();
$("#delete_all_"+g).find(".edit-class-list").css({"background-color":"#D7ECF9"});}$("#edit-newtheme-cancel-link").click();}catch(d){}}function editTPDetailsView(){try{$("#program-trainingplan-addedit-form-details").find(".edit-class-list").css({background:"#ffffff"});$(".edit-class-list").find(".admin-edit-button").css("display","block");$("#view-tp-list-wrapper .addedit-form-wrapper").hide();$("#add-course-form-details").hide();}catch(a){}}function attachToggle(a){try{closeQtip("","");$("#add-group-popup").hide();$("."+a).toggle();if(a=="text-filter-box-class"){$("#search-dropdwn-list-course").show();}onLoadChangeGreyout();}catch(b){}}function courseGroupSave(c){var b=$("#group_topic_title").val();var d=$("#program_attach_tabs .ui-state-active").attr("id");var a=d.split("-");url="?q=administration/learning/program/group-save/"+c+"/"+a[2]+"/"+b;$.ajax({url:url,async:false,success:function(e){$("#atach-course-hidden").click();}});}function searchCourseTP(d,a){try{this.currTheme=Drupal.settings.ajaxPageState.theme;
if(a==undefined){a=true;}if($("#tp-admin-text-filter-box").css("display")=="none"&&a==true){$("#tp-admin-text-filter-box").css("display","block");$("#search-dropdwn-list-course").css("display","block");}else{var g=$("#program_attach_tabs .ui-state-active").attr("id");var c=g.split("-");$("#tp-admin-text-filter-box").css("display","none");$("#search-dropdwn-list-course").css("display","none");var b=$("#tp-admin-crs-search-textsearch").val();$("#hiddengpval").val(b);$("#mapped_module_id").val(c[2]);$("#hiddengptype-"+c[2]).val($("#search_all_course_type-hidden").val());$("#hiddengpval-"+c[2]).val(b);$("#atach-course-hidden").click();}}catch(f){}}function moduleTabDblClick(b,a){tpTabDoubleClick=true;$("#root-admin").data("narrowsearch").getInlineEditAttachedCourse(b,a);}function moduleTabclick(a){setTimeout(function(){if(tpTabDoubleClick==false){$('input[id="mapped_module_id"]').attr("value",a);$(".attach-grp-links").css("display","none");$(".attach-module-link").css("display","none");closeQtip("","");
var d=$('input[name="mapped_program_id"]').val();var c=$("#hiddengptype-"+a).val()==""?"crstit":$("#hiddengptype-"+a).val();$("#search_all_course_type-hidden").val(c);var b=Drupal.t("LBL083");switch(c){case"crstit":b=Drupal.t("LBL083");break;case"grpnametype":b=Drupal.t("Group");break;case"crscode":b=Drupal.t("LBL096");break;}moreCourseSearchTypeText(b,c);if($("#hiddengpval-"+a).val()!=""){$("#tp-admin-crs-search-textsearch").val($("#hiddengpval-"+a).val());}$("#tp-admin-text-filter-box").hide();url="?q=administration/module/enroll-cnt/"+d+"/"+a+"/ajax";$.ajax({url:url,async:false,success:function(e){if(e>0){$(".clsdisbleattachcourse").show();$(".clsenableattachcourse").hide();}else{$(".clsdisbleattachcourse").hide();$(".clsenableattachcourse").show();$("#add-new-coursetoTp-"+d).show();$("#list-options-tp").show();}}});}},100);}function scorllModTabPrev(){try{if($("#program_attach_tabs .first-reached").size()>0){return"";}var f=false;EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.createLoader("page-container-tabs-prg");
var c=$("#program_attach_tabs .admin-module-navigation .ui-corner-top").size();var h=$("#program_attach_tabs .visible-main-tab").size();var a=$("#program_attach_tabs .visible-main-tab:first").index();var b=$("#program_attach_tabs .admin-module-navigation li:eq(1)").attr("class").indexOf("visible-main-tab")!=-1?true:false;var d=$("#total-modules").val();if(c>h&&b==false){$("#program_attach_tabs ul li:eq("+(a-1)+")").removeClass("hidden-main-tab");$("#program_attach_tabs ul li:eq("+(a-1)+")").addClass("visible-main-tab");$("#program_attach_tabs .visible-main-tab:last").removeClass("visible-main-tab").addClass("hidden-main-tab");if($("#program_attach_tabs .admin-module-navigation li:eq(1)").attr("class").indexOf("visible-main-tab")!=-1&&c==d){$(".first-arrow").addClass("first-reached ui-state-disabled");}}else{if(c==h&&b==false&&c<d){$("#program_attach_tabs ul li:eq(1)").removeClass("hidden-main-tab");$("#program_attach_tabs ul li:eq(1)").addClass("visible-main-tab");$("#program_attach_tabs .visible-main-tab:last").removeClass("visible-main-tab").addClass("hidden-main-tab");
}else{if(c<d){EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.createLoader("attach_course_dt");f=true;$("#tab-left-arrow").click();}}}if(f==false){changeArrowStatus("prev");}EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("page-container-tabs-prg");}catch(g){}}function scorllModTabNext(){try{EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.createLoader("page-container-tabs-prg");var c=$("#program_attach_tabs .admin-module-navigation .tp-module-tab").size();var a=$("#program_attach_tabs .visible-main-tab:last").index();var b=$("#program_attach_tabs .admin-module-navigation .tp-module-tab:last");if(a==b){EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("page-container-tabs-prg");return"";}if(c>a){$("#program_attach_tabs ul li:eq("+(a+1)+")").removeClass("hidden-main-tab");$("#program_attach_tabs ul li:eq("+(a+1)+")").addClass("visible-main-tab");$("#program_attach_tabs .visible-main-tab:first").removeClass("visible-main-tab").addClass("hidden-main-tab");$(".first-arrow").removeClass("first-reached");
}changeArrowStatus("next");EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("page-container-tabs-prg");}catch(d){}}function changeArrowStatus(c){if(parseInt($("#total-modules").val())<=4){$(".first-arrow").css("display","none");$(".last-arrow").css("display","none");}else{$(".first-arrow").css("display","block");$(".last-arrow").css("display","block");}var a=$("#program_attach_tabs .ui-state-active").index();$("#program_attach_tabs .last-arrow a").removeClass("clspatharraowenabled");if($("#program_attach_tabs .first-arrow").next("li").hasClass("visible-main-tab")){$("#program_attach_tabs .first-arrow").addClass("ui-state-disabled");}else{$("#program_attach_tabs .first-arrow").removeClass("ui-state-disabled");}if($("#program_attach_tabs .last-arrow").prev("li").hasClass("visible-main-tab")){$("#ctools-modal-content #program_attach_tabs .admin-module-navigation li.last-arrow").css("opacity","0.35");$("#program_attach_tabs .last-arrow").addClass("ui-state-disabled");}else{$("#ctools-modal-content #program_attach_tabs .admin-module-navigation li.last-arrow").css("opacity","1");
$("#program_attach_tabs .last-arrow").removeClass("ui-state-disabled");}var d=null;$("#program_attach_tabs .visible-main-tab").each(function(){if($(this).attr("class").indexOf("ui-state-active")!=-1){d=$(this).index();}});if(d==null){if(c=="prev"){a=a-1;if($("#program_attach_tabs li:eq("+a+")").hasClass("visible-main-tab")){d=a;}else{d=$("#program_attach_tabs .visible-main-tab:last").index();}}else{if(c=="next"){a=a+1;if($("#program_attach_tabs li:eq("+a+")").hasClass("visible-main-tab")){d=a;}else{d=$("#program_attach_tabs .visible-main-tab:first").index();}}}}$("#program_attach_tabs li:eq("+d+") a").click();var b=$("#program_attach_tabs .admin-module-navigation .ui-corner-top").size();if(b!=$("#total-modules").val()){$(".first-arrow").removeClass("ui-state-disabled");}}$(document).ready(function(){});function resetMainTab(){try{var b=$("#program_attach_tabs .selected").index();var d=$("#program_attach_tabs .visible-main-tab:last").index();if($("#program_attach_tabs .selected").css("display")=="none"){for(var a=d;
a<b;a++){scorllModTabNext();}}}catch(c){}}function onloadsearch(){var b=$("input[name=mapped_program_id]").val();var c=$("#program_attach_tabs .ui-state-active").attr("id");var a=c.split("-");$("#search_leaderboard-users_txt").autocomplete("/?q=administration/learning/program/course-autocomplete/"+b+"/"+a[2]+"/",{extraParams:{exclude_logged_user:1,search_by_username:1},minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false});}function loadCustomPopupLeft(b,a){try{var d=this;var f="";a="?q="+a+"/"+$("#tab_count").val()+"/"+$('#attach_course_dt form input[name="form_build_id"]').val();$.ajax({type:"GET",url:a,data:"",success:function(h){var g="";var e="";g+='<div class="qtip-tip-point-left"></div>';g+='<table cellspacing="0" cellpadding="0" id="bubble-face-table" class="bubble-table-container">';g+="<tbody>";g+="<tr>";g+='<td class="bubble-tl"></td>';g+='<td class="bubble-t"></td>';g+='<td class="bubble-tr"><a onclick="closeQtip(\'\',\'\');" class="qtip-close-button-visible" id="admin-bubble-close"></a></td>';
g+="</tr>";g+="<tr>";g+='<td class="bubble-cl"></td>';g+='<td valign="top" class="bubble-c">';g+='<div class="module-scroll-pane-container">';g+='<div id="show_expertus_message"></div>';g+=h.render_content_main;g+='<td class="bubble-cr"></td>';g+="</tr>";g+="<tr>";g+='<td class="bubble-bl"></td>';g+='<td class="bubble-b">';g+='<table width="100%" cellspacing="0" cellpadding="0">';g+="<tbody>";g+="<tr>";g+='<td class="bubble-blt"></td>';g+='<td class="bubble-blr"></td>';g+="</tr>";g+="</tbody>";g+="</table>";g+="</td>";g+='<td class="bubble-br"></td>';g+="</tr>";g+="</tbody>";g+="</table>";$("#add_new_module_popup").html(g);$("#add_new_module_popup").show();$(".module-scroll-pane").jScrollPane();$.extend(true,Drupal.settings,h.drupal_settings);Drupal.attachBehaviors();vtip();}});}catch(c){}}function confirmationForMdlDel(b,f,d,c){var h="";var e="";e="confirmationForMdlDel";$("#delete-msg-wizard").remove();var g="";g+='<div id="delete-msg-wizard" style="display:none; padding: 0px;">';g+='<table width="100%" cellpadding="0" cellspacing="0" border="0" valign="center">';
g+='<tr><td style="padding: 10px 24px;" class="commanTitleAll">'+Drupal.t("MSG357")+' "'+d+'"?</td></tr>';g+="</table>";g+="</div>";$("body").append(g);var i={};i[Drupal.t("LBL109")]=function(){$(this).dialog("destroy");$(this).dialog("close");$("#delete-msg-wizard").remove();};if(availableFunctionalities.exp_sp_esignature!=undefined&&availableFunctionalities.exp_sp_esignature!=""){var a={popupDiv:"delete-object-dialog",esignFor:e,objectId:b,moduleId:f,objectType:c};i[Drupal.t("Yes")]=function(){$.fn.getNewEsignPopup(a);};}else{i[Drupal.t("Yes")]=function(){deleteModuleCall(b,f,c);};}$("#delete-msg-wizard").dialog({position:[(getWindowWidth()-400)/2,200],bgiframe:true,width:300,resizable:false,minHeight:"auto",modal:true,title:Drupal.t("LBL749"),buttons:i,closeOnEscape:false,draggable:false,zIndex:10005,overlay:{opacity:0.9,background:"black"}});$(".ui-dialog").wrap("<div id='tp-delete-module-dialog'></div>");$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(0)").addClass("removebutton").end();
$(".removebutton").text(Drupal.t("No"));$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").before('<div class="admin-save-button-left-bg"></div>');$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").addClass("admin-save-button-middle-bg").end();$(".ui-dialog-buttonpane .ui-dialog-buttonset button:eq(1)").after('<div class="admin-save-button-right-bg"></div>');$("#delete-msg-wizard").show();$(".ui-dialog-titlebar-close").click(function(){$("#delete-msg-wizard").remove();});$(".admin-save-button-middle-bg").click(function(){$("#delete-msg-wizard").remove();});changeDialogPopUI();}function deleteModuleCall(b,j,f){var h=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;var a=100;var k={};var c=$("#page-container-tabs-prg #module-list-"+j).attr("id");var l=$("#page-container-tabs-prg #module-list-"+j).index();var d=$("#program_attach_tabs .ui-state-active").attr("id");var e=$("#program_attach_tabs .ui-state-active").index();var m=$("#program_attach_tabs .admin-module-navigation .tp-module-tab").size();
m=$(".first-arrow").size()>0?m:m-1;var n=$("#total-modules").val();var g=0;$("#program_attach_tabs .admin-module-navigation .visible-main-tab").each(function(){k[g]={};k[g]["id"]=$(this).attr("id");k[g]["idx"]=$(this).index();k[g]["sel"]=$(this).attr("class").indexOf("ui-state-active")!=-1?1:0;g++;});g--;if(m<=n&&$(".first-arrow").size()>0&&$("#program_attach_tabs .admin-module-navigation .visible-main-tab:first").index()==1){scorllModTabPrev();a=1500;}setTimeout(function(){url="?q=administration/learning/program/delete-module/"+b+"/"+j+"/"+f;$.ajax({url:url,async:false,success:function(o){var p;var i;if(a==1500){$("#program_attach_tabs .admin-module-navigation .visible-main-tab").removeClass("visible-main-tab").addClass("hidden-main-tab");m=$("#program_attach_tabs .admin-module-navigation .tp-module-tab").size();$.each(k,function(r,q){var s=$("#"+q.id).index();if(q.id!=c){$("#"+q.id).removeClass("hidden-main-tab").addClass("visible-main-tab");}else{l=s;}if(q.sel==1){e=s;}q.idx=s;});}if(l==m){i=m-1;
}else{i=(c==d)?e:e-1;}i=$(".first-arrow").size()>0?i-1:i;if(k[g].idx<m){p=k[g].idx+1;}else{p=k[0].idx-1;}p=p<=0?1:p;$("#program_attach_tabs .admin-module-navigation .ui-corner-top:eq("+(p-1)+")").removeClass("hidden-main-tab").addClass("visible-main-tab");$("#page-container-tabs-prg #module-list-"+j).remove();$("#page-container-tabs-prg #module-course-list-"+j).remove();$("#page-container-tabs-prg").tabs("destroy");$("#page-container-tabs-prg").tabs({selected:i});$("#total-modules").val(parseInt($("#total-modules").val())-1);changeArrowStatus();h.destroyLoader("page-container-tabs-prg");}});add_module_toggle();},a);}function loadCustomPopupRight(d,b,a){try{var g=this;var i="";var h=$("#program_attach_tabs .ui-state-active").attr("id");var c=h.split("-");b="?q="+b+"/"+c[2];$.ajax({type:"GET",url:b,data:"",success:function(j){var e="";e+='<div class="qtip-tip-point-right"></div>';e+='<table cellspacing="0" cellpadding="0" id="bubble-face-table" class="bubble-table-container" style="z-index:200">';
e+="<tbody>";e+="<tr>";e+='<td class="bubble-tl"></td>';e+='<td class="bubble-t"></td>';e+='<td class="bubble-tr"></td>';e+="</tr>";e+="<tr>";e+='<td class="bubble-cl"></td>';e+='<td valign="top" class="bubble-c">';e+='<div id="show_expertus_message"></div>';e+=j.render_content_main;e+="</td>";e+='<td class="bubble-cr"></td>';e+="</tr>";e+="<tr>";e+='<td class="bubble-bl"></td>';e+='<td class="bubble-b">';e+='<table width="100%" cellspacing="0" cellpadding="0">';e+="<tbody>";e+="<tr>";e+='<td class="bubble-blt"></td>';e+='<td class="bubble-blr"></td>';e+="</tr>";e+="</tbody>";e+="</table>";e+="</td>";e+='<td class="bubble-br"></td>';e+="</tr>";e+="</tbody>";e+="</table>";$("#"+a).html(e);$("#"+a).show();$("#tp-list-search-container").find("#objectTypeSearch").css("z-index","0");Drupal.attachBehaviors();}});}catch(f){}}(function(a){a.fn.resetEditGroupDetails=function(g){try{var b=a("#hidden_group_name_"+g).val();var d=a("#hidden_sequence_no_"+g).val();var c=a("#hidden_is_req_"+g).val();a("#edit-attachgroupname-"+g).val(b);
a("#edit-sequenceno-"+g).val(d);if(c==1){a("#edit-is-required-"+g).attr("checked","checked");}else{a("#edit-is-required-"+g).removeAttr("checked");}}catch(f){}};a.fn.updateEditGroupDetails=function(g){try{var b=a("#edit-attachgroupname-"+g).val();var d=a("#edit-sequenceno-"+g).val();var c=a("#edit-is-required-"+g).val();a("#hidden_group_name_"+g).val(b);a("#hidden_sequence_no_"+g).val(d);if(a("#edit-is-required-"+g).is(":checked")==true){a("#hidden_is_req_"+g).val(1);}else{a("#hidden_is_req_"+g).val(0);}}catch(f){}};})(jQuery);function changeTrpDeliveryType(b){try{var a=$(b).attr("id");var c=$("#"+a).val();if(c=="cre_sys_obt_trn"||c=="cre_sys_obt_crt"){$("#admin-trp-delivery-data-part").show();if(c=="cre_sys_obt_crt"){$("#admin-trp-delivery-data-part-expires").show();$("#admin-trp-delivery-data-part-compdate").hide();}else{$("#admin-trp-delivery-data-part-expires").hide();$("#admin-trp-delivery-data-part-compdate").show();}}else{$("#admin-trp-delivery-data-part").hide();}}catch(d){}}function moreCourseSearchTypeText(d,a){$("#select-list-course-dropdown").text(d);
$("#search_all_course_type-hidden").val(a);var b=$("#search_all_course_type-hidden").val();$("#hiddengpval").val(d);$("#hiddengptype").val(a);var c;if(b=="crstit"){c=Drupal.t("LBL088")+" "+Drupal.t("LBL083");}else{c=Drupal.t("LBL036")+" "+d;}$("#tp-admin-crs-search-textsearch").val(c);$("#tpattchedcoursename-autocomplete_hidden").val(c);$("#tp-admin-crs-search-textsearch").addClass("input-field-grey");}function onblurInputSearch(a){if($("#hiddengpval").val()==Drupal.t("LBL036")+" "+Drupal.t("Group")||$("#hiddengptype").val()=="grpnametype"){$("#tpattchedcoursename-autocomplete_hidden").val(Drupal.t("LBL036")+" "+Drupal.t("Group"));}if($("#hiddengpval").val()==Drupal.t("LBL036")+" "+Drupal.t("LBL096")||$("#hiddengptype").val()=="crscode"){$("#tpattchedcoursename-autocomplete_hidden").val(Drupal.t("LBL036")+" "+Drupal.t("LBL096"));}if(a.value==""){a.value=$("#tpattchedcoursename-autocomplete_hidden").val();a.style.color="#cccccc";a.style.fontStyle="normal";}if(a.value!=""&&a.value!=Drupal.t("LBL088")+" "+Drupal.t("LBL083")&&a.value!=Drupal.t("LBL036")+" "+Drupal.t("Group")&&a.value!=Drupal.t("LBL036")+" "+Drupal.t("LBL096")){a.style.color="#333333";
a.style.fontStyle="normal";}if(a.value==Drupal.t("LBL088")+" "+Drupal.t("LBL083")||a.value==Drupal.t("LBL036")+" "+Drupal.t("Group")||a.value==Drupal.t("LBL036")+" "+Drupal.t("LBL096")){a.style.fontStyle="normal";}}function onfocusInputSearch(a){if($("#hiddengpval").val()==Drupal.t("LBL036")+" "+Drupal.t("Group")){$("#tpattchedcoursename-autocomplete_hidden").val(Drupal.t("LBL036")+" "+Drupal.t("Group"));}if(a.value==Drupal.t("LBL088")+" "+Drupal.t("LBL083")||a.value==Drupal.t("LBL036")+" "+Drupal.t("Group")||a.value==Drupal.t("LBL036")+" "+Drupal.t("LBL096")){a.value="";a.style.color="#333333";a.style.fontStyle="normal";}}function updInput(a){$("#add-module-table tr.selected").removeClass("selected");$("#add_module_"+a).addClass("selected");$('input[id="module_sel"]').attr("value",a);}function sequenceDragAndDropPrg(b,d,c,f,a){try{if(d=="attach_course"){$("#"+b).sortable({handle:".dragndrop-selectable-item",cursor:"crosshair",connectWith:"ul",dropOnEmpty:true});}else{$("#"+b).sortable({handle:".dragndrop-selectable-item",cursor:"crosshair",connectWith:"div"});
}$("#"+b).droppable({drop:function(i,l){var e=new Array();var k=new Array();var h=0;var m=EXPERTUS_SMARTPORTAL_AbstractDetailsWidget;m.createLoader(c);setTimeout(function(){if($("#"+c).find("li.drag-grp-head").length>0){$("#"+c).find("li.drag-grp-head").each(function(){var s=$(this).attr("id");var r=$(this).attr("data");var p=s.split("-");var q=0;n=new Array();$("#"+s).find("ul li.draggable-list").each(function(){var v=$(this).attr("id");var u=v.split("-");n[q]=u[0];q++;});e[h]={};e[h].GroupId=r;e[h].GroupCode=p[2];e[h].CrsId=n;h++;if($(this).find("li ul li").length==0&&$(this).find(".grp-delete").length>0){if($(this).find(".grp-delete").attr("class").indexOf("recertify-grp-delete-disable")!=-1){var t=$(this).find(".grp-delete").attr("param");$(this).find(".grp-delete").attr("class","attach-course-delete grp-delete recertify-grp-delete");$(this).find(".grp-delete").replaceWith($(this).find(".grp-delete")[0].outerHTML.replace("param=","onclick="));$(this).find(".grp-delete").bind("click",function(){t;
});}}if($(this).find("li ul li").length>0&&$(this).find(".grp-delete").length>0){if($(this).find(".grp-delete").attr("class").indexOf("recertify-grp-delete-disable")){$(this).find(".grp-delete").attr("class","attach-course-delete grp-delete recertify-grp-delete-disable");$(this).find(".grp-delete").replaceWith($(this).find(".grp-delete")[0].outerHTML.replace("onclick=","param="));$(this).find(".grp-delete").unbind("click");}}});}else{if($("#"+c).find("li.draggable-list").length>0){var j=0;var n=new Array();$("#"+c).find("li.draggable-list").each(function(){var q=$(this).attr("id");var p=q.split("-");n[j]=p[0];j++;});e[h]={};e[h].GroupId=0;e[h].GroupCode="";e[h].CrsId=n;}}m.createLoader(c);var o=EXPERTUS.SMARTPORTAL.AbstractManager.convertJsonToString(e);var j=1;url="?q=administration/sequence-drag-drop-prg/"+o+"/"+f+"/"+a;$.ajax({type:"POST",url:url,async:false,success:function(s){m.destroyLoader(c);var t=e.filter(function(u){return u!=="";});var p=($("#"+b+" li.draggable-list").length)-1;
var q=t.length;if(p==q){var r=0;for(r=0;r<q;r++){$("#"+b+" li[id="+t[r]+"]").removeClass("odd-even-row-highlighter");if(r%2==1){$("#"+b+" li[id="+t[r]+"]").addClass("odd-even-row-highlighter");}}}}});},500);}});}catch(g){}}function fillSurveyPath(d,b){if(b=="roster"){var c=$("select#certifcatepath option:selected").val();var a=$("select#certifcatepath option:selected").attr("name");$('input[name="selected_enroll_path"]').val(c);$("#recertifyandsave_"+d).click();}else{var c=$("select#certifcatepath option:selected").val();$('input[name="hidden_certificate_path_'+d+'"]').val(c);$("#add_new_"+d).click();}}function renderCourseList(b){try{$("#course-table-"+b).toggle();var d=$("#detail-code-expand-collapse-"+b);var a=$("#detail-code-expand-collapse-"+b).attr("class");if(a=="title_close"){d.removeClass("title_close");d.addClass("title_open");}else{if(a=="title_open"){d.removeClass("title_open");d.addClass("title_close");}}if($("#view-scroll-wrapper").length>0&&$("#view-scroll-wrapper").data("jsp")!==undefined){$("#view-scroll-wrapper").data("jsp").reinitialise();
}}catch(c){}}function certificatePathQTip(b,a){if(a=="survey"){$("#survey_tp_container_"+b).show();}else{if(a=="roster"){$("#visible-roster-path-"+b).click();}else{$("#assessment_detail_container_"+b).show();}}}(function(a){a.fn.validateDeliveryPart=function(b){try{if(b=="cre_sys_obt_crt"){a("#admin-trp-delivery-data-part").show();a("#admin-trp-delivery-data-part-compdate").hide();a("#admin-trp-delivery-data-part-expires").show();}else{if(b=="cre_sys_obt_trn"){a("#admin-trp-delivery-data-part").show();a("#admin-trp-delivery-data-part-compdate").show();a("#admin-trp-delivery-data-part-expires").hide();}}}catch(c){}};})(jQuery);(function(a){try{a.fn.setNotifyContainerWidth=function(){vtip();a(".catalog-course-basic-addedit-form-container").css("padding-left","15px");a(".catalog-course-basic-addedit-form-container").css("width","625px");a(".addedit-form-cancel-container-actions").css("margin-right","12px");};}catch(b){}})(jQuery);$("body").click(function(a){try{if(a.target.id!="pub-unpub-action-btn"){$(".catalog-pub-add-list").hide();
}var c=$(a.target).parents("#tp-admin-text-filter-box");if(c.length==0&&a.target.id!="advanced_serach"){$(".text-filter-box-class").hide();}}catch(b){}});$("#tp-admin-crs-search-textsearch").live("keypress",function(d){var f=$("#program_attach_tabs .ui-state-active").attr("id");var b=f.split("-");var c=$('input[name="mapped_program_id"]').val();var a=$("#hiddengptype").val();$("#tp-admin-crs-search-textsearch").autocomplete("/?q=administration/learning/program/course-autocomplete/"+c+"/"+b[2]+"/&search_type="+a+"",{minChars:3,max:50,autoFill:true,mustMatch:false,matchContains:false,inputClass:"ac_input",loadingClass:"ac_loading"});});(function(a){a.fn.postPagination=function(l,c,p,v){try{if(c=="tab_paginate"){var w=a("#dummy-tab-content").html();var h=a("#dummy-tab-content .tp-module-tab:last").index();a("#dummy-tab-content").remove();a("#exp_sp_administration_program_attaching_courses #program_attach_tabs ul li:eq(0)").after(w);var f=a("#dummy-course-content").html();a("#dummy-course-content").remove();
a("#page-container-tabs-prg #exp_sp_administration_program_attaching_courses").after(f);var d=a("#program_attach_tabs .admin-module-navigation .tp-module-tab").size();a("#program_attach_tabs .visible-main-tab").removeClass("visible-main-tab").addClass("hidden-main-tab");for(var r=h;r<(h+4);r++){a("#program_attach_tabs ul li:eq("+(r+1)+")").removeClass("hidden-main-tab").addClass("visible-main-tab");}var k=a("#program_attach_tabs .ui-state-active").index();if(!a("#program_attach_tabs li:eq("+k+")").hasClass("visible-main-tab")){k=k-1;}a("#page-container-tabs-prg").tabs("destroy");a("#page-container-tabs-prg").tabs({selected:k-1});var m=a("#program_attach_tabs .ui-state-active").attr("id");var q=m.split("-");moduleTabclick(q[2]);a.each(l,function(i,e){a("#"+i).removeClass("ajax-processed");Drupal.attachBehaviors("#"+i,e);});EXPERTUS_SMARTPORTAL_AbstractDetailsWidget.destroyLoader("attach_course_dt");}else{if(c=="add_tabs"){var w=a("#dummy-tab-content").html();var u=a("#attach_course_dt .first-arrow").size();
a("#dummy-tab-content").remove();a("#exp_sp_administration_program_attaching_courses #program_attach_tabs ul .ui-corner-top:last").after(w);if(u>0&&a(".first-arrow").size()<=1){var b=a(".first-arrow")[0].outerHTML;a("#exp_sp_administration_program_attaching_courses #program_attach_tabs ul .first-arrow").remove();a("#exp_sp_administration_program_attaching_courses #program_attach_tabs ul .ui-corner-top:first").before(b);a(".first-arrow").removeClass("first-reached");}else{if(u>0){if(a(".last-arrow").size()==2){a(".first-arrow:last").remove();a(".last-arrow:last").remove();}a(".first-arrow").removeClass("first-reached");}}var f=a("#dummy-course-content").html();a("#dummy-course-content").remove();a("#page-container-tabs-prg .module-course-lists:last").after(f);var d=a("#program_attach_tabs .admin-module-navigation .tp-module-tab").size();a("#program_attach_tabs .visible-main-tab").removeClass("visible-main-tab").addClass("hidden-main-tab");for(var r=4;r>0;r--){var o=a(".first-arrow").size()>0?(d-r)+1:(d-r);
a("#program_attach_tabs ul li:eq("+(o)+")").removeClass("hidden-main-tab").addClass("visible-main-tab");}activeLiLast=a("#program_attach_tabs .visible-main-tab:last").index();activeLiLast=a(".first-arrow").size()>0?activeLiLast:activeLiLast+1;a("#page-container-tabs-prg").tabs("destroy");a("#page-container-tabs-prg").tabs({selected:activeLiLast-1});var m=a("#program_attach_tabs .ui-state-active").attr("id");var q=m.split("-");moduleTabclick(q[2]);a("#page-container-tabs-prg .infinite-loader-container input").removeClass("ajax-processed");a.extend(true,Drupal.settings.ajax,l);a.each(l,function(i,e){a("#"+i).removeClass("ajax-processed");Drupal.attachBehaviors("#"+i,e);});a("#total-modules").val(parseInt(a("#total-modules").val())+1);}else{if(c=="attachgrp"){a(p).html(v);a.each(l,function(i,e){a("#"+i).removeClass("ajax-processed");a("#"+i).unbind("click");Drupal.detachBehaviors("#"+i,e);Drupal.attachBehaviors("#"+i,e);});}else{if(c=="show_more"){v=a.trim(v.replace(/[\t\n]+/g," "));var g=p.split("-");
var n=g[1];if(a(v).find(".drag-grp-head").length>0){a(v).find(".drag-grp-head").each(function(){var e=a(this).attr("id");if(a("#module-course-list-"+n+" #dragndrop-"+n+" #"+e).length>0){a("#module-course-list-"+n+" #dragndrop-"+n+" #"+e+" ul .drag-crs-head:last").after(a(this).find("ul").html());}else{a("#module-course-list-"+n+" #dragndrop-"+n+" .drag-grp-head:last").after(a(this)[0].outerHTML);}});}else{var s=a(v+" #"+p).html();a("#"+p).append(s);}a.each(l,function(i,e){a("#"+i).removeClass("ajax-processed");Drupal.detachBehaviors("#"+i,e);Drupal.attachBehaviors("#"+i,e);});}else{if(c=="show_more_scroll"){a("#"+p).html(v);}}}}}changeArrowStatus();add_module_toggle();}catch(t){}};})(jQuery);