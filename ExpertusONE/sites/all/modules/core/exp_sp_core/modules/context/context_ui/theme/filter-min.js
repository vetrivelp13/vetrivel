(function(a){Drupal.Filter=function(d,e,c,b){this.list=d;this.title=e;if(!c){var c="*";}this.type=c;if(!b){var b=d;}this.parent=b;this.init();};Drupal.Filter.prototype={init:function(){this.wrapper=a('<div class="filter-wrapper"></div>');if(this.title){this.title="<h3>"+this.title+"</h3>";this.wrapper.append(this.title);}this.input=a('<input type="text" class="filter" />');this.wrapper.append(this.input);a(this.parent).append(this.wrapper);this.createHandlers();},createHandlers:function(){var b=this;a(this.input).keyup(function(c){b.filter();});},filter:function(){a("*",this.list).show();if(this.input.val()){a("*",this.list).not(this.type).hide();}var c=new RegExp(this.input.val(),"i");var b=this;a(this.type,this.list).each(function(g,f){var d=b.strip(f.innerHTML);if(!c.test(d)){a(f).hide();}else{var e=a(f).parent().show();a("*",e).not(b.type).show();}});},strip:function(b){var c=/<([^<|^>]*)>/i;while(c.test(b)){var d=b.match(c);b=b.replace(c,"");}return b;}};})(jQuery);